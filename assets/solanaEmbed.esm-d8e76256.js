import{r as Li,a as P_,g as Or,b as T_,c as C_,d as x_,e as L_,f as B_,h as N_,i as M_,j as U_,k as D_,l as F_,m as yl,n as ye,o as K_,p as W_,q as H_,t as z_,u as Cs,P as Gc}from"./index-bad93d90.js";var $_=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,ls=Math.ceil,Pt=Math.floor,xr="[BigNumber Error] ",jc=xr+"Number primitive has more than 15 significant digits: ",pt=1e14,ge=14,hs=9007199254740991,ds=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],hn=1e7,ur=1e9;function ml(t){var o,n,u,a=O.prototype={constructor:O,toString:null,valueOf:null},c=new O(1),_=20,b=4,P=-7,T=21,U=-1e7,F=1e7,M=!1,z=1,H=0,j={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},Y="0123456789abcdefghijklmnopqrstuvwxyz",V=!0;function O(g,v){var p,d,y,S,x,E,I,N,B=this;if(!(B instanceof O))return new O(g,v);if(v==null){if(g&&g._isBigNumber===!0){B.s=g.s,!g.c||g.e>F?B.c=B.e=null:g.e<U?B.c=[B.e=0]:(B.e=g.e,B.c=g.c.slice());return}if((E=typeof g=="number")&&g*0==0){if(B.s=1/g<0?(g=-g,-1):1,g===~~g){for(S=0,x=g;x>=10;x/=10,S++);S>F?B.c=B.e=null:(B.e=S,B.c=[g]);return}N=String(g)}else{if(!$_.test(N=String(g)))return u(B,N,E);B.s=N.charCodeAt(0)==45?(N=N.slice(1),-1):1}(S=N.indexOf("."))>-1&&(N=N.replace(".","")),(x=N.search(/e/i))>0?(S<0&&(S=x),S+=+N.slice(x+1),N=N.substring(0,x)):S<0&&(S=N.length)}else{if(Ve(v,2,Y.length,"Base"),v==10&&V)return B=new O(g),ce(B,_+B.e+1,b);if(N=String(g),E=typeof g=="number"){if(g*0!=0)return u(B,N,E,v);if(B.s=1/g<0?(N=N.slice(1),-1):1,O.DEBUG&&N.replace(/^0\.0*|\./,"").length>15)throw Error(jc+g)}else B.s=N.charCodeAt(0)===45?(N=N.slice(1),-1):1;for(p=Y.slice(0,v),S=x=0,I=N.length;x<I;x++)if(p.indexOf(d=N.charAt(x))<0){if(d=="."){if(x>S){S=I;continue}}else if(!y&&(N==N.toUpperCase()&&(N=N.toLowerCase())||N==N.toLowerCase()&&(N=N.toUpperCase()))){y=!0,x=-1,S=0;continue}return u(B,String(g),E,v)}E=!1,N=n(N,v,10,B.s),(S=N.indexOf("."))>-1?N=N.replace(".",""):S=N.length}for(x=0;N.charCodeAt(x)===48;x++);for(I=N.length;N.charCodeAt(--I)===48;);if(N=N.slice(x,++I)){if(I-=x,E&&O.DEBUG&&I>15&&(g>hs||g!==Pt(g)))throw Error(jc+B.s*g);if((S=S-x-1)>F)B.c=B.e=null;else if(S<U)B.c=[B.e=0];else{if(B.e=S,B.c=[],x=(S+1)%ge,S<0&&(x+=ge),x<I){for(x&&B.c.push(+N.slice(0,x)),I-=ge;x<I;)B.c.push(+N.slice(x,x+=ge));x=ge-(N=N.slice(x)).length}else x-=I;for(;x--;N+="0");B.c.push(+N)}}else B.c=[B.e=0]}O.clone=ml,O.ROUND_UP=0,O.ROUND_DOWN=1,O.ROUND_CEIL=2,O.ROUND_FLOOR=3,O.ROUND_HALF_UP=4,O.ROUND_HALF_DOWN=5,O.ROUND_HALF_EVEN=6,O.ROUND_HALF_CEIL=7,O.ROUND_HALF_FLOOR=8,O.EUCLID=9,O.config=O.set=function(g){var v,p;if(g!=null)if(typeof g=="object"){if(g.hasOwnProperty(v="DECIMAL_PLACES")&&(p=g[v],Ve(p,0,ur,v),_=p),g.hasOwnProperty(v="ROUNDING_MODE")&&(p=g[v],Ve(p,0,8,v),b=p),g.hasOwnProperty(v="EXPONENTIAL_AT")&&(p=g[v],p&&p.pop?(Ve(p[0],-ur,0,v),Ve(p[1],0,ur,v),P=p[0],T=p[1]):(Ve(p,-ur,ur,v),P=-(T=p<0?-p:p))),g.hasOwnProperty(v="RANGE"))if(p=g[v],p&&p.pop)Ve(p[0],-ur,-1,v),Ve(p[1],1,ur,v),U=p[0],F=p[1];else if(Ve(p,-ur,ur,v),p)U=-(F=p<0?-p:p);else throw Error(xr+v+" cannot be zero: "+p);if(g.hasOwnProperty(v="CRYPTO"))if(p=g[v],p===!!p)if(p)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))M=p;else throw M=!p,Error(xr+"crypto unavailable");else M=p;else throw Error(xr+v+" not true or false: "+p);if(g.hasOwnProperty(v="MODULO_MODE")&&(p=g[v],Ve(p,0,9,v),z=p),g.hasOwnProperty(v="POW_PRECISION")&&(p=g[v],Ve(p,0,ur,v),H=p),g.hasOwnProperty(v="FORMAT"))if(p=g[v],typeof p=="object")j=p;else throw Error(xr+v+" not an object: "+p);if(g.hasOwnProperty(v="ALPHABET"))if(p=g[v],typeof p=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(p))V=p.slice(0,10)=="0123456789",Y=p;else throw Error(xr+v+" invalid: "+p)}else throw Error(xr+"Object expected: "+g);return{DECIMAL_PLACES:_,ROUNDING_MODE:b,EXPONENTIAL_AT:[P,T],RANGE:[U,F],CRYPTO:M,MODULO_MODE:z,POW_PRECISION:H,FORMAT:j,ALPHABET:Y}},O.isBigNumber=function(g){if(!g||g._isBigNumber!==!0)return!1;if(!O.DEBUG)return!0;var v,p,d=g.c,y=g.e,S=g.s;e:if({}.toString.call(d)=="[object Array]"){if((S===1||S===-1)&&y>=-ur&&y<=ur&&y===Pt(y)){if(d[0]===0){if(y===0&&d.length===1)return!0;break e}if(v=(y+1)%ge,v<1&&(v+=ge),String(d[0]).length==v){for(v=0;v<d.length;v++)if(p=d[v],p<0||p>=pt||p!==Pt(p))break e;if(p!==0)return!0}}}else if(d===null&&y===null&&(S===null||S===1||S===-1))return!0;throw Error(xr+"Invalid BigNumber: "+g)},O.maximum=O.max=function(){return Z(arguments,a.lt)},O.minimum=O.min=function(){return Z(arguments,a.gt)},O.random=function(){var g=9007199254740992,v=Math.random()*g&2097151?function(){return Pt(Math.random()*g)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(p){var d,y,S,x,E,I=0,N=[],B=new O(c);if(p==null?p=_:Ve(p,0,ur),x=ls(p/ge),M)if(crypto.getRandomValues){for(d=crypto.getRandomValues(new Uint32Array(x*=2));I<x;)E=d[I]*131072+(d[I+1]>>>11),E>=9e15?(y=crypto.getRandomValues(new Uint32Array(2)),d[I]=y[0],d[I+1]=y[1]):(N.push(E%1e14),I+=2);I=x/2}else if(crypto.randomBytes){for(d=crypto.randomBytes(x*=7);I<x;)E=(d[I]&31)*281474976710656+d[I+1]*1099511627776+d[I+2]*4294967296+d[I+3]*16777216+(d[I+4]<<16)+(d[I+5]<<8)+d[I+6],E>=9e15?crypto.randomBytes(7).copy(d,I):(N.push(E%1e14),I+=7);I=x/7}else throw M=!1,Error(xr+"crypto unavailable");if(!M)for(;I<x;)E=v(),E<9e15&&(N[I++]=E%1e14);for(x=N[--I],p%=ge,x&&p&&(E=ds[ge-p],N[I]=Pt(x/E)*E);N[I]===0;N.pop(),I--);if(I<0)N=[S=0];else{for(S=-1;N[0]===0;N.splice(0,1),S-=ge);for(I=1,E=N[0];E>=10;E/=10,I++);I<ge&&(S-=ge-I)}return B.e=S,B.c=N,B}}(),O.sum=function(){for(var g=1,v=arguments,p=new O(v[0]);g<v.length;)p=p.plus(v[g++]);return p},n=function(){var g="0123456789";function v(p,d,y,S){for(var x,E=[0],I,N=0,B=p.length;N<B;){for(I=E.length;I--;E[I]*=d);for(E[0]+=S.indexOf(p.charAt(N++)),x=0;x<E.length;x++)E[x]>y-1&&(E[x+1]==null&&(E[x+1]=0),E[x+1]+=E[x]/y|0,E[x]%=y)}return E.reverse()}return function(p,d,y,S,x){var E,I,N,B,k,re,X,me,oe=p.indexOf("."),Ke=_,le=b;for(oe>=0&&(B=H,H=0,p=p.replace(".",""),me=new O(d),re=me.pow(p.length-oe),H=B,me.c=v(Jt(nt(re.c),re.e,"0"),10,y,g),me.e=me.c.length),X=v(p,d,y,x?(E=Y,g):(E=g,Y)),N=B=X.length;X[--B]==0;X.pop());if(!X[0])return E.charAt(0);if(oe<0?--N:(re.c=X,re.e=N,re.s=S,re=o(re,me,Ke,le,y),X=re.c,k=re.r,N=re.e),I=N+Ke+1,oe=X[I],B=y/2,k=k||I<0||X[I+1]!=null,k=le<4?(oe!=null||k)&&(le==0||le==(re.s<0?3:2)):oe>B||oe==B&&(le==4||k||le==6&&X[I-1]&1||le==(re.s<0?8:7)),I<1||!X[0])p=k?Jt(E.charAt(1),-Ke,E.charAt(0)):E.charAt(0);else{if(X.length=I,k)for(--y;++X[--I]>y;)X[I]=0,I||(++N,X=[1].concat(X));for(B=X.length;!X[--B];);for(oe=0,p="";oe<=B;p+=E.charAt(X[oe++]));p=Jt(p,N,E.charAt(0))}return p}}(),o=function(){function g(d,y,S){var x,E,I,N,B=0,k=d.length,re=y%hn,X=y/hn|0;for(d=d.slice();k--;)I=d[k]%hn,N=d[k]/hn|0,x=X*I+N*re,E=re*I+x%hn*hn+B,B=(E/S|0)+(x/hn|0)+X*N,d[k]=E%S;return B&&(d=[B].concat(d)),d}function v(d,y,S,x){var E,I;if(S!=x)I=S>x?1:-1;else for(E=I=0;E<S;E++)if(d[E]!=y[E]){I=d[E]>y[E]?1:-1;break}return I}function p(d,y,S,x){for(var E=0;S--;)d[S]-=E,E=d[S]<y[S]?1:0,d[S]=E*x+d[S]-y[S];for(;!d[0]&&d.length>1;d.splice(0,1));}return function(d,y,S,x,E){var I,N,B,k,re,X,me,oe,Ke,le,pe,ke,er,_r,kr,Ye,cr,Qe=d.s==y.s?1:-1,Ce=d.c,Te=y.c;if(!Ce||!Ce[0]||!Te||!Te[0])return new O(!d.s||!y.s||(Ce?Te&&Ce[0]==Te[0]:!Te)?NaN:Ce&&Ce[0]==0||!Te?Qe*0:Qe/0);for(oe=new O(Qe),Ke=oe.c=[],N=d.e-y.e,Qe=S+N+1,E||(E=pt,N=ot(d.e/ge)-ot(y.e/ge),Qe=Qe/ge|0),B=0;Te[B]==(Ce[B]||0);B++);if(Te[B]>(Ce[B]||0)&&N--,Qe<0)Ke.push(1),k=!0;else{for(_r=Ce.length,Ye=Te.length,B=0,Qe+=2,re=Pt(E/(Te[0]+1)),re>1&&(Te=g(Te,re,E),Ce=g(Ce,re,E),Ye=Te.length,_r=Ce.length),er=Ye,le=Ce.slice(0,Ye),pe=le.length;pe<Ye;le[pe++]=0);cr=Te.slice(),cr=[0].concat(cr),kr=Te[0],Te[1]>=E/2&&kr++;do{if(re=0,I=v(Te,le,Ye,pe),I<0){if(ke=le[0],Ye!=pe&&(ke=ke*E+(le[1]||0)),re=Pt(ke/kr),re>1)for(re>=E&&(re=E-1),X=g(Te,re,E),me=X.length,pe=le.length;v(X,le,me,pe)==1;)re--,p(X,Ye<me?cr:Te,me,E),me=X.length,I=1;else re==0&&(I=re=1),X=Te.slice(),me=X.length;if(me<pe&&(X=[0].concat(X)),p(le,X,pe,E),pe=le.length,I==-1)for(;v(Te,le,Ye,pe)<1;)re++,p(le,Ye<pe?cr:Te,pe,E),pe=le.length}else I===0&&(re++,le=[0]);Ke[B++]=re,le[0]?le[pe++]=Ce[er]||0:(le=[Ce[er]],pe=1)}while((er++<_r||le[0]!=null)&&Qe--);k=le[0]!=null,Ke[0]||Ke.splice(0,1)}if(E==pt){for(B=1,Qe=Ke[0];Qe>=10;Qe/=10,B++);ce(oe,S+(oe.e=B+N*ge-1)+1,x,k)}else oe.e=N,oe.r=+k;return oe}}();function ie(g,v,p,d){var y,S,x,E,I;if(p==null?p=b:Ve(p,0,8),!g.c)return g.toString();if(y=g.c[0],x=g.e,v==null)I=nt(g.c),I=d==1||d==2&&(x<=P||x>=T)?Ou(I,x):Jt(I,x,"0");else if(g=ce(new O(g),v,p),S=g.e,I=nt(g.c),E=I.length,d==1||d==2&&(v<=S||S<=P)){for(;E<v;I+="0",E++);I=Ou(I,S)}else if(v-=x,I=Jt(I,S,"0"),S+1>E){if(--v>0)for(I+=".";v--;I+="0");}else if(v+=S-E,v>0)for(S+1==E&&(I+=".");v--;I+="0");return g.s<0&&y?"-"+I:I}function Z(g,v){for(var p,d=1,y=new O(g[0]);d<g.length;d++)if(p=new O(g[d]),p.s)v.call(y,p)&&(y=p);else{y=p;break}return y}function ue(g,v,p){for(var d=1,y=v.length;!v[--y];v.pop());for(y=v[0];y>=10;y/=10,d++);return(p=d+p*ge-1)>F?g.c=g.e=null:p<U?g.c=[g.e=0]:(g.e=p,g.c=v),g}u=function(){var g=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,p=/^\.([^.]+)$/,d=/^-?(Infinity|NaN)$/,y=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(S,x,E,I){var N,B=E?x:x.replace(y,"");if(d.test(B))S.s=isNaN(B)?null:B<0?-1:1;else{if(!E&&(B=B.replace(g,function(k,re,X){return N=(X=X.toLowerCase())=="x"?16:X=="b"?2:8,!I||I==N?re:k}),I&&(N=I,B=B.replace(v,"$1").replace(p,"0.$1")),x!=B))return new O(B,N);if(O.DEBUG)throw Error(xr+"Not a"+(I?" base "+I:"")+" number: "+x);S.s=null}S.c=S.e=null}}();function ce(g,v,p,d){var y,S,x,E,I,N,B,k=g.c,re=ds;if(k){e:{for(y=1,E=k[0];E>=10;E/=10,y++);if(S=v-y,S<0)S+=ge,x=v,I=k[N=0],B=I/re[y-x-1]%10|0;else if(N=ls((S+1)/ge),N>=k.length)if(d){for(;k.length<=N;k.push(0));I=B=0,y=1,S%=ge,x=S-ge+1}else break e;else{for(I=E=k[N],y=1;E>=10;E/=10,y++);S%=ge,x=S-ge+y,B=x<0?0:I/re[y-x-1]%10|0}if(d=d||v<0||k[N+1]!=null||(x<0?I:I%re[y-x-1]),d=p<4?(B||d)&&(p==0||p==(g.s<0?3:2)):B>5||B==5&&(p==4||d||p==6&&(S>0?x>0?I/re[y-x]:0:k[N-1])%10&1||p==(g.s<0?8:7)),v<1||!k[0])return k.length=0,d?(v-=g.e+1,k[0]=re[(ge-v%ge)%ge],g.e=-v||0):k[0]=g.e=0,g;if(S==0?(k.length=N,E=1,N--):(k.length=N+1,E=re[ge-S],k[N]=x>0?Pt(I/re[y-x]%re[x])*E:0),d)for(;;)if(N==0){for(S=1,x=k[0];x>=10;x/=10,S++);for(x=k[0]+=E,E=1;x>=10;x/=10,E++);S!=E&&(g.e++,k[0]==pt&&(k[0]=1));break}else{if(k[N]+=E,k[N]!=pt)break;k[N--]=0,E=1}for(S=k.length;k[--S]===0;k.pop());}g.e>F?g.c=g.e=null:g.e<U&&(g.c=[g.e=0])}return g}function Ne(g){var v,p=g.e;return p===null?g.toString():(v=nt(g.c),v=p<=P||p>=T?Ou(v,p):Jt(v,p,"0"),g.s<0?"-"+v:v)}return a.absoluteValue=a.abs=function(){var g=new O(this);return g.s<0&&(g.s=1),g},a.comparedTo=function(g,v){return Pi(this,new O(g,v))},a.decimalPlaces=a.dp=function(g,v){var p,d,y,S=this;if(g!=null)return Ve(g,0,ur),v==null?v=b:Ve(v,0,8),ce(new O(S),g+S.e+1,v);if(!(p=S.c))return null;if(d=((y=p.length-1)-ot(this.e/ge))*ge,y=p[y])for(;y%10==0;y/=10,d--);return d<0&&(d=0),d},a.dividedBy=a.div=function(g,v){return o(this,new O(g,v),_,b)},a.dividedToIntegerBy=a.idiv=function(g,v){return o(this,new O(g,v),0,1)},a.exponentiatedBy=a.pow=function(g,v){var p,d,y,S,x,E,I,N,B,k=this;if(g=new O(g),g.c&&!g.isInteger())throw Error(xr+"Exponent not an integer: "+Ne(g));if(v!=null&&(v=new O(v)),E=g.e>14,!k.c||!k.c[0]||k.c[0]==1&&!k.e&&k.c.length==1||!g.c||!g.c[0])return B=new O(Math.pow(+Ne(k),E?g.s*(2-Su(g)):+Ne(g))),v?B.mod(v):B;if(I=g.s<0,v){if(v.c?!v.c[0]:!v.s)return new O(NaN);d=!I&&k.isInteger()&&v.isInteger(),d&&(k=k.mod(v))}else{if(g.e>9&&(k.e>0||k.e<-1||(k.e==0?k.c[0]>1||E&&k.c[1]>=24e7:k.c[0]<8e13||E&&k.c[0]<=9999975e7)))return S=k.s<0&&Su(g)?-0:0,k.e>-1&&(S=1/S),new O(I?1/S:S);H&&(S=ls(H/ge+2))}for(E?(p=new O(.5),I&&(g.s=1),N=Su(g)):(y=Math.abs(+Ne(g)),N=y%2),B=new O(c);;){if(N){if(B=B.times(k),!B.c)break;S?B.c.length>S&&(B.c.length=S):d&&(B=B.mod(v))}if(y){if(y=Pt(y/2),y===0)break;N=y%2}else if(g=g.times(p),ce(g,g.e+1,1),g.e>14)N=Su(g);else{if(y=+Ne(g),y===0)break;N=y%2}k=k.times(k),S?k.c&&k.c.length>S&&(k.c.length=S):d&&(k=k.mod(v))}return d?B:(I&&(B=c.div(B)),v?B.mod(v):S?ce(B,H,b,x):B)},a.integerValue=function(g){var v=new O(this);return g==null?g=b:Ve(g,0,8),ce(v,v.e+1,g)},a.isEqualTo=a.eq=function(g,v){return Pi(this,new O(g,v))===0},a.isFinite=function(){return!!this.c},a.isGreaterThan=a.gt=function(g,v){return Pi(this,new O(g,v))>0},a.isGreaterThanOrEqualTo=a.gte=function(g,v){return(v=Pi(this,new O(g,v)))===1||v===0},a.isInteger=function(){return!!this.c&&ot(this.e/ge)>this.c.length-2},a.isLessThan=a.lt=function(g,v){return Pi(this,new O(g,v))<0},a.isLessThanOrEqualTo=a.lte=function(g,v){return(v=Pi(this,new O(g,v)))===-1||v===0},a.isNaN=function(){return!this.s},a.isNegative=function(){return this.s<0},a.isPositive=function(){return this.s>0},a.isZero=function(){return!!this.c&&this.c[0]==0},a.minus=function(g,v){var p,d,y,S,x=this,E=x.s;if(g=new O(g,v),v=g.s,!E||!v)return new O(NaN);if(E!=v)return g.s=-v,x.plus(g);var I=x.e/ge,N=g.e/ge,B=x.c,k=g.c;if(!I||!N){if(!B||!k)return B?(g.s=-v,g):new O(k?x:NaN);if(!B[0]||!k[0])return k[0]?(g.s=-v,g):new O(B[0]?x:b==3?-0:0)}if(I=ot(I),N=ot(N),B=B.slice(),E=I-N){for((S=E<0)?(E=-E,y=B):(N=I,y=k),y.reverse(),v=E;v--;y.push(0));y.reverse()}else for(d=(S=(E=B.length)<(v=k.length))?E:v,E=v=0;v<d;v++)if(B[v]!=k[v]){S=B[v]<k[v];break}if(S&&(y=B,B=k,k=y,g.s=-g.s),v=(d=k.length)-(p=B.length),v>0)for(;v--;B[p++]=0);for(v=pt-1;d>E;){if(B[--d]<k[d]){for(p=d;p&&!B[--p];B[p]=v);--B[p],B[d]+=pt}B[d]-=k[d]}for(;B[0]==0;B.splice(0,1),--N);return B[0]?ue(g,B,N):(g.s=b==3?-1:1,g.c=[g.e=0],g)},a.modulo=a.mod=function(g,v){var p,d,y=this;return g=new O(g,v),!y.c||!g.s||g.c&&!g.c[0]?new O(NaN):!g.c||y.c&&!y.c[0]?new O(y):(z==9?(d=g.s,g.s=1,p=o(y,g,0,3),g.s=d,p.s*=d):p=o(y,g,0,z),g=y.minus(p.times(g)),!g.c[0]&&z==1&&(g.s=y.s),g)},a.multipliedBy=a.times=function(g,v){var p,d,y,S,x,E,I,N,B,k,re,X,me,oe,Ke,le=this,pe=le.c,ke=(g=new O(g,v)).c;if(!pe||!ke||!pe[0]||!ke[0])return!le.s||!g.s||pe&&!pe[0]&&!ke||ke&&!ke[0]&&!pe?g.c=g.e=g.s=null:(g.s*=le.s,!pe||!ke?g.c=g.e=null:(g.c=[0],g.e=0)),g;for(d=ot(le.e/ge)+ot(g.e/ge),g.s*=le.s,I=pe.length,k=ke.length,I<k&&(me=pe,pe=ke,ke=me,y=I,I=k,k=y),y=I+k,me=[];y--;me.push(0));for(oe=pt,Ke=hn,y=k;--y>=0;){for(p=0,re=ke[y]%Ke,X=ke[y]/Ke|0,x=I,S=y+x;S>y;)N=pe[--x]%Ke,B=pe[x]/Ke|0,E=X*N+B*re,N=re*N+E%Ke*Ke+me[S]+p,p=(N/oe|0)+(E/Ke|0)+X*B,me[S--]=N%oe;me[S]=p}return p?++d:me.splice(0,1),ue(g,me,d)},a.negated=function(){var g=new O(this);return g.s=-g.s||null,g},a.plus=function(g,v){var p,d=this,y=d.s;if(g=new O(g,v),v=g.s,!y||!v)return new O(NaN);if(y!=v)return g.s=-v,d.minus(g);var S=d.e/ge,x=g.e/ge,E=d.c,I=g.c;if(!S||!x){if(!E||!I)return new O(y/0);if(!E[0]||!I[0])return I[0]?g:new O(E[0]?d:y*0)}if(S=ot(S),x=ot(x),E=E.slice(),y=S-x){for(y>0?(x=S,p=I):(y=-y,p=E),p.reverse();y--;p.push(0));p.reverse()}for(y=E.length,v=I.length,y-v<0&&(p=I,I=E,E=p,v=y),y=0;v;)y=(E[--v]=E[v]+I[v]+y)/pt|0,E[v]=pt===E[v]?0:E[v]%pt;return y&&(E=[y].concat(E),++x),ue(g,E,x)},a.precision=a.sd=function(g,v){var p,d,y,S=this;if(g!=null&&g!==!!g)return Ve(g,1,ur),v==null?v=b:Ve(v,0,8),ce(new O(S),g,v);if(!(p=S.c))return null;if(y=p.length-1,d=y*ge+1,y=p[y]){for(;y%10==0;y/=10,d--);for(y=p[0];y>=10;y/=10,d++);}return g&&S.e+1>d&&(d=S.e+1),d},a.shiftedBy=function(g){return Ve(g,-hs,hs),this.times("1e"+g)},a.squareRoot=a.sqrt=function(){var g,v,p,d,y,S=this,x=S.c,E=S.s,I=S.e,N=_+4,B=new O("0.5");if(E!==1||!x||!x[0])return new O(!E||E<0&&(!x||x[0])?NaN:x?S:1/0);if(E=Math.sqrt(+Ne(S)),E==0||E==1/0?(v=nt(x),(v.length+I)%2==0&&(v+="0"),E=Math.sqrt(+v),I=ot((I+1)/2)-(I<0||I%2),E==1/0?v="5e"+I:(v=E.toExponential(),v=v.slice(0,v.indexOf("e")+1)+I),p=new O(v)):p=new O(E+""),p.c[0]){for(I=p.e,E=I+N,E<3&&(E=0);;)if(y=p,p=B.times(y.plus(o(S,y,N,1))),nt(y.c).slice(0,E)===(v=nt(p.c)).slice(0,E))if(p.e<I&&--E,v=v.slice(E-3,E+1),v=="9999"||!d&&v=="4999"){if(!d&&(ce(y,y.e+_+2,0),y.times(y).eq(S))){p=y;break}N+=4,E+=4,d=1}else{(!+v||!+v.slice(1)&&v.charAt(0)=="5")&&(ce(p,p.e+_+2,1),g=!p.times(p).eq(S));break}}return ce(p,p.e+_+1,b,g)},a.toExponential=function(g,v){return g!=null&&(Ve(g,0,ur),g++),ie(this,g,v,1)},a.toFixed=function(g,v){return g!=null&&(Ve(g,0,ur),g=g+this.e+1),ie(this,g,v)},a.toFormat=function(g,v,p){var d,y=this;if(p==null)g!=null&&v&&typeof v=="object"?(p=v,v=null):g&&typeof g=="object"?(p=g,g=v=null):p=j;else if(typeof p!="object")throw Error(xr+"Argument not an object: "+p);if(d=y.toFixed(g,v),y.c){var S,x=d.split("."),E=+p.groupSize,I=+p.secondaryGroupSize,N=p.groupSeparator||"",B=x[0],k=x[1],re=y.s<0,X=re?B.slice(1):B,me=X.length;if(I&&(S=E,E=I,I=S,me-=S),E>0&&me>0){for(S=me%E||E,B=X.substr(0,S);S<me;S+=E)B+=N+X.substr(S,E);I>0&&(B+=N+X.slice(S)),re&&(B="-"+B)}d=k?B+(p.decimalSeparator||"")+((I=+p.fractionGroupSize)?k.replace(new RegExp("\\d{"+I+"}\\B","g"),"$&"+(p.fractionGroupSeparator||"")):k):B}return(p.prefix||"")+d+(p.suffix||"")},a.toFraction=function(g){var v,p,d,y,S,x,E,I,N,B,k,re,X=this,me=X.c;if(g!=null&&(E=new O(g),!E.isInteger()&&(E.c||E.s!==1)||E.lt(c)))throw Error(xr+"Argument "+(E.isInteger()?"out of range: ":"not an integer: ")+Ne(E));if(!me)return new O(X);for(v=new O(c),N=p=new O(c),d=I=new O(c),re=nt(me),S=v.e=re.length-X.e-1,v.c[0]=ds[(x=S%ge)<0?ge+x:x],g=!g||E.comparedTo(v)>0?S>0?v:N:E,x=F,F=1/0,E=new O(re),I.c[0]=0;B=o(E,v,0,1),y=p.plus(B.times(d)),y.comparedTo(g)!=1;)p=d,d=y,N=I.plus(B.times(y=N)),I=y,v=E.minus(B.times(y=v)),E=y;return y=o(g.minus(p),d,0,1),I=I.plus(y.times(N)),p=p.plus(y.times(d)),I.s=N.s=X.s,S=S*2,k=o(N,d,S,b).minus(X).abs().comparedTo(o(I,p,S,b).minus(X).abs())<1?[N,d]:[I,p],F=x,k},a.toNumber=function(){return+Ne(this)},a.toPrecision=function(g,v){return g!=null&&Ve(g,1,ur),ie(this,g,v,2)},a.toString=function(g){var v,p=this,d=p.s,y=p.e;return y===null?d?(v="Infinity",d<0&&(v="-"+v)):v="NaN":(g==null?v=y<=P||y>=T?Ou(nt(p.c),y):Jt(nt(p.c),y,"0"):g===10&&V?(p=ce(new O(p),_+y+1,b),v=Jt(nt(p.c),p.e,"0")):(Ve(g,2,Y.length,"Base"),v=n(Jt(nt(p.c),y,"0"),10,g,d,!0)),d<0&&p.c[0]&&(v="-"+v)),v},a.valueOf=a.toJSON=function(){return Ne(this)},a._isBigNumber=!0,a[Symbol.toStringTag]="BigNumber",a[Symbol.for("nodejs.util.inspect.custom")]=a.valueOf,t!=null&&O.set(t),O}function ot(t){var o=t|0;return t>0||t===o?o:o-1}function nt(t){for(var o,n,u=1,a=t.length,c=t[0]+"";u<a;){for(o=t[u++]+"",n=ge-o.length;n--;o="0"+o);c+=o}for(a=c.length;c.charCodeAt(--a)===48;);return c.slice(0,a+1||1)}function Pi(t,o){var n,u,a=t.c,c=o.c,_=t.s,b=o.s,P=t.e,T=o.e;if(!_||!b)return null;if(n=a&&!a[0],u=c&&!c[0],n||u)return n?u?0:-b:_;if(_!=b)return _;if(n=_<0,u=P==T,!a||!c)return u?0:!a^n?1:-1;if(!u)return P>T^n?1:-1;for(b=(P=a.length)<(T=c.length)?P:T,_=0;_<b;_++)if(a[_]!=c[_])return a[_]>c[_]^n?1:-1;return P==T?0:P>T^n?1:-1}function Ve(t,o,n,u){if(t<o||t>n||t!==Pt(t))throw Error(xr+(u||"Argument")+(typeof t=="number"?t<o||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Su(t){var o=t.c.length-1;return ot(t.e/ge)==o&&t.c[o]%2!=0}function Ou(t,o){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(o<0?"e":"e+")+o}function Jt(t,o,n){var u,a;if(o<0){for(a=n+".";++o;a+=n);t=a+t}else if(u=t.length,++o>u){for(a=n,o-=u;--o;a+=n);t+=a}else o<u&&(t=t.slice(0,o)+"."+t.slice(o));return t}ml();var q_={exports:{}},xs={},Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});function k_(t){var o=4,n=t.length,u=n%o;if(!u)return t;var a=n,c=o-u,_=n+c,b=Buffer.alloc(_);for(b.write(t);c--;)b.write("=",a++);return b.toString()}Ls.default=k_;Object.defineProperty(xs,"__esModule",{value:!0});var G_=Ls;function bl(t,o){return o===void 0&&(o="utf8"),Buffer.isBuffer(t)?ms(t.toString("base64")):ms(Buffer.from(t,o).toString("base64"))}function j_(t,o){return o===void 0&&(o="utf8"),Buffer.from(Bs(t),"base64").toString(o)}function Bs(t){return t=t.toString(),G_.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function ms(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function V_(t){return Buffer.from(Bs(t),"base64")}var Bi=bl;Bi.encode=bl;Bi.decode=j_;Bi.toBase64=Bs;Bi.fromBase64=ms;Bi.toBuffer=V_;xs.default=Bi;(function(t){t.exports=xs.default,t.exports.default=t.exports})(q_);const{Transform:Z_}=Li;var Y_=t=>class El extends Z_{constructor(n,u,a,c,_){super(_),this._rate=n,this._capacity=u,this._delimitedSuffix=a,this._hashBitLength=c,this._options=_,this._state=new t,this._state.initialize(n,u),this._finalized=!1}_transform(n,u,a){let c=null;try{this.update(n,u)}catch(_){c=_}a(c)}_flush(n){let u=null;try{this.push(this.digest())}catch(a){u=a}n(u)}update(n,u){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,u)),this._state.absorb(n),this}digest(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let u=this._state.squeeze(this._hashBitLength/8);return n!==void 0&&(u=u.toString(n)),this._resetState(),u}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new El(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const{Transform:J_}=Li;var X_=t=>class Al extends J_{constructor(n,u,a,c){super(c),this._rate=n,this._capacity=u,this._delimitedSuffix=a,this._options=c,this._state=new t,this._state.initialize(n,u),this._finalized=!1}_transform(n,u,a){let c=null;try{this.update(n,u)}catch(_){c=_}a(c)}_flush(){}_read(n){this.push(this.squeeze(n))}update(n,u){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,u)),this._state.absorb(n),this}squeeze(n,u){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let a=this._state.squeeze(n);return u!==void 0&&(a=a.toString(u)),a}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new Al(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const Q_=Y_,e1=X_;var r1=function(t){const o=Q_(t),n=e1(t);return function(u,a){switch(typeof u=="string"?u.toLowerCase():u){case"keccak224":return new o(1152,448,null,224,a);case"keccak256":return new o(1088,512,null,256,a);case"keccak384":return new o(832,768,null,384,a);case"keccak512":return new o(576,1024,null,512,a);case"sha3-224":return new o(1152,448,6,224,a);case"sha3-256":return new o(1088,512,6,256,a);case"sha3-384":return new o(832,768,6,384,a);case"sha3-512":return new o(576,1024,6,512,a);case"shake128":return new n(1344,256,31,a);case"shake256":return new n(1088,512,31,a);default:throw new Error("Invald algorithm: "+u)}}},Sl={};const Vc=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Sl.p1600=function(t){for(let o=0;o<24;++o){const n=t[0]^t[10]^t[20]^t[30]^t[40],u=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],c=t[3]^t[13]^t[23]^t[33]^t[43],_=t[4]^t[14]^t[24]^t[34]^t[44],b=t[5]^t[15]^t[25]^t[35]^t[45],P=t[6]^t[16]^t[26]^t[36]^t[46],T=t[7]^t[17]^t[27]^t[37]^t[47],U=t[8]^t[18]^t[28]^t[38]^t[48],F=t[9]^t[19]^t[29]^t[39]^t[49];let M=U^(a<<1|c>>>31),z=F^(c<<1|a>>>31);const H=t[0]^M,j=t[1]^z,Y=t[10]^M,V=t[11]^z,O=t[20]^M,ie=t[21]^z,Z=t[30]^M,ue=t[31]^z,ce=t[40]^M,Ne=t[41]^z;M=n^(_<<1|b>>>31),z=u^(b<<1|_>>>31);const g=t[2]^M,v=t[3]^z,p=t[12]^M,d=t[13]^z,y=t[22]^M,S=t[23]^z,x=t[32]^M,E=t[33]^z,I=t[42]^M,N=t[43]^z;M=a^(P<<1|T>>>31),z=c^(T<<1|P>>>31);const B=t[4]^M,k=t[5]^z,re=t[14]^M,X=t[15]^z,me=t[24]^M,oe=t[25]^z,Ke=t[34]^M,le=t[35]^z,pe=t[44]^M,ke=t[45]^z;M=_^(U<<1|F>>>31),z=b^(F<<1|U>>>31);const er=t[6]^M,_r=t[7]^z,kr=t[16]^M,Ye=t[17]^z,cr=t[26]^M,Qe=t[27]^z,Ce=t[36]^M,Te=t[37]^z,ii=t[46]^M,Rr=t[47]^z;M=P^(n<<1|u>>>31),z=T^(u<<1|n>>>31);const wn=t[8]^M,oi=t[9]^z,Br=t[18]^M,nr=t[19]^z,Nr=t[28]^M,ar=t[29]^z,yn=t[38]^M,ft=t[39]^z,ui=t[48]^M,wt=t[49]^z,wr=H,yt=j,mt=V<<4|Y>>>28,bt=Y<<4|V>>>28,Et=O<<3|ie>>>29,At=ie<<3|O>>>29,Nt=ue<<9|Z>>>23,Mt=Z<<9|ue>>>23,yr=ce<<18|Ne>>>14,Gr=Ne<<18|ce>>>14,mn=g<<1|v>>>31,Xt=v<<1|g>>>31,bn=d<<12|p>>>20,Ut=p<<12|d>>>20,jr=y<<10|S>>>22,En=S<<10|y>>>22,Mr=E<<13|x>>>19,An=x<<13|E>>>19,Sn=I<<2|N>>>30,Qt=N<<2|I>>>30,On=k<<30|B>>>2,Rn=B<<30|k>>>2,mr=re<<6|X>>>26,Dt=X<<6|re>>>26,In=oe<<11|me>>>21,Ft=me<<11|oe>>>21,Pn=Ke<<15|le>>>17,Tn=le<<15|Ke>>>17,Vr=ke<<29|pe>>>3,Cn=pe<<29|ke>>>3,xn=er<<28|_r>>>4,Ln=_r<<28|er>>>4,Bn=Ye<<23|kr>>>9,Nn=kr<<23|Ye>>>9,Ur=cr<<25|Qe>>>7,Mn=Qe<<25|cr>>>7,Un=Ce<<21|Te>>>11,Dn=Te<<21|Ce>>>11,Fn=Rr<<24|ii>>>8,Kn=ii<<24|Rr>>>8,Wn=wn<<27|oi>>>5,Zr=oi<<27|wn>>>5,Hn=Br<<20|nr>>>12,Dr=nr<<20|Br>>>12,Kt=ar<<7|Nr>>>25,zn=Nr<<7|ar>>>25,St=yn<<8|ft>>>24,Wt=ft<<8|yn>>>24,en=ui<<14|wt>>>18,rn=wt<<14|ui>>>18;t[0]=wr^~bn&In,t[1]=yt^~Ut&Ft,t[10]=xn^~Hn&Et,t[11]=Ln^~Dr&At,t[20]=mn^~mr&Ur,t[21]=Xt^~Dt&Mn,t[30]=Wn^~mt&jr,t[31]=Zr^~bt&En,t[40]=On^~Bn&Kt,t[41]=Rn^~Nn&zn,t[2]=bn^~In&Un,t[3]=Ut^~Ft&Dn,t[12]=Hn^~Et&Mr,t[13]=Dr^~At&An,t[22]=mr^~Ur&St,t[23]=Dt^~Mn&Wt,t[32]=mt^~jr&Pn,t[33]=bt^~En&Tn,t[42]=Bn^~Kt&Nt,t[43]=Nn^~zn&Mt,t[4]=In^~Un&en,t[5]=Ft^~Dn&rn,t[14]=Et^~Mr&Vr,t[15]=At^~An&Cn,t[24]=Ur^~St&yr,t[25]=Mn^~Wt&Gr,t[34]=jr^~Pn&Fn,t[35]=En^~Tn&Kn,t[44]=Kt^~Nt&Sn,t[45]=zn^~Mt&Qt,t[6]=Un^~en&wr,t[7]=Dn^~rn&yt,t[16]=Mr^~Vr&xn,t[17]=An^~Cn&Ln,t[26]=St^~yr&mn,t[27]=Wt^~Gr&Xt,t[36]=Pn^~Fn&Wn,t[37]=Tn^~Kn&Zr,t[46]=Nt^~Sn&On,t[47]=Mt^~Qt&Rn,t[8]=en^~wr&bn,t[9]=rn^~yt&Ut,t[18]=Vr^~xn&Hn,t[19]=Cn^~Ln&Dr,t[28]=yr^~mn&mr,t[29]=Gr^~Xt&Dt,t[38]=Fn^~Wn&mt,t[39]=Kn^~Zr&bt,t[48]=Sn^~On&Bn,t[49]=Qt^~Rn&Nn,t[0]^=Vc[o*2],t[1]^=Vc[o*2+1]}};const Lu=Sl;function Ni(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Ni.prototype.initialize=function(t,o){for(let n=0;n<50;++n)this.state[n]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Ni.prototype.absorb=function(t){for(let o=0;o<t.length;++o)this.state[~~(this.count/4)]^=t[o]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Lu.p1600(this.state),this.count=0)};Ni.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Lu.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Lu.p1600(this.state),this.count=0,this.squeezing=!0};Ni.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const o=Buffer.alloc(t);for(let n=0;n<t;++n)o[n]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Lu.p1600(this.state),this.count=0);return o};Ni.prototype.copy=function(t){for(let o=0;o<50;++o)t.state[o]=this.state[o];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var t1=Ni,n1=r1(t1);function _o(t){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_o(t)}function i1(t,o){if(_o(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var u=n.call(t,o||"default");if(_o(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(t)}function o1(t){var o=i1(t,"string");return _o(o)==="symbol"?o:String(o)}function ne(t,o,n){return o=o1(o),o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}var u1=P_();const Mi=Or(u1);var a1=T_();const Ui=Or(a1);function pr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var s1=C_();const Di=Or(s1);var f1=x_();const Fi=Or(f1);var c1=L_();const st=Or(c1);var l1=B_();const Ol=Or(l1);var h1=N_();const Xn=Or(h1);var d1=M_();const dr=Or(d1),g1=()=>U_(32).toString("hex");function bs(t){return bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bs(t)}function Bu(t,o){return Bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,a){return u.__proto__=a,u},Bu(t,o)}function p1(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function v1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cu(t,o,n){return v1()?Cu=Reflect.construct.bind():Cu=function(a,c,_){var b=[null];b.push.apply(b,c);var P=Function.bind.apply(a,b),T=new P;return _&&Bu(T,_.prototype),T},Cu.apply(null,arguments)}function Es(t){var o=typeof Map=="function"?new Map:void 0;return Es=function(u){if(u===null||!p1(u))return u;if(typeof u!="function")throw new TypeError("Super expression must either be null or a function");if(typeof o<"u"){if(o.has(u))return o.get(u);o.set(u,a)}function a(){return Cu(u,arguments,bs(this).constructor)}return a.prototype=Object.create(u.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Bu(a,u)},Es(t)}var Rl=wo;wo.default=wo;wo.stable=Tl;wo.stableStringify=Tl;var Nu="[...]",Il="[Circular]",ni=[],ti=[];function Pl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function wo(t,o,n,u){typeof u>"u"&&(u=Pl()),As(t,"",0,[],void 0,0,u);var a;try{ti.length===0?a=JSON.stringify(t,o,n):a=JSON.stringify(t,Cl(o),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ni.length!==0;){var c=ni.pop();c.length===4?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return a}function Ci(t,o,n,u){var a=Object.getOwnPropertyDescriptor(u,n);a.get!==void 0?a.configurable?(Object.defineProperty(u,n,{value:t}),ni.push([u,n,o,a])):ti.push([o,n,t]):(u[n]=t,ni.push([u,n,o]))}function As(t,o,n,u,a,c,_){c+=1;var b;if(typeof t=="object"&&t!==null){for(b=0;b<u.length;b++)if(u[b]===t){Ci(Il,t,o,a);return}if(typeof _.depthLimit<"u"&&c>_.depthLimit){Ci(Nu,t,o,a);return}if(typeof _.edgesLimit<"u"&&n+1>_.edgesLimit){Ci(Nu,t,o,a);return}if(u.push(t),Array.isArray(t))for(b=0;b<t.length;b++)As(t[b],b,b,u,t,c,_);else{var P=Object.keys(t);for(b=0;b<P.length;b++){var T=P[b];As(t[T],T,b,u,t,c,_)}}u.pop()}}function _1(t,o){return t<o?-1:t>o?1:0}function Tl(t,o,n,u){typeof u>"u"&&(u=Pl());var a=Ss(t,"",0,[],void 0,0,u)||t,c;try{ti.length===0?c=JSON.stringify(a,o,n):c=JSON.stringify(a,Cl(o),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ni.length!==0;){var _=ni.pop();_.length===4?Object.defineProperty(_[0],_[1],_[3]):_[0][_[1]]=_[2]}}return c}function Ss(t,o,n,u,a,c,_){c+=1;var b;if(typeof t=="object"&&t!==null){for(b=0;b<u.length;b++)if(u[b]===t){Ci(Il,t,o,a);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof _.depthLimit<"u"&&c>_.depthLimit){Ci(Nu,t,o,a);return}if(typeof _.edgesLimit<"u"&&n+1>_.edgesLimit){Ci(Nu,t,o,a);return}if(u.push(t),Array.isArray(t))for(b=0;b<t.length;b++)Ss(t[b],b,b,u,t,c,_);else{var P={},T=Object.keys(t).sort(_1);for(b=0;b<T.length;b++){var U=T[b];Ss(t[U],U,b,u,t,c,_),P[U]=t[U]}if(typeof a<"u")ni.push([a,o,t]),a[o]=P;else return P}u.pop()}}function Cl(t){return t=typeof t<"u"?t:function(o,n){return n},function(o,n){if(ti.length>0)for(var u=0;u<ti.length;u++){var a=ti[u];if(a[1]===o&&a[0]===n){n=a[2],ti.splice(u,1);break}}return t.call(this,o,n)}}const w1=Or(Rl);function y1(t){if(Array.isArray(t))return t}function m1(t,o){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var u,a,c,_,b=[],P=!0,T=!1;try{if(c=(n=n.call(t)).next,o===0){if(Object(n)!==n)return;P=!1}else for(;!(P=(u=c.call(n)).done)&&(b.push(u.value),b.length!==o);P=!0);}catch(U){T=!0,a=U}finally{try{if(!P&&n.return!=null&&(_=n.return(),Object(_)!==_))return}finally{if(T)throw a}}return b}}function Zc(t,o){(o==null||o>t.length)&&(o=t.length);for(var n=0,u=new Array(o);n<o;n++)u[n]=t[n];return u}function b1(t,o){if(t){if(typeof t=="string")return Zc(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zc(t,o)}}function E1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gs(t,o){return y1(t)||m1(t,o)||b1(t,o)||E1()}var _t={},pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.EthereumProviderError=pn.EthereumRpcError=void 0;const A1=Rl;class xl extends Error{constructor(o,n,u){if(!Number.isInteger(o))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=o,u!==void 0&&(this.data=u)}serialize(){const o={code:this.code,message:this.message};return this.data!==void 0&&(o.data=this.data),this.stack&&(o.stack=this.stack),o}toString(){return A1.default(this.serialize(),R1,2)}}pn.EthereumRpcError=xl;class S1 extends xl{constructor(o,n,u){if(!O1(o))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(o,n,u)}}pn.EthereumProviderError=S1;function O1(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function R1(t,o){if(o!=="[Circular]")return o}var Ns={},vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.errorValues=vn.errorCodes=void 0;vn.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};vn.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const o=vn,n=pn,u=o.errorCodes.rpc.internal,a="Unspecified error message. This is a bug, please report it.",c={code:u,message:_(u)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function _(M,z=a){if(Number.isInteger(M)){const H=M.toString();if(F(o.errorValues,H))return o.errorValues[H].message;if(T(M))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return z}t.getMessageFromCode=_;function b(M){if(!Number.isInteger(M))return!1;const z=M.toString();return!!(o.errorValues[z]||T(M))}t.isValidCode=b;function P(M,{fallbackError:z=c,shouldIncludeStack:H=!1}={}){var j,Y;if(!z||!Number.isInteger(z.code)||typeof z.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(M instanceof n.EthereumRpcError)return M.serialize();const V={};if(M&&typeof M=="object"&&!Array.isArray(M)&&F(M,"code")&&b(M.code)){const ie=M;V.code=ie.code,ie.message&&typeof ie.message=="string"?(V.message=ie.message,F(ie,"data")&&(V.data=ie.data)):(V.message=_(V.code),V.data={originalError:U(M)})}else{V.code=z.code;const ie=(j=M)===null||j===void 0?void 0:j.message;V.message=ie&&typeof ie=="string"?ie:z.message,V.data={originalError:U(M)}}const O=(Y=M)===null||Y===void 0?void 0:Y.stack;return H&&M&&O&&typeof O=="string"&&(V.stack=O),V}t.serializeError=P;function T(M){return M>=-32099&&M<=-32e3}function U(M){return M&&typeof M=="object"&&!Array.isArray(M)?Object.assign({},M):M}function F(M,z){return Object.prototype.hasOwnProperty.call(M,z)}})(Ns);var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.ethErrors=void 0;const Ms=pn,Ll=Ns,gr=vn;Ku.ethErrors={rpc:{parse:t=>it(gr.errorCodes.rpc.parse,t),invalidRequest:t=>it(gr.errorCodes.rpc.invalidRequest,t),invalidParams:t=>it(gr.errorCodes.rpc.invalidParams,t),methodNotFound:t=>it(gr.errorCodes.rpc.methodNotFound,t),internal:t=>it(gr.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:o}=t;if(!Number.isInteger(o)||o>-32005||o<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return it(o,t)},invalidInput:t=>it(gr.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>it(gr.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>it(gr.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>it(gr.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>it(gr.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>it(gr.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>fo(gr.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>fo(gr.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>fo(gr.errorCodes.provider.unsupportedMethod,t),disconnected:t=>fo(gr.errorCodes.provider.disconnected,t),chainDisconnected:t=>fo(gr.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:o,message:n,data:u}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Ms.EthereumProviderError(o,n,u)}}};function it(t,o){const[n,u]=Bl(o);return new Ms.EthereumRpcError(t,n||Ll.getMessageFromCode(t),u)}function fo(t,o){const[n,u]=Bl(o);return new Ms.EthereumProviderError(t,n||Ll.getMessageFromCode(t),u)}function Bl(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:o,data:n}=t;if(o&&typeof o!="string")throw new Error("Must specify string message.");return[o||void 0,n]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const o=pn;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return o.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return o.EthereumProviderError}});const n=Ns;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const u=Ku;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return u.ethErrors}});const a=vn;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})})(_t);var Us={exports:{}},I1=Nl;function Nl(t,o){if(t&&o)return Nl(t)(o);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(u){n[u]=t[u]}),n;function n(){for(var u=new Array(arguments.length),a=0;a<u.length;a++)u[a]=arguments[a];var c=t.apply(this,u),_=u[u.length-1];return typeof c=="function"&&c!==_&&Object.keys(_).forEach(function(b){c[b]=_[b]}),c}}var Ml=I1;Us.exports=Ml(xu);Us.exports.strict=Ml(Ul);xu.proto=xu(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return xu(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Ul(this)},configurable:!0})});function xu(t){var o=function(){return o.called?o.value:(o.called=!0,o.value=t.apply(this,arguments))};return o.called=!1,o}function Ul(t){var o=function(){if(o.called)throw new Error(o.onceError);return o.called=!0,o.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return o.onceError=n+" shouldn't be called more than once",o.called=!1,o}var Ds=Us.exports;const P1=Or(Ds);var T1=Ds,C1=function(){},x1=function(t){return t.setHeader&&typeof t.abort=="function"},L1=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},Dl=function(t,o,n){if(typeof o=="function")return Dl(t,null,o);o||(o={}),n=T1(n||C1);var u=t._writableState,a=t._readableState,c=o.readable||o.readable!==!1&&t.readable,_=o.writable||o.writable!==!1&&t.writable,b=!1,P=function(){t.writable||T()},T=function(){_=!1,c||n.call(t)},U=function(){c=!1,_||n.call(t)},F=function(Y){n.call(t,Y?new Error("exited with error code: "+Y):null)},M=function(Y){n.call(t,Y)},z=function(){process.nextTick(H)},H=function(){if(!b){if(c&&!(a&&a.ended&&!a.destroyed))return n.call(t,new Error("premature close"));if(_&&!(u&&u.ended&&!u.destroyed))return n.call(t,new Error("premature close"))}},j=function(){t.req.on("finish",T)};return x1(t)?(t.on("complete",T),t.on("abort",z),t.req?j():t.on("request",j)):_&&!u&&(t.on("end",P),t.on("close",P)),L1(t)&&t.on("exit",F),t.on("end",U),t.on("finish",T),o.error!==!1&&t.on("error",M),t.on("close",z),function(){b=!0,t.removeListener("complete",T),t.removeListener("abort",z),t.removeListener("request",j),t.req&&t.req.removeListener("finish",T),t.removeListener("end",P),t.removeListener("close",P),t.removeListener("finish",T),t.removeListener("exit",F),t.removeListener("end",U),t.removeListener("error",M),t.removeListener("close",z)}},Fl=Dl;const Yc=Or(Fl);var B1=Ds,N1=Fl,ps=D_,yo=function(){},M1=/^v?\.0/.test(process.version),Wu=function(t){return typeof t=="function"},U1=function(t){return!M1||!ps?!1:(t instanceof(ps.ReadStream||yo)||t instanceof(ps.WriteStream||yo))&&Wu(t.close)},D1=function(t){return t.setHeader&&Wu(t.abort)},F1=function(t,o,n,u){u=B1(u);var a=!1;t.on("close",function(){a=!0}),N1(t,{readable:o,writable:n},function(_){if(_)return u(_);a=!0,u()});var c=!1;return function(_){if(!a&&!c){if(c=!0,U1(t))return t.close(yo);if(D1(t))return t.abort();if(Wu(t.destroy))return t.destroy();u(_||new Error("stream was destroyed"))}}},Jc=function(t){t()},K1=function(t,o){return t.pipe(o)},W1=function(){var t=Array.prototype.slice.call(arguments),o=Wu(t[t.length-1]||yo)&&t.pop()||yo;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n,u=t.map(function(a,c){var _=c<t.length-1,b=c>0;return F1(a,_,b,function(P){n||(n=P),P&&u.forEach(Jc),!_&&(u.forEach(Jc),o(n))})});return t.reduce(K1)},H1=W1;const Xc=Or(H1);function z1(t){var o=$1();return function(){var u=st(t),a;if(o){var c=st(this).constructor;a=Reflect.construct(u,arguments,c)}else a=u.apply(this,arguments);return Fi(this,a)}}function $1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ru(){}var Qc="SYN",vs="ACK",el="BRK",rl=function(t){Di(n,t);var o=z1(n);function n(u){var a,c=u.name,_=u.target,b=u.targetWindow,P=b===void 0?window:b,T=u.targetOrigin,U=T===void 0?"*":T;if(Mi(this,n),a=o.call(this,{objectMode:!0}),ne(pr(a),"_init",void 0),ne(pr(a),"_haveSyn",void 0),ne(pr(a),"_name",void 0),ne(pr(a),"_target",void 0),ne(pr(a),"_targetWindow",void 0),ne(pr(a),"_targetOrigin",void 0),ne(pr(a),"_onMessage",void 0),ne(pr(a),"_synIntervalId",void 0),!c||!_)throw new Error("Invalid input.");return a._init=!1,a._haveSyn=!1,a._name=c,a._target=_,a._targetWindow=P,a._targetOrigin=U,a._onMessage=a.onMessage.bind(pr(a)),a._synIntervalId=null,window.addEventListener("message",a._onMessage,!1),a._handShake(),a}return Ui(n,[{key:"_break",value:function(){this.cork(),this._write(el,null,Ru),this._haveSyn=!1,this._init=!1}},{key:"_handShake",value:function(){this._write(Qc,null,Ru),this.cork()}},{key:"_onData",value:function(a){if(!this._init)a===Qc?(this._haveSyn=!0,this._write(vs,null,Ru)):a===vs&&(this._init=!0,this._haveSyn||this._write(vs,null,Ru),this.uncork());else if(a===el)this._break();else try{this.push(a)}catch(c){this.emit("error",c)}}},{key:"_postMessage",value:function(a){var c=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:a},c)}},{key:"onMessage",value:function(a){var c=a.data;this._targetOrigin!=="*"&&a.origin!==this._targetOrigin||a.source!==this._targetWindow||Ol(c)!=="object"||c.target!==this._name||!c.data||this._onData(c.data)}},{key:"_read",value:function(){}},{key:"_write",value:function(a,c,_){this._postMessage(a),_()}},{key:"_destroy",value:function(){window.removeEventListener("message",this._onMessage,!1)}}]),n}(Li.Duplex);function q1(t){var o=k1();return function(){var u=st(t),a;if(o){var c=st(this).constructor;a=Reflect.construct(u,arguments,c)}else a=u.apply(this,arguments);return Fi(this,a)}}function k1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tl(t,o,n){try{Reflect.apply(t,o,n)}catch(u){setTimeout(function(){throw u})}}function G1(t){for(var o=t.length,n=new Array(o),u=0;u<o;u+=1)n[u]=t[u];return n}var Hu=function(t){Di(n,t);var o=q1(n);function n(){return Mi(this,n),o.apply(this,arguments)}return Ui(n,[{key:"emit",value:function(a){var c=a==="error",_=this._events;if(_!==void 0)c=c&&_.error===void 0;else if(!c)return!1;for(var b=arguments.length,P=new Array(b>1?b-1:0),T=1;T<b;T++)P[T-1]=arguments[T];if(c){var U;if(P.length>0&&(U=P[0]),U instanceof Error)throw U;var F=new Error("Unhandled error.".concat(U?" (".concat(U.message,")"):""));throw F.context=U,F}var M=_[a];if(M===void 0)return!1;if(typeof M=="function")tl(M,this,P);else for(var z=M.length,H=G1(M),j=0;j<z;j+=1)tl(H[j],this,P);return!0}}]),n}(F_.EventEmitter);function j1(t){var o=V1();return function(){var u=st(t),a;if(o){var c=st(this).constructor;a=Reflect.construct(u,arguments,c)}else a=u.apply(this,arguments);return Fi(this,a)}}function V1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var co=function(t){Di(n,t);var o=j1(n);function n(u){var a,c=u.code,_=u.message,b=u.data;if(Mi(this,n),!Number.isInteger(c))throw new Error("code must be an integer");if(!_||typeof _!="string")throw new Error("message must be string");return a=o.call(this,_),ne(pr(a),"code",void 0),ne(pr(a),"data",void 0),a.code=c,b!==void 0&&(a.data=b),a}return Ui(n,[{key:"toString",value:function(){return w1({code:this.code,message:this.message,data:this.data,stack:this.stack})}}]),n}(Es(Error)),Os=function(o,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return function(a,c){a||c.error?n(a||c.error):!u||Array.isArray(c)?o(c):o(c.result)}};function Z1(){var t={};function o(){return!1}var n=new Hu;function u(P){var T=t[P.id];if(!T)throw new Error('StreamMiddleware - Unknown response id "'.concat(P.id,'"'));delete t[P.id],Object.assign(T.res,P),setTimeout(T.end)}function a(P){n.emit("notification",P)}function c(P,T,U){var F;try{var M=!P.id;M?a(P):u(P)}catch(z){F=z}U(F)}var _=new Li.Duplex({objectMode:!0,read:o,write:c}),b=function(T,U,F,M){_.push(T),t[T.id]={req:T,res:U,next:F,end:M}};return{events:n,middleware:b,stream:_}}function Y1(){return function(t,o,n,u){var a=t.id,c=g1();t.id=c,o.id=c,n(function(_){t.id=a,o.id=a,_()})}}function nl(t,o){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=J1(t))||o&&t&&typeof t.length=="number"){n&&(t=n);var u=0,a=function(){};return{s:a,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(T){throw T},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c=!0,_=!1,b;return{s:function(){n=n.call(t)},n:function(){var T=n.next();return c=T.done,T},e:function(T){_=!0,b=T},f:function(){try{!c&&n.return!=null&&n.return()}finally{if(_)throw b}}}}function J1(t,o){if(t){if(typeof t=="string")return il(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return il(t,o)}}function il(t,o){(o==null||o>t.length)&&(o=t.length);for(var n=0,u=new Array(o);n<o;n++)u[n]=t[n];return u}function ol(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);o&&(u=u.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,u)}return n}function X1(t){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?ol(Object(n),!0).forEach(function(u){ne(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}function Q1(t){var o=ew();return function(){var u=st(t),a;if(o){var c=st(this).constructor;a=Reflect.construct(u,arguments,c)}else a=u.apply(this,arguments);return Fi(this,a)}}function ew(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var rw=function(t){Di(n,t);var o=Q1(n);function n(){var u;return Mi(this,n),u=o.call(this),ne(pr(u),"_middleware",void 0),u._middleware=[],u}return Ui(n,[{key:"push",value:function(a){this._middleware.push(a)}},{key:"handle",value:function(a,c){if(c&&typeof c!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(a)?c?this._handleBatch(a,c):this._handleBatch(a):c?this._handle(a,c):this._promiseHandle(a)}},{key:"asMiddleware",value:function(){var a=this;return function(){var c=Xn(dr.mark(function _(b,P,T,U){var F,M,z,H,j;return dr.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.prev=0,V.next=3,n._runAllMiddleware(b,P,a._middleware);case 3:if(F=V.sent,M=gs(F,3),z=M[0],H=M[1],j=M[2],!H){V.next=12;break}return V.next=11,n._runReturnHandlers(j);case 11:return V.abrupt("return",U(z));case 12:return V.abrupt("return",T(function(){var O=Xn(dr.mark(function ie(Z){return dr.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.prev=0,ce.next=3,n._runReturnHandlers(j);case 3:ce.next=8;break;case 5:return ce.prev=5,ce.t0=ce.catch(0),ce.abrupt("return",Z(ce.t0));case 8:return ce.abrupt("return",Z());case 9:case"end":return ce.stop()}},ie,null,[[0,5]])}));return function(ie){return O.apply(this,arguments)}}()));case 15:return V.prev=15,V.t0=V.catch(0),V.abrupt("return",U(V.t0));case 18:case"end":return V.stop()}},_,null,[[0,15]])}));return function(_,b,P,T){return c.apply(this,arguments)}}()}},{key:"_handleBatch",value:function(){var u=Xn(dr.mark(function c(_,b){var P;return dr.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.prev=0,U.next=3,Promise.all(_.map(this._promiseHandle.bind(this)));case 3:if(P=U.sent,!b){U.next=6;break}return U.abrupt("return",b(null,P));case 6:return U.abrupt("return",P);case 9:if(U.prev=9,U.t0=U.catch(0),!b){U.next=13;break}return U.abrupt("return",b(U.t0));case 13:throw U.t0;case 14:case"end":return U.stop()}},c,this,[[0,9]])}));function a(c,_){return u.apply(this,arguments)}return a}()},{key:"_promiseHandle",value:function(a){var c=this;return new Promise(function(_){c._handle(a,function(b,P){_(P)})})}},{key:"_handle",value:function(){var u=Xn(dr.mark(function c(_,b){var P,T,U,F,M;return dr.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(!(!_||Array.isArray(_)||Ol(_)!=="object")){H.next=3;break}return P=new co({code:-32603,message:"request must be plain object"}),H.abrupt("return",b(P,{id:void 0,jsonrpc:"2.0",error:P}));case 3:if(typeof _.method=="string"){H.next=6;break}return T=new co({code:-32603,message:"method must be string"}),H.abrupt("return",b(T,{id:_.id,jsonrpc:"2.0",error:T}));case 6:return U=X1({},_),F={id:U.id,jsonrpc:U.jsonrpc},M=null,H.prev=9,H.next=12,this._processRequest(U,F);case 12:H.next=17;break;case 14:H.prev=14,H.t0=H.catch(9),M=H.t0;case 17:return M&&(delete F.result,F.error||(F.error=_t.serializeError(M))),H.abrupt("return",b(M,F));case 19:case"end":return H.stop()}},c,this,[[9,14]])}));function a(c,_){return u.apply(this,arguments)}return a}()},{key:"_processRequest",value:function(){var u=Xn(dr.mark(function c(_,b){var P,T,U,F,M;return dr.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,n._runAllMiddleware(_,b,this._middleware);case 2:return P=H.sent,T=gs(P,3),U=T[0],F=T[1],M=T[2],n._checkForCompletion(_,b,F),H.next=10,n._runReturnHandlers(M);case 10:if(!U){H.next=12;break}throw U;case 12:case"end":return H.stop()}},c,this)}));function a(c,_){return u.apply(this,arguments)}return a}()}],[{key:"_runAllMiddleware",value:function(){var u=Xn(dr.mark(function c(_,b,P){var T,U,F,M,z,H,j,Y;return dr.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:T=[],U=null,F=!1,M=nl(P),O.prev=4,M.s();case 6:if((z=M.n()).done){O.next=18;break}return H=z.value,O.next=10,n._runMiddleware(_,b,H,T);case 10:if(j=O.sent,Y=gs(j,2),U=Y[0],F=Y[1],!F){O.next=16;break}return O.abrupt("break",18);case 16:O.next=6;break;case 18:O.next=23;break;case 20:O.prev=20,O.t0=O.catch(4),M.e(O.t0);case 23:return O.prev=23,M.f(),O.finish(23);case 26:return O.abrupt("return",[U,F,T.reverse()]);case 27:case"end":return O.stop()}},c,null,[[4,20,23,26]])}));function a(c,_,b){return u.apply(this,arguments)}return a}()},{key:"_runMiddleware",value:function(a,c,_,b){return new Promise(function(P){var T=function(M){var z=M||c.error;z&&(c.error=_t.serializeError(z)),P([z,!0])},U=function(M){c.error?T(c.error):(M&&(typeof M!="function"&&T(new co({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),b.push(M)),P([null,!1]))};try{_(a,c,U,T)}catch(F){T(F)}})}},{key:"_runReturnHandlers",value:function(){var u=Xn(dr.mark(function c(_){var b,P,T;return dr.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:b=nl(_),F.prev=1,T=dr.mark(function M(){var z;return dr.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return z=P.value,j.next=3,new Promise(function(Y,V){z(function(O){return O?V(O):Y()})});case 3:case"end":return j.stop()}},M)}),b.s();case 4:if((P=b.n()).done){F.next=8;break}return F.delegateYield(T(),"t0",6);case 6:F.next=4;break;case 8:F.next=13;break;case 10:F.prev=10,F.t1=F.catch(1),b.e(F.t1);case 13:return F.prev=13,b.f(),F.finish(13);case 16:case"end":return F.stop()}},c,null,[[1,10,13,16]])}));function a(c){return u.apply(this,arguments)}return a}()},{key:"_checkForCompletion",value:function(a,c,_){if(!("result"in c)&&!("error"in c))throw new co({code:-32603,message:"Response has no error or result for request"});if(!_)throw new co({code:-32603,message:"Nothing ended request"})}}]),n}(Hu);function tw(t){var o=nw();return function(){var u=st(t),a;if(o){var c=st(this).constructor;a=Reflect.construct(u,arguments,c)}else a=u.apply(this,arguments);return Fi(this,a)}}function nw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var iw=function(t){Di(n,t);var o=tw(n);function n(u){var a,c=u.parent,_=u.name;return Mi(this,n),a=o.call(this,{objectMode:!0}),ne(pr(a),"_parent",void 0),ne(pr(a),"_name",void 0),a._parent=c,a._name=_,a}return Ui(n,[{key:"_read",value:function(){}},{key:"_write",value:function(a,c,_){this._parent.push({name:this._name,data:a}),_()}}]),n}(Li.Duplex);function ul(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);o&&(u=u.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,u)}return n}function al(t){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?ul(Object(n),!0).forEach(function(u){ne(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}function ow(t){var o=uw();return function(){var u=st(t),a;if(o){var c=st(this).constructor;a=Reflect.construct(u,arguments,c)}else a=u.apply(this,arguments);return Fi(this,a)}}function uw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var sl=Symbol("IGNORE_SUBSTREAM"),aw=function(t){Di(n,t);var o=ow(n);function n(){var u,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Mi(this,n),u=o.call(this,al(al({},a),{},{objectMode:!0})),ne(pr(u),"_substreams",void 0),ne(pr(u),"getStream",void 0),u._substreams={},u}return Ui(n,[{key:"createStream",value:function(a){if(!a)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[a])throw new Error('ObjectMultiplex - Substream for name "'.concat(a,'" already exists'));var c=new iw({parent:this,name:a});return this._substreams[a]=c,sw(this,function(_){return c.destroy(_||void 0)}),c}},{key:"ignoreStream",value:function(a){if(!a)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[a])throw new Error('ObjectMultiplex - Substream for name "'.concat(a,'" already exists'));this._substreams[a]=sl}},{key:"_read",value:function(){}},{key:"_write",value:function(a,c,_){var b=a.name,P=a.data;if(!b)return window.console.warn('ObjectMultiplex - malformed chunk without name "'.concat(a,'"')),_();var T=this._substreams[b];return T?(T!==sl&&T.push(P),_()):(window.console.warn('ObjectMultiplex - orphaned data for stream "'.concat(b,'"')),_())}}]),n}(Li.Duplex);function sw(t,o){var n=P1(o);Yc(t,{readable:!1},n),Yc(t,{writable:!1},n)}var fw=cw;function cw(t){t=t||{};var o=t.max||Number.MAX_SAFE_INTEGER,n=typeof t.start<"u"?t.start:Math.floor(Math.random()*o);return function(){return n=n%o,n++}}const lw=Or(fw);var hw={},Fs={},Lr={},gn={},dw=ye&&ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gn,"__esModule",{value:!0});gn.getLength=gn.decode=gn.encode=void 0;var gw=dw(yl);function Kl(t){if(Array.isArray(t)){for(var o=[],n=0;n<t.length;n++)o.push(Kl(t[n]));var u=Buffer.concat(o);return Buffer.concat([fl(u.length,192),u])}else{var a=Ks(t);return a.length===1&&a[0]<128?a:Buffer.concat([fl(a.length,128),a])}}gn.encode=Kl;function Rs(t,o){if(t[0]==="0"&&t[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(t,o)}function fl(t,o){if(t<56)return Buffer.from([t+o]);var n=Ps(t),u=n.length/2,a=Ps(o+55+u);return Buffer.from(a+n,"hex")}function pw(t,o){if(o===void 0&&(o=!1),!t||t.length===0)return Buffer.from([]);var n=Ks(t),u=Is(n);if(o)return u;if(u.remainder.length!==0)throw new Error("invalid remainder");return u.data}gn.decode=pw;function vw(t){if(!t||t.length===0)return Buffer.from([]);var o=Ks(t),n=o[0];if(n<=127)return o.length;if(n<=183)return n-127;if(n<=191)return n-182;if(n<=247)return n-191;var u=n-246,a=Rs(o.slice(1,u).toString("hex"),16);return u+a}gn.getLength=vw;function Is(t){var o,n,u,a,c,_=[],b=t[0];if(b<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(b<=183){if(o=b-127,b===128?u=Buffer.from([]):u=t.slice(1,o),o===2&&u[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:u,remainder:t.slice(o)}}else if(b<=191){if(n=b-182,t.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(o=Rs(t.slice(1,n).toString("hex"),16),o<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(u=t.slice(n,o+n),u.length<o)throw new Error("invalid RLP: not enough bytes for string");return{data:u,remainder:t.slice(o+n)}}else if(b<=247){for(o=b-191,a=t.slice(1,o);a.length;)c=Is(a),_.push(c.data),a=c.remainder;return{data:_,remainder:t.slice(o)}}else{n=b-246,o=Rs(t.slice(1,n).toString("hex"),16);var P=n+o;if(P>t.length)throw new Error("invalid rlp: total length is larger than the data");if(a=t.slice(n,P),a.length===0)throw new Error("invalid rlp, List has a invalid length");for(;a.length;)c=Is(a),_.push(c.data),a=c.remainder;return{data:_,remainder:t.slice(P)}}}function Wl(t){return t.slice(0,2)==="0x"}function _w(t){return typeof t!="string"?t:Wl(t)?t.slice(2):t}function Ps(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");var o=t.toString(16);return o.length%2?"0"+o:o}function ww(t){return t.length%2?"0"+t:t}function yw(t){var o=Ps(t);return Buffer.from(o,"hex")}function Ks(t){if(!Buffer.isBuffer(t)){if(typeof t=="string")return Wl(t)?Buffer.from(ww(_w(t)),"hex"):Buffer.from(t);if(typeof t=="number"||typeof t=="bigint")return t?yw(t):Buffer.from([]);if(t==null)return Buffer.from([]);if(t instanceof Uint8Array)return Buffer.from(t);if(gw.default.isBN(t))return Buffer.from(t.toArray());throw new Error("invalid type")}return t}var mw=ye&&ye.__createBinding||(Object.create?function(t,o,n,u){u===void 0&&(u=n);var a=Object.getOwnPropertyDescriptor(o,n);(!a||("get"in a?!o.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return o[n]}}),Object.defineProperty(t,u,a)}:function(t,o,n,u){u===void 0&&(u=n),t[u]=o[n]}),bw=ye&&ye.__setModuleDefault||(Object.create?function(t,o){Object.defineProperty(t,"default",{enumerable:!0,value:o})}:function(t,o){t.default=o}),Ew=ye&&ye.__importStar||function(t){if(t&&t.__esModule)return t;var o={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&mw(o,t,n);return bw(o,t),o},Aw=ye&&ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.rlp=Lr.BN=void 0;var Sw=Aw(yl);Lr.BN=Sw.default;var Ow=Ew(gn);Lr.rlp=Ow;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=t.MAX_UINT64=void 0;var o=K_,n=Lr;t.MAX_UINT64=new n.BN("ffffffffffffffff",16),t.MAX_INTEGER=new n.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new n.BN("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=o.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=o.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=o.Buffer.from(t.KECCAK256_RLP_S,"hex")})(Fs);var Ws={},Hs={};const Le={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function ut(t,o){if(!t)throw new Error(o)}function Pe(t,o,n){if(ut(o instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),n!==void 0)if(Array.isArray(n)){const u=n.join(", "),a=`Expected ${t} to be an Uint8Array with length [${u}]`;ut(n.includes(o.length),a)}else{const u=`Expected ${t} to be an Uint8Array with length ${n}`;ut(o.length===n,u)}}function Qn(t){ut(Ti(t)==="Boolean","Expected compressed to be a Boolean")}function vt(t=n=>new Uint8Array(n),o){return typeof t=="function"&&(t=t(o)),Pe("output",t,o),t}function Ti(t){return Object.prototype.toString.call(t).slice(8,-1)}var Rw=t=>({contextRandomize(o){switch(ut(o===null||o instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),o!==null&&Pe("seed",o,32),t.contextRandomize(o)){case 1:throw new Error(Le.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(o){return Pe("private key",o,32),t.privateKeyVerify(o)===0},privateKeyNegate(o){switch(Pe("private key",o,32),t.privateKeyNegate(o)){case 0:return o;case 1:throw new Error(Le.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(o,n){switch(Pe("private key",o,32),Pe("tweak",n,32),t.privateKeyTweakAdd(o,n)){case 0:return o;case 1:throw new Error(Le.TWEAK_ADD)}},privateKeyTweakMul(o,n){switch(Pe("private key",o,32),Pe("tweak",n,32),t.privateKeyTweakMul(o,n)){case 0:return o;case 1:throw new Error(Le.TWEAK_MUL)}},publicKeyVerify(o){return Pe("public key",o,[33,65]),t.publicKeyVerify(o)===0},publicKeyCreate(o,n=!0,u){switch(Pe("private key",o,32),Qn(n),u=vt(u,n?33:65),t.publicKeyCreate(u,o)){case 0:return u;case 1:throw new Error(Le.SECKEY_INVALID);case 2:throw new Error(Le.PUBKEY_SERIALIZE)}},publicKeyConvert(o,n=!0,u){switch(Pe("public key",o,[33,65]),Qn(n),u=vt(u,n?33:65),t.publicKeyConvert(u,o)){case 0:return u;case 1:throw new Error(Le.PUBKEY_PARSE);case 2:throw new Error(Le.PUBKEY_SERIALIZE)}},publicKeyNegate(o,n=!0,u){switch(Pe("public key",o,[33,65]),Qn(n),u=vt(u,n?33:65),t.publicKeyNegate(u,o)){case 0:return u;case 1:throw new Error(Le.PUBKEY_PARSE);case 2:throw new Error(Le.IMPOSSIBLE_CASE);case 3:throw new Error(Le.PUBKEY_SERIALIZE)}},publicKeyCombine(o,n=!0,u){ut(Array.isArray(o),"Expected public keys to be an Array"),ut(o.length>0,"Expected public keys array will have more than zero items");for(const a of o)Pe("public key",a,[33,65]);switch(Qn(n),u=vt(u,n?33:65),t.publicKeyCombine(u,o)){case 0:return u;case 1:throw new Error(Le.PUBKEY_PARSE);case 2:throw new Error(Le.PUBKEY_COMBINE);case 3:throw new Error(Le.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(o,n,u=!0,a){switch(Pe("public key",o,[33,65]),Pe("tweak",n,32),Qn(u),a=vt(a,u?33:65),t.publicKeyTweakAdd(a,o,n)){case 0:return a;case 1:throw new Error(Le.PUBKEY_PARSE);case 2:throw new Error(Le.TWEAK_ADD)}},publicKeyTweakMul(o,n,u=!0,a){switch(Pe("public key",o,[33,65]),Pe("tweak",n,32),Qn(u),a=vt(a,u?33:65),t.publicKeyTweakMul(a,o,n)){case 0:return a;case 1:throw new Error(Le.PUBKEY_PARSE);case 2:throw new Error(Le.TWEAK_MUL)}},signatureNormalize(o){switch(Pe("signature",o,64),t.signatureNormalize(o)){case 0:return o;case 1:throw new Error(Le.SIG_PARSE)}},signatureExport(o,n){Pe("signature",o,64),n=vt(n,72);const u={output:n,outputlen:72};switch(t.signatureExport(u,o)){case 0:return n.slice(0,u.outputlen);case 1:throw new Error(Le.SIG_PARSE);case 2:throw new Error(Le.IMPOSSIBLE_CASE)}},signatureImport(o,n){switch(Pe("signature",o),n=vt(n,64),t.signatureImport(n,o)){case 0:return n;case 1:throw new Error(Le.SIG_PARSE);case 2:throw new Error(Le.IMPOSSIBLE_CASE)}},ecdsaSign(o,n,u={},a){Pe("message",o,32),Pe("private key",n,32),ut(Ti(u)==="Object","Expected options to be an Object"),u.data!==void 0&&Pe("options.data",u.data),u.noncefn!==void 0&&ut(Ti(u.noncefn)==="Function","Expected options.noncefn to be a Function"),a=vt(a,64);const c={signature:a,recid:null};switch(t.ecdsaSign(c,o,n,u.data,u.noncefn)){case 0:return c;case 1:throw new Error(Le.SIGN);case 2:throw new Error(Le.IMPOSSIBLE_CASE)}},ecdsaVerify(o,n,u){switch(Pe("signature",o,64),Pe("message",n,32),Pe("public key",u,[33,65]),t.ecdsaVerify(o,n,u)){case 0:return!0;case 3:return!1;case 1:throw new Error(Le.SIG_PARSE);case 2:throw new Error(Le.PUBKEY_PARSE)}},ecdsaRecover(o,n,u,a=!0,c){switch(Pe("signature",o,64),ut(Ti(n)==="Number"&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),Pe("message",u,32),Qn(a),c=vt(c,a?33:65),t.ecdsaRecover(c,o,n,u)){case 0:return c;case 1:throw new Error(Le.SIG_PARSE);case 2:throw new Error(Le.RECOVER);case 3:throw new Error(Le.IMPOSSIBLE_CASE)}},ecdh(o,n,u={},a){switch(Pe("public key",o,[33,65]),Pe("private key",n,32),ut(Ti(u)==="Object","Expected options to be an Object"),u.data!==void 0&&Pe("options.data",u.data),u.hashfn!==void 0?(ut(Ti(u.hashfn)==="Function","Expected options.hashfn to be a Function"),u.xbuf!==void 0&&Pe("options.xbuf",u.xbuf,32),u.ybuf!==void 0&&Pe("options.ybuf",u.ybuf,32),Pe("output",a)):a=vt(a,32),t.ecdh(a,o,n,u.data,u.hashfn,u.xbuf,u.ybuf)){case 0:return a;case 1:throw new Error(Le.PUBKEY_PARSE);case 2:throw new Error(Le.ECDH)}}});const Iw=W_().ec,Tt=new Iw("secp256k1"),Ie=Tt.curve,ze=Ie.n.constructor;function Pw(t,o){let n=new ze(o);if(n.cmp(Ie.p)>=0)return null;n=n.toRed(Ie.red);let u=n.redSqr().redIMul(n).redIAdd(Ie.b).redSqrt();return t===3!==u.isOdd()&&(u=u.redNeg()),Tt.keyPair({pub:{x:n,y:u}})}function Tw(t,o,n){let u=new ze(o),a=new ze(n);if(u.cmp(Ie.p)>=0||a.cmp(Ie.p)>=0||(u=u.toRed(Ie.red),a=a.toRed(Ie.red),(t===6||t===7)&&a.isOdd()!==(t===7)))return null;const c=u.redSqr().redIMul(u);return a.redSqr().redISub(c.redIAdd(Ie.b)).isZero()?Tt.keyPair({pub:{x:u,y:a}}):null}function dn(t){const o=t[0];switch(o){case 2:case 3:return t.length!==33?null:Pw(o,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:Tw(o,t.subarray(1,33),t.subarray(33,65));default:return null}}function ei(t,o){const n=o.encode(null,t.length===33);for(let u=0;u<t.length;++u)t[u]=n[u]}var Cw={contextRandomize(){return 0},privateKeyVerify(t){const o=new ze(t);return o.cmp(Ie.n)<0&&!o.isZero()?0:1},privateKeyNegate(t){const o=new ze(t),n=Ie.n.sub(o).umod(Ie.n).toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakAdd(t,o){const n=new ze(o);if(n.cmp(Ie.n)>=0||(n.iadd(new ze(t)),n.cmp(Ie.n)>=0&&n.isub(Ie.n),n.isZero()))return 1;const u=n.toArrayLike(Uint8Array,"be",32);return t.set(u),0},privateKeyTweakMul(t,o){let n=new ze(o);if(n.cmp(Ie.n)>=0||n.isZero())return 1;n.imul(new ze(t)),n.cmp(Ie.n)>=0&&(n=n.umod(Ie.n));const u=n.toArrayLike(Uint8Array,"be",32);return t.set(u),0},publicKeyVerify(t){return dn(t)===null?1:0},publicKeyCreate(t,o){const n=new ze(o);if(n.cmp(Ie.n)>=0||n.isZero())return 1;const u=Tt.keyFromPrivate(o).getPublic();return ei(t,u),0},publicKeyConvert(t,o){const n=dn(o);if(n===null)return 1;const u=n.getPublic();return ei(t,u),0},publicKeyNegate(t,o){const n=dn(o);if(n===null)return 1;const u=n.getPublic();return u.y=u.y.redNeg(),ei(t,u),0},publicKeyCombine(t,o){const n=new Array(o.length);for(let a=0;a<o.length;++a)if(n[a]=dn(o[a]),n[a]===null)return 1;let u=n[0].getPublic();for(let a=1;a<n.length;++a)u=u.add(n[a].pub);return u.isInfinity()?2:(ei(t,u),0)},publicKeyTweakAdd(t,o,n){const u=dn(o);if(u===null)return 1;if(n=new ze(n),n.cmp(Ie.n)>=0)return 2;const a=u.getPublic().add(Ie.g.mul(n));return a.isInfinity()?2:(ei(t,a),0)},publicKeyTweakMul(t,o,n){const u=dn(o);if(u===null)return 1;if(n=new ze(n),n.cmp(Ie.n)>=0||n.isZero())return 2;const a=u.getPublic().mul(n);return ei(t,a),0},signatureNormalize(t){const o=new ze(t.subarray(0,32)),n=new ze(t.subarray(32,64));return o.cmp(Ie.n)>=0||n.cmp(Ie.n)>=0?1:(n.cmp(Tt.nh)===1&&t.set(Ie.n.sub(n).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,o){const n=o.subarray(0,32),u=o.subarray(32,64);if(new ze(n).cmp(Ie.n)>=0||new ze(u).cmp(Ie.n)>=0)return 1;const{output:a}=t;let c=a.subarray(4,4+33);c[0]=0,c.set(n,1);let _=33,b=0;for(;_>1&&c[b]===0&&!(c[b+1]&128);--_,++b);if(c=c.subarray(b),c[0]&128||_>1&&c[0]===0&&!(c[1]&128))return 1;let P=a.subarray(6+33,6+33+33);P[0]=0,P.set(u,1);let T=33,U=0;for(;T>1&&P[U]===0&&!(P[U+1]&128);--T,++U);return P=P.subarray(U),P[0]&128||T>1&&P[0]===0&&!(P[1]&128)?1:(t.outputlen=6+_+T,a[0]=48,a[1]=t.outputlen-2,a[2]=2,a[3]=c.length,a.set(c,4),a[4+_]=2,a[5+_]=P.length,a.set(P,6+_),0)},signatureImport(t,o){if(o.length<8||o.length>72||o[0]!==48||o[1]!==o.length-2||o[2]!==2)return 1;const n=o[3];if(n===0||5+n>=o.length||o[4+n]!==2)return 1;const u=o[5+n];if(u===0||6+n+u!==o.length||o[4]&128||n>1&&o[4]===0&&!(o[5]&128)||o[n+6]&128||u>1&&o[n+6]===0&&!(o[n+7]&128))return 1;let a=o.subarray(4,4+n);if(a.length===33&&a[0]===0&&(a=a.subarray(1)),a.length>32)return 1;let c=o.subarray(6+n);if(c.length===33&&c[0]===0&&(c=c.slice(1)),c.length>32)throw new Error("S length is too long");let _=new ze(a);_.cmp(Ie.n)>=0&&(_=new ze(0));let b=new ze(o.subarray(6+n));return b.cmp(Ie.n)>=0&&(b=new ze(0)),t.set(_.toArrayLike(Uint8Array,"be",32),0),t.set(b.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,o,n,u,a){if(a){const b=a;a=P=>{const T=b(o,n,null,u,P);if(!(T instanceof Uint8Array&&T.length===32))throw new Error("This is the way");return new ze(T)}}const c=new ze(n);if(c.cmp(Ie.n)>=0||c.isZero())return 1;let _;try{_=Tt.sign(o,n,{canonical:!0,k:a,pers:u})}catch{return 1}return t.signature.set(_.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(_.s.toArrayLike(Uint8Array,"be",32),32),t.recid=_.recoveryParam,0},ecdsaVerify(t,o,n){const u={r:t.subarray(0,32),s:t.subarray(32,64)},a=new ze(u.r),c=new ze(u.s);if(a.cmp(Ie.n)>=0||c.cmp(Ie.n)>=0)return 1;if(c.cmp(Tt.nh)===1||a.isZero()||c.isZero())return 3;const _=dn(n);if(_===null)return 2;const b=_.getPublic();return Tt.verify(o,u,b)?0:3},ecdsaRecover(t,o,n,u){const a={r:o.slice(0,32),s:o.slice(32,64)},c=new ze(a.r),_=new ze(a.s);if(c.cmp(Ie.n)>=0||_.cmp(Ie.n)>=0)return 1;if(c.isZero()||_.isZero())return 2;let b;try{b=Tt.recoverPubKey(u,a,n)}catch{return 2}return ei(t,b),0},ecdh(t,o,n,u,a,c,_){const b=dn(o);if(b===null)return 1;const P=new ze(n);if(P.cmp(Ie.n)>=0||P.isZero())return 2;const T=b.getPublic().mul(P);if(a===void 0){const U=T.encode(null,!0),F=Tt.hash().update(U).digest();for(let M=0;M<32;++M)t[M]=F[M]}else{c||(c=new Uint8Array(32));const U=T.getX().toArray("be",32);for(let H=0;H<32;++H)c[H]=U[H];_||(_=new Uint8Array(32));const F=T.getY().toArray("be",32);for(let H=0;H<32;++H)_[H]=F[H];const M=a(c,_,u);if(!(M instanceof Uint8Array&&M.length===t.length))return 2;t.set(M)}return 0}},cl=Rw(Cw),zu={};Object.defineProperty(zu,"__esModule",{value:!0});var Hl=H_;function xw(t){return new Promise(function(o,n){Hl(t,function(u,a){if(u){n(u);return}o(a)})})}zu.getRandomBytes=xw;function Lw(t){return Hl(t)}zu.getRandomBytesSync=Lw;(function(t){var o=ye&&ye.__awaiter||function(T,U,F,M){function z(H){return H instanceof F?H:new F(function(j){j(H)})}return new(F||(F=Promise))(function(H,j){function Y(ie){try{O(M.next(ie))}catch(Z){j(Z)}}function V(ie){try{O(M.throw(ie))}catch(Z){j(Z)}}function O(ie){ie.done?H(ie.value):z(ie.value).then(Y,V)}O((M=M.apply(T,U||[])).next())})},n=ye&&ye.__generator||function(T,U){var F={label:0,sent:function(){if(H[0]&1)throw H[1];return H[1]},trys:[],ops:[]},M,z,H,j;return j={next:Y(0),throw:Y(1),return:Y(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function Y(O){return function(ie){return V([O,ie])}}function V(O){if(M)throw new TypeError("Generator is already executing.");for(;F;)try{if(M=1,z&&(H=O[0]&2?z.return:O[0]?z.throw||((H=z.return)&&H.call(z),0):z.next)&&!(H=H.call(z,O[1])).done)return H;switch(z=0,H&&(O=[O[0]&2,H.value]),O[0]){case 0:case 1:H=O;break;case 4:return F.label++,{value:O[1],done:!1};case 5:F.label++,z=O[1],O=[0];continue;case 7:O=F.ops.pop(),F.trys.pop();continue;default:if(H=F.trys,!(H=H.length>0&&H[H.length-1])&&(O[0]===6||O[0]===2)){F=0;continue}if(O[0]===3&&(!H||O[1]>H[0]&&O[1]<H[3])){F.label=O[1];break}if(O[0]===6&&F.label<H[1]){F.label=H[1],H=O;break}if(H&&F.label<H[2]){F.label=H[2],F.ops.push(O);break}H[2]&&F.ops.pop(),F.trys.pop();continue}O=U.call(T,F)}catch(ie){O=[6,ie],z=0}finally{M=H=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}};function u(T){for(var U in T)t.hasOwnProperty(U)||(t[U]=T[U])}Object.defineProperty(t,"__esModule",{value:!0});var a=cl,c=zu,_=32;function b(){return o(this,void 0,void 0,function(){var T;return n(this,function(U){switch(U.label){case 0:return[4,c.getRandomBytes(_)];case 1:return T=U.sent(),a.privateKeyVerify(T)?[2,T]:[3,0];case 2:return[2]}})})}t.createPrivateKey=b;function P(){for(;;){var T=c.getRandomBytesSync(_);if(a.privateKeyVerify(T))return T}}t.createPrivateKeySync=P,u(cl)})(Hs);var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.isHexString=$e.getKeys=$e.fromAscii=$e.fromUtf8=$e.toAscii=$e.arrayContainsArray=$e.getBinarySize=$e.padToEven=$e.stripHexPrefix=$e.isHexPrefixed=void 0;function zl(t){if(typeof t!="string")throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof t));return t[0]==="0"&&t[1]==="x"}$e.isHexPrefixed=zl;var Bw=function(t){if(typeof t!="string")throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof t));return zl(t)?t.slice(2):t};$e.stripHexPrefix=Bw;function $l(t){var o=t;if(typeof o!="string")throw new Error("[padToEven] value must be type 'string', received ".concat(typeof o));return o.length%2&&(o="0".concat(o)),o}$e.padToEven=$l;function Nw(t){if(typeof t!="string")throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof t));return Buffer.byteLength(t,"utf8")}$e.getBinarySize=Nw;function Mw(t,o,n){if(Array.isArray(t)!==!0)throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof t,"'"));if(Array.isArray(o)!==!0)throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof o,"'"));return o[n?"some":"every"](function(u){return t.indexOf(u)>=0})}$e.arrayContainsArray=Mw;function Uw(t){var o="",n=0,u=t.length;for(t.substring(0,2)==="0x"&&(n=2);n<u;n+=2){var a=parseInt(t.substr(n,2),16);o+=String.fromCharCode(a)}return o}$e.toAscii=Uw;function Dw(t){var o=Buffer.from(t,"utf8");return"0x".concat($l(o.toString("hex")).replace(/^0+|0+$/g,""))}$e.fromUtf8=Dw;function Fw(t){for(var o="",n=0;n<t.length;n++){var u=t.charCodeAt(n),a=u.toString(16);o+=a.length<2?"0".concat(a):a}return"0x".concat(o)}$e.fromAscii=Fw;function Kw(t,o,n){if(!Array.isArray(t))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof t));if(typeof o!="string")throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof t));for(var u=[],a=0;a<t.length;a++){var c=t[a][o];if(n&&!c)c="";else if(typeof c!="string")throw new Error("invalid abi - expected type 'string', received ".concat(typeof c));u.push(c)}return u}$e.getKeys=Kw;function Ww(t,o){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||o&&t.length!==2+2*o)}$e.isHexString=Ww;var _n={},qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.assertIsString=qr.assertIsArray=qr.assertIsBuffer=qr.assertIsHexString=void 0;var Hw=$e,zw=function(t){if(!(0,Hw.isHexString)(t)){var o="This method only supports 0x-prefixed hex strings but input was: ".concat(t);throw new Error(o)}};qr.assertIsHexString=zw;var $w=function(t){if(!Buffer.isBuffer(t)){var o="This method only supports Buffer but input was: ".concat(t);throw new Error(o)}};qr.assertIsBuffer=$w;var qw=function(t){if(!Array.isArray(t)){var o="This method only supports number arrays but input was: ".concat(t);throw new Error(o)}};qr.assertIsArray=qw;var kw=function(t){if(typeof t!="string"){var o="This method only supports strings but input was: ".concat(t);throw new Error(o)}};qr.assertIsString=kw;(function(t){var o=ye&&ye.__values||function(d){var y=typeof Symbol=="function"&&Symbol.iterator,S=y&&d[y],x=0;if(S)return S.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&x>=d.length&&(d=void 0),{value:d&&d[x++],done:!d}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},n=ye&&ye.__read||function(d,y){var S=typeof Symbol=="function"&&d[Symbol.iterator];if(!S)return d;var x=S.call(d),E,I=[],N;try{for(;(y===void 0||y-- >0)&&!(E=x.next()).done;)I.push(E.value)}catch(B){N={error:B}}finally{try{E&&!E.done&&(S=x.return)&&S.call(x)}finally{if(N)throw N.error}}return I};Object.defineProperty(t,"__esModule",{value:!0}),t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToHex=t.bufferToInt=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;var u=Lr,a=$e,c=qr,_=function(d){if(!Number.isSafeInteger(d)||d<0)throw new Error("Received an invalid integer type: ".concat(d));return"0x".concat(d.toString(16))};t.intToHex=_;var b=function(d){var y=(0,t.intToHex)(d);return Buffer.from((0,a.padToEven)(y.slice(2)),"hex")};t.intToBuffer=b;var P=function(d){return Buffer.allocUnsafe(d).fill(0)};t.zeros=P;var T=function(d,y,S){var x=(0,t.zeros)(y);return S?d.length<y?(d.copy(x),x):d.slice(0,y):d.length<y?(d.copy(x,y-d.length),x):d.slice(-y)},U=function(d,y){return(0,c.assertIsBuffer)(d),T(d,y,!1)};t.setLengthLeft=U;var F=function(d,y){return(0,c.assertIsBuffer)(d),T(d,y,!0)};t.setLengthRight=F;var M=function(d){for(var y=d[0];d.length>0&&y.toString()==="0";)d=d.slice(1),y=d[0];return d},z=function(d){return(0,c.assertIsBuffer)(d),M(d)};t.unpadBuffer=z;var H=function(d){return(0,c.assertIsArray)(d),M(d)};t.unpadArray=H;var j=function(d){return(0,c.assertIsHexString)(d),d=(0,a.stripHexPrefix)(d),M(d)};t.unpadHexString=j;var Y=function(d){if(d==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(d)||Array.isArray(d)||d instanceof Uint8Array)return Buffer.from(d);if(typeof d=="string"){if(!(0,a.isHexString)(d))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(d));return Buffer.from((0,a.padToEven)((0,a.stripHexPrefix)(d)),"hex")}if(typeof d=="number")return(0,t.intToBuffer)(d);if(u.BN.isBN(d)){if(d.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(d));return d.toArrayLike(Buffer)}if(d.toArray)return Buffer.from(d.toArray());if(d.toBuffer)return Buffer.from(d.toBuffer());throw new Error("invalid type")};t.toBuffer=Y;var V=function(d){return new u.BN((0,t.toBuffer)(d)).toNumber()};t.bufferToInt=V;var O=function(d){return d=(0,t.toBuffer)(d),"0x"+d.toString("hex")};t.bufferToHex=O;var ie=function(d){return new u.BN(d).fromTwos(256)};t.fromSigned=ie;var Z=function(d){return Buffer.from(d.toTwos(256).toArray())};t.toUnsigned=Z;var ue=function(d){return typeof d!="string"||(0,a.isHexPrefixed)(d)?d:"0x"+d};t.addHexPrefix=ue;var ce=function(d){var y=/^(00)+|(00)+$/g;if(d=(0,a.stripHexPrefix)(d),d.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");var S=Buffer.from(d.replace(y,""),"hex");return S.toString("utf8")};t.toUtf8=ce;var Ne=function(d){if(Buffer.isBuffer(d))return"0x".concat(d.toString("hex"));if(d instanceof Array){for(var y=[],S=0;S<d.length;S++)y.push((0,t.baToJSON)(d[S]));return y}};t.baToJSON=Ne;var g=function(d){var y,S;try{for(var x=o(Object.entries(d)),E=x.next();!E.done;E=x.next()){var I=n(E.value,2),N=I[0],B=I[1];if(B!==void 0&&B.length>0&&B[0]===0)throw new Error("".concat(N," cannot have leading zeroes, received: ").concat(B.toString("hex")))}}catch(k){y={error:k}}finally{try{E&&!E.done&&(S=x.return)&&S.call(x)}finally{if(y)throw y.error}}};t.validateNoLeadingZeroes=g;function v(d){return Array.isArray(d)?d.map(function(y){return v(y)}):Buffer.from(d)}t.arrToBufArr=v;function p(d){return Array.isArray(d)?d.map(function(y){return p(y)}):Uint8Array.from(d??[])}t.bufArrToArr=p})(_n);var $u={},Ki={},zs={};Object.defineProperty(zs,"__esModule",{value:!0});function Gw(t){return function(o){var n=t();return n.update(o),Buffer.from(n.digest())}}zs.createHashFunction=Gw;Object.defineProperty(Ki,"__esModule",{value:!0});var qu=zs,ku=n1;Ki.keccak224=qu.createHashFunction(function(){return ku("keccak224")});Ki.keccak256=qu.createHashFunction(function(){return ku("keccak256")});Ki.keccak384=qu.createHashFunction(function(){return ku("keccak384")});Ki.keccak512=qu.createHashFunction(function(){return ku("keccak512")});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.rlphash=t.ripemd160FromArray=t.ripemd160FromString=t.ripemd160=t.sha256FromArray=t.sha256FromString=t.sha256=t.keccakFromArray=t.keccakFromHexString=t.keccakFromString=t.keccak256=t.keccak=void 0;var o=Ki,n=z_,u=Lr,a=_n,c=qr,_=function(Z,ue){switch(ue===void 0&&(ue=256),(0,c.assertIsBuffer)(Z),ue){case 224:return(0,o.keccak224)(Z);case 256:return(0,o.keccak256)(Z);case 384:return(0,o.keccak384)(Z);case 512:return(0,o.keccak512)(Z);default:throw new Error("Invald algorithm: keccak".concat(ue))}};t.keccak=_;var b=function(Z){return(0,t.keccak)(Z)};t.keccak256=b;var P=function(Z,ue){ue===void 0&&(ue=256),(0,c.assertIsString)(Z);var ce=Buffer.from(Z,"utf8");return(0,t.keccak)(ce,ue)};t.keccakFromString=P;var T=function(Z,ue){return ue===void 0&&(ue=256),(0,c.assertIsHexString)(Z),(0,t.keccak)((0,a.toBuffer)(Z),ue)};t.keccakFromHexString=T;var U=function(Z,ue){return ue===void 0&&(ue=256),(0,c.assertIsArray)(Z),(0,t.keccak)((0,a.toBuffer)(Z),ue)};t.keccakFromArray=U;var F=function(Z){return Z=(0,a.toBuffer)(Z),n("sha256").update(Z).digest()},M=function(Z){return(0,c.assertIsBuffer)(Z),F(Z)};t.sha256=M;var z=function(Z){return(0,c.assertIsString)(Z),F(Z)};t.sha256FromString=z;var H=function(Z){return(0,c.assertIsArray)(Z),F(Z)};t.sha256FromArray=H;var j=function(Z,ue){Z=(0,a.toBuffer)(Z);var ce=n("rmd160").update(Z).digest();return ue===!0?(0,a.setLengthLeft)(ce,32):ce},Y=function(Z,ue){return(0,c.assertIsBuffer)(Z),j(Z,ue)};t.ripemd160=Y;var V=function(Z,ue){return(0,c.assertIsString)(Z),j(Z,ue)};t.ripemd160FromString=V;var O=function(Z,ue){return(0,c.assertIsArray)(Z),j(Z,ue)};t.ripemd160FromArray=O;var ie=function(Z){return(0,t.keccak)(u.rlp.encode(Z))};t.rlphash=ie})($u);var Gu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=t.bnToRlp=t.bnToUnpaddedBuffer=t.bnToHex=void 0;var o=Lr,n=$e,u=_n;function a(T){return"0x".concat(T.toString(16))}t.bnToHex=a;function c(T){return(0,u.unpadBuffer)(T.toArrayLike(Buffer))}t.bnToUnpaddedBuffer=c;function _(T){return c(T)}t.bnToRlp=_;var b;(function(T){T[T.Number=0]="Number",T[T.BN=1]="BN",T[T.Buffer=2]="Buffer",T[T.PrefixedHexString=3]="PrefixedHexString"})(b=t.TypeOutput||(t.TypeOutput={}));function P(T,U){if(T===null)return null;if(T!==void 0){if(typeof T=="string"&&!(0,n.isHexString)(T))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(T));if(typeof T=="number"&&!Number.isSafeInteger(T))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var F=(0,u.toBuffer)(T);if(U===b.Buffer)return F;if(U===b.BN)return new o.BN(F);if(U===b.Number){var M=new o.BN(F),z=new o.BN(Number.MAX_SAFE_INTEGER.toString());if(M.gt(z))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return M.toNumber()}else return"0x".concat(F.toString("hex"))}}t.toType=P})(Gu);(function(t){var o=ye&&ye.__read||function(p,d){var y=typeof Symbol=="function"&&p[Symbol.iterator];if(!y)return p;var S=y.call(p),x,E=[],I;try{for(;(d===void 0||d-- >0)&&!(x=S.next()).done;)E.push(x.value)}catch(N){I={error:N}}finally{try{x&&!x.done&&(y=S.return)&&y.call(S)}finally{if(I)throw I.error}}return E},n=ye&&ye.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;var u=n(Cs()),a=Lr,c=Hs,_=$e,b=Fs,P=_n,T=$u,U=qr,F=Gu,M=function(){function p(d,y,S,x){d===void 0&&(d=new a.BN(0)),y===void 0&&(y=new a.BN(0)),S===void 0&&(S=b.KECCAK256_RLP),x===void 0&&(x=b.KECCAK256_NULL),this.nonce=d,this.balance=y,this.stateRoot=S,this.codeHash=x,this._validate()}return p.fromAccountData=function(d){var y=d.nonce,S=d.balance,x=d.stateRoot,E=d.codeHash;return new p(y?new a.BN((0,P.toBuffer)(y)):void 0,S?new a.BN((0,P.toBuffer)(S)):void 0,x?(0,P.toBuffer)(x):void 0,E?(0,P.toBuffer)(E):void 0)},p.fromRlpSerializedAccount=function(d){var y=a.rlp.decode(d);if(!Array.isArray(y))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(y)},p.fromValuesArray=function(d){var y=o(d,4),S=y[0],x=y[1],E=y[2],I=y[3];return new p(new a.BN(S),new a.BN(x),E,I)},p.prototype._validate=function(){if(this.nonce.lt(new a.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new a.BN(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},p.prototype.raw=function(){return[(0,F.bnToUnpaddedBuffer)(this.nonce),(0,F.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},p.prototype.serialize=function(){return a.rlp.encode(this.raw())},p.prototype.isContract=function(){return!this.codeHash.equals(b.KECCAK256_NULL)},p.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(b.KECCAK256_NULL)},p}();t.Account=M;var z=function(p){try{(0,U.assertIsString)(p)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(p)};t.isValidAddress=z;var H=function(p,d){(0,U.assertIsHexString)(p);var y=(0,_.stripHexPrefix)(p).toLowerCase(),S="";if(d){var x=(0,F.toType)(d,F.TypeOutput.BN);S=x.toString()+"0x"}for(var E=(0,T.keccakFromString)(S+y).toString("hex"),I="0x",N=0;N<y.length;N++)parseInt(E[N],16)>=8?I+=y[N].toUpperCase():I+=y[N];return I};t.toChecksumAddress=H;var j=function(p,d){return(0,t.isValidAddress)(p)&&(0,t.toChecksumAddress)(p,d)===p};t.isValidChecksumAddress=j;var Y=function(p,d){(0,U.assertIsBuffer)(p),(0,U.assertIsBuffer)(d);var y=new a.BN(d);return y.isZero()?(0,T.rlphash)([p,null]).slice(-20):(0,T.rlphash)([p,Buffer.from(y.toArray())]).slice(-20)};t.generateAddress=Y;var V=function(p,d,y){(0,U.assertIsBuffer)(p),(0,U.assertIsBuffer)(d),(0,U.assertIsBuffer)(y),(0,u.default)(p.length===20),(0,u.default)(d.length===32);var S=(0,T.keccak256)(Buffer.concat([Buffer.from("ff","hex"),p,d,(0,T.keccak256)(y)]));return S.slice(-20)};t.generateAddress2=V;var O=function(p){return(0,c.privateKeyVerify)(p)};t.isValidPrivate=O;var ie=function(p,d){return d===void 0&&(d=!1),(0,U.assertIsBuffer)(p),p.length===64?(0,c.publicKeyVerify)(Buffer.concat([Buffer.from([4]),p])):d?(0,c.publicKeyVerify)(p):!1};t.isValidPublic=ie;var Z=function(p,d){return d===void 0&&(d=!1),(0,U.assertIsBuffer)(p),d&&p.length!==64&&(p=Buffer.from((0,c.publicKeyConvert)(p,!1).slice(1))),(0,u.default)(p.length===64),(0,T.keccak)(p).slice(-20)};t.pubToAddress=Z,t.publicToAddress=t.pubToAddress;var ue=function(p){return(0,U.assertIsBuffer)(p),Buffer.from((0,c.publicKeyCreate)(p,!1)).slice(1)};t.privateToPublic=ue;var ce=function(p){return(0,t.publicToAddress)((0,t.privateToPublic)(p))};t.privateToAddress=ce;var Ne=function(p){return(0,U.assertIsBuffer)(p),p.length!==64&&(p=Buffer.from((0,c.publicKeyConvert)(p,!1).slice(1))),p};t.importPublic=Ne;var g=function(){var p=20,d=(0,P.zeros)(p);return(0,P.bufferToHex)(d)};t.zeroAddress=g;var v=function(p){try{(0,U.assertIsString)(p)}catch{return!1}var d=(0,t.zeroAddress)();return d===p};t.isZeroAddress=v})(Ws);var ju={},jw=ye&&ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ju,"__esModule",{value:!0});ju.Address=void 0;var ri=jw(Cs()),Iu=Lr,ll=_n,lo=Ws,Vw=function(){function t(o){(0,ri.default)(o.length===20,"Invalid address length"),this.buf=o}return t.zero=function(){return new t((0,ll.zeros)(20))},t.fromString=function(o){return(0,ri.default)((0,lo.isValidAddress)(o),"Invalid address"),new t((0,ll.toBuffer)(o))},t.fromPublicKey=function(o){(0,ri.default)(Buffer.isBuffer(o),"Public key should be Buffer");var n=(0,lo.pubToAddress)(o);return new t(n)},t.fromPrivateKey=function(o){(0,ri.default)(Buffer.isBuffer(o),"Private key should be Buffer");var n=(0,lo.privateToAddress)(o);return new t(n)},t.generate=function(o,n){return(0,ri.default)(Iu.BN.isBN(n)),new t((0,lo.generateAddress)(o.buf,n.toArrayLike(Buffer)))},t.generate2=function(o,n,u){return(0,ri.default)(Buffer.isBuffer(n)),(0,ri.default)(Buffer.isBuffer(u)),new t((0,lo.generateAddress2)(o.buf,n,u))},t.prototype.equals=function(o){return this.buf.equals(o.buf)},t.prototype.isZero=function(){return this.equals(t.zero())},t.prototype.isPrecompileOrSystemAddress=function(){var o=new Iu.BN(this.buf),n=new Iu.BN(0),u=new Iu.BN("ffff","hex");return o.gte(n)&&o.lte(u)},t.prototype.toString=function(){return"0x"+this.buf.toString("hex")},t.prototype.toBuffer=function(){return Buffer.from(this.buf)},t}();ju.Address=Vw;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.hashPersonalMessage=vr.isValidSignature=vr.fromRpcSig=vr.toCompactSig=vr.toRpcSig=vr.ecrecover=vr.ecsign=void 0;var Ts=Hs,go=Lr,at=_n,Zw=$u,Yw=qr,Ct=Gu;function Jw(t,o,n){var u=(0,Ts.ecdsaSign)(t,o),a=u.signature,c=u.recid,_=Buffer.from(a.slice(0,32)),b=Buffer.from(a.slice(32,64));if(!n||typeof n=="number"){if(n&&!Number.isSafeInteger(n))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var P=n?c+(n*2+35):c+27;return{r:_,s:b,v:P}}var T=(0,Ct.toType)(n,Ct.TypeOutput.BN),U=T.muln(2).addn(35).addn(c).toArrayLike(Buffer);return{r:_,s:b,v:U}}vr.ecsign=Jw;function Vu(t,o){var n=(0,Ct.toType)(t,Ct.TypeOutput.BN);if(n.eqn(0)||n.eqn(1))return(0,Ct.toType)(t,Ct.TypeOutput.BN);if(!o)return n.subn(27);var u=(0,Ct.toType)(o,Ct.TypeOutput.BN);return n.sub(u.muln(2).addn(35))}function Zu(t){var o=new go.BN(t);return o.eqn(0)||o.eqn(1)}var Xw=function(t,o,n,u,a){var c=Buffer.concat([(0,at.setLengthLeft)(n,32),(0,at.setLengthLeft)(u,32)],64),_=Vu(o,a);if(!Zu(_))throw new Error("Invalid signature v value");var b=(0,Ts.ecdsaRecover)(c,_.toNumber(),t);return Buffer.from((0,Ts.publicKeyConvert)(b,!1).slice(1))};vr.ecrecover=Xw;var Qw=function(t,o,n,u){var a=Vu(t,u);if(!Zu(a))throw new Error("Invalid signature v value");return(0,at.bufferToHex)(Buffer.concat([(0,at.setLengthLeft)(o,32),(0,at.setLengthLeft)(n,32),(0,at.toBuffer)(t)]))};vr.toRpcSig=Qw;var ey=function(t,o,n,u){var a=Vu(t,u);if(!Zu(a))throw new Error("Invalid signature v value");var c=(0,Ct.toType)(t,Ct.TypeOutput.Number),_=n;return(c>28&&c%2===1||c===1||c===28)&&(_=Buffer.from(n),_[0]|=128),(0,at.bufferToHex)(Buffer.concat([(0,at.setLengthLeft)(o,32),(0,at.setLengthLeft)(_,32)]))};vr.toCompactSig=ey;var ry=function(t){var o=(0,at.toBuffer)(t),n,u,a;if(o.length>=65)n=o.slice(0,32),u=o.slice(32,64),a=(0,at.bufferToInt)(o.slice(64));else if(o.length===64)n=o.slice(0,32),u=o.slice(32,64),a=(0,at.bufferToInt)(o.slice(32,33))>>7,u[0]&=127;else throw new Error("Invalid signature length");return a<27&&(a+=27),{v:a,r:n,s:u}};vr.fromRpcSig=ry;var ty=function(t,o,n,u,a){u===void 0&&(u=!0);var c=new go.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),_=new go.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(o.length!==32||n.length!==32||!Zu(Vu(t,a)))return!1;var b=new go.BN(o),P=new go.BN(n);return!(b.isZero()||b.gt(_)||P.isZero()||P.gt(_)||u&&P.cmp(c)===1)};vr.isValidSignature=ty;var ny=function(t){(0,Yw.assertIsBuffer)(t);var o=Buffer.from(`Ethereum Signed Message:
`.concat(t.length),"utf-8");return(0,Zw.keccak)(Buffer.concat([o,t]))};vr.hashPersonalMessage=ny;var Yu={},iy=ye&&ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.defineProperties=void 0;var hl=iy(Cs()),oy=$e,dl=Lr,Pu=_n,uy=function(t,o,n){if(t.raw=[],t._fields=[],t.toJSON=function(a){if(a===void 0&&(a=!1),a){var c={};return t._fields.forEach(function(_){c[_]="0x".concat(t[_].toString("hex"))}),c}return(0,Pu.baToJSON)(t.raw)},t.serialize=function(){return dl.rlp.encode(t.raw)},o.forEach(function(a,c){t._fields.push(a.name);function _(){return t.raw[c]}function b(P){P=(0,Pu.toBuffer)(P),P.toString("hex")==="00"&&!a.allowZero&&(P=Buffer.allocUnsafe(0)),a.allowLess&&a.length?(P=(0,Pu.unpadBuffer)(P),(0,hl.default)(a.length>=P.length,"The field ".concat(a.name," must not have more ").concat(a.length," bytes"))):!(a.allowZero&&P.length===0)&&a.length&&(0,hl.default)(a.length===P.length,"The field ".concat(a.name," must have byte length of ").concat(a.length)),t.raw[c]=P}Object.defineProperty(t,a.name,{enumerable:!0,configurable:!0,get:_,set:b}),a.default&&(t[a.name]=a.default),a.alias&&Object.defineProperty(t,a.alias,{enumerable:!1,configurable:!0,set:b,get:_})}),n)if(typeof n=="string"&&(n=Buffer.from((0,oy.stripHexPrefix)(n),"hex")),Buffer.isBuffer(n)&&(n=dl.rlp.decode(n)),Array.isArray(n)){if(n.length>t._fields.length)throw new Error("wrong number of fields in data");n.forEach(function(a,c){t[t._fields[c]]=(0,Pu.toBuffer)(a)})}else if(typeof n=="object"){var u=Object.keys(n);o.forEach(function(a){u.indexOf(a.name)!==-1&&(t[a.name]=n[a.name]),u.indexOf(a.alias)!==-1&&(t[a.alias]=n[a.alias])})}else throw new Error("invalid data")};Yu.defineProperties=uy;(function(t){var o=ye&&ye.__createBinding||(Object.create?function(a,c,_,b){b===void 0&&(b=_);var P=Object.getOwnPropertyDescriptor(c,_);(!P||("get"in P?!c.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return c[_]}}),Object.defineProperty(a,b,P)}:function(a,c,_,b){b===void 0&&(b=_),a[b]=c[_]}),n=ye&&ye.__exportStar||function(a,c){for(var _ in a)_!=="default"&&!Object.prototype.hasOwnProperty.call(c,_)&&o(c,a,_)};Object.defineProperty(t,"__esModule",{value:!0}),t.isHexString=t.getKeys=t.fromAscii=t.fromUtf8=t.toAscii=t.arrayContainsArray=t.getBinarySize=t.padToEven=t.stripHexPrefix=t.isHexPrefixed=void 0,n(Fs,t),n(Ws,t),n(ju,t),n($u,t),n(vr,t),n(_n,t),n(Yu,t),n(Lr,t),n(Gu,t);var u=$e;Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return u.isHexPrefixed}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return u.stripHexPrefix}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return u.padToEven}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return u.getBinarySize}}),Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return u.arrayContainsArray}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return u.toAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return u.fromUtf8}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return u.fromAscii}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return u.getKeys}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return u.isHexString}})})(hw);var ql={exports:{}};(function(t){(function(o,n){t.exports?t.exports=n():o.log=n()})(ye,function(){var o=function(){},n="undefined",u=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),a=["trace","debug","info","warn","error"];function c(j,Y){var V=j[Y];if(typeof V.bind=="function")return V.bind(j);try{return Function.prototype.bind.call(V,j)}catch{return function(){return Function.prototype.apply.apply(V,[j,arguments])}}}function _(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function b(j){return j==="debug"&&(j="log"),typeof console===n?!1:j==="trace"&&u?_:console[j]!==void 0?c(console,j):console.log!==void 0?c(console,"log"):o}function P(j,Y){for(var V=0;V<a.length;V++){var O=a[V];this[O]=V<j?o:this.methodFactory(O,j,Y)}this.log=this.debug}function T(j,Y,V){return function(){typeof console!==n&&(P.call(this,Y,V),this[j].apply(this,arguments))}}function U(j,Y,V){return b(j)||T.apply(this,arguments)}function F(j,Y,V){var O=this,ie;Y=Y??"WARN";var Z="loglevel";typeof j=="string"?Z+=":"+j:typeof j=="symbol"&&(Z=void 0);function ue(v){var p=(a[v]||"silent").toUpperCase();if(!(typeof window===n||!Z)){try{window.localStorage[Z]=p;return}catch{}try{window.document.cookie=encodeURIComponent(Z)+"="+p+";"}catch{}}}function ce(){var v;if(!(typeof window===n||!Z)){try{v=window.localStorage[Z]}catch{}if(typeof v===n)try{var p=window.document.cookie,d=p.indexOf(encodeURIComponent(Z)+"=");d!==-1&&(v=/^([^;]+)/.exec(p.slice(d))[1])}catch{}return O.levels[v]===void 0&&(v=void 0),v}}function Ne(){if(!(typeof window===n||!Z)){try{window.localStorage.removeItem(Z);return}catch{}try{window.document.cookie=encodeURIComponent(Z)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}O.name=j,O.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},O.methodFactory=V||U,O.getLevel=function(){return ie},O.setLevel=function(v,p){if(typeof v=="string"&&O.levels[v.toUpperCase()]!==void 0&&(v=O.levels[v.toUpperCase()]),typeof v=="number"&&v>=0&&v<=O.levels.SILENT){if(ie=v,p!==!1&&ue(v),P.call(O,v,j),typeof console===n&&v<O.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+v},O.setDefaultLevel=function(v){Y=v,ce()||O.setLevel(v,!1)},O.resetLevel=function(){O.setLevel(Y,!1),Ne()},O.enableAll=function(v){O.setLevel(O.levels.TRACE,v)},O.disableAll=function(v){O.setLevel(O.levels.SILENT,v)};var g=ce();g==null&&(g=Y),O.setLevel(g,!1)}var M=new F,z={};M.getLogger=function(Y){if(typeof Y!="symbol"&&typeof Y!="string"||Y==="")throw new TypeError("You must supply a name when creating a logger.");var V=z[Y];return V||(V=z[Y]=new F(Y,M.getLevel(),M.methodFactory)),V};var H=typeof window!==n?window.log:void 0;return M.noConflict=function(){return typeof window!==n&&window.log===M&&(window.log=H),M},M.getLoggers=function(){return z},M.default=M,M})})(ql);var kl=ql.exports;const Mu=Or(kl);var Uu={exports:{}};Uu.exports;(function(t,o){var n=200,u="__lodash_hash_undefined__",a=800,c=16,_=9007199254740991,b="[object Arguments]",P="[object Array]",T="[object AsyncFunction]",U="[object Boolean]",F="[object Date]",M="[object Error]",z="[object Function]",H="[object GeneratorFunction]",j="[object Map]",Y="[object Number]",V="[object Null]",O="[object Object]",ie="[object Proxy]",Z="[object RegExp]",ue="[object Set]",ce="[object String]",Ne="[object Undefined]",g="[object WeakMap]",v="[object ArrayBuffer]",p="[object DataView]",d="[object Float32Array]",y="[object Float64Array]",S="[object Int8Array]",x="[object Int16Array]",E="[object Int32Array]",I="[object Uint8Array]",N="[object Uint8ClampedArray]",B="[object Uint16Array]",k="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,oe={};oe[d]=oe[y]=oe[S]=oe[x]=oe[E]=oe[I]=oe[N]=oe[B]=oe[k]=!0,oe[b]=oe[P]=oe[v]=oe[U]=oe[p]=oe[F]=oe[M]=oe[z]=oe[j]=oe[Y]=oe[O]=oe[Z]=oe[ue]=oe[ce]=oe[g]=!1;var Ke=typeof ye=="object"&&ye&&ye.Object===Object&&ye,le=typeof self=="object"&&self&&self.Object===Object&&self,pe=Ke||le||Function("return this")(),ke=o&&!o.nodeType&&o,er=ke&&!0&&t&&!t.nodeType&&t,_r=er&&er.exports===ke,kr=_r&&Ke.process,Ye=function(){try{var w=er&&er.require&&er.require("util").types;return w||kr&&kr.binding&&kr.binding("util")}catch{}}(),cr=Ye&&Ye.isTypedArray;function Qe(w,R,D){switch(D.length){case 0:return w.call(R);case 1:return w.call(R,D[0]);case 2:return w.call(R,D[0],D[1]);case 3:return w.call(R,D[0],D[1],D[2])}return w.apply(R,D)}function Ce(w,R){for(var D=-1,Q=Array(w);++D<w;)Q[D]=R(D);return Q}function Te(w){return function(R){return w(R)}}function ii(w,R){return w==null?void 0:w[R]}function Rr(w,R){return function(D){return w(R(D))}}var wn=Array.prototype,oi=Function.prototype,Br=Object.prototype,nr=pe["__core-js_shared__"],Nr=oi.toString,ar=Br.hasOwnProperty,yn=function(){var w=/[^.]+$/.exec(nr&&nr.keys&&nr.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),ft=Br.toString,ui=Nr.call(Object),wt=RegExp("^"+Nr.call(ar).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wr=_r?pe.Buffer:void 0,yt=pe.Symbol,mt=pe.Uint8Array,bt=wr?wr.allocUnsafe:void 0,Et=Rr(Object.getPrototypeOf,Object),At=Object.create,Nt=Br.propertyIsEnumerable,Mt=wn.splice,yr=yt?yt.toStringTag:void 0,Gr=function(){try{var w=fi(Object,"defineProperty");return w({},"",{}),w}catch{}}(),mn=wr?wr.isBuffer:void 0,Xt=Math.max,bn=Date.now,Ut=fi(pe,"Map"),jr=fi(Object,"create"),En=function(){function w(){}return function(R){if(!ct(R))return{};if(At)return At(R);w.prototype=R;var D=new w;return w.prototype=void 0,D}}();function Mr(w){var R=-1,D=w==null?0:w.length;for(this.clear();++R<D;){var Q=w[R];this.set(Q[0],Q[1])}}function An(){this.__data__=jr?jr(null):{},this.size=0}function Sn(w){var R=this.has(w)&&delete this.__data__[w];return this.size-=R?1:0,R}function Qt(w){var R=this.__data__;if(jr){var D=R[w];return D===u?void 0:D}return ar.call(R,w)?R[w]:void 0}function On(w){var R=this.__data__;return jr?R[w]!==void 0:ar.call(R,w)}function Rn(w,R){var D=this.__data__;return this.size+=this.has(w)?0:1,D[w]=jr&&R===void 0?u:R,this}Mr.prototype.clear=An,Mr.prototype.delete=Sn,Mr.prototype.get=Qt,Mr.prototype.has=On,Mr.prototype.set=Rn;function mr(w){var R=-1,D=w==null?0:w.length;for(this.clear();++R<D;){var Q=w[R];this.set(Q[0],Q[1])}}function Dt(){this.__data__=[],this.size=0}function In(w){var R=this.__data__,D=Dr(R,w);if(D<0)return!1;var Q=R.length-1;return D==Q?R.pop():Mt.call(R,D,1),--this.size,!0}function Ft(w){var R=this.__data__,D=Dr(R,w);return D<0?void 0:R[D][1]}function Pn(w){return Dr(this.__data__,w)>-1}function Tn(w,R){var D=this.__data__,Q=Dr(D,w);return Q<0?(++this.size,D.push([w,R])):D[Q][1]=R,this}mr.prototype.clear=Dt,mr.prototype.delete=In,mr.prototype.get=Ft,mr.prototype.has=Pn,mr.prototype.set=Tn;function Vr(w){var R=-1,D=w==null?0:w.length;for(this.clear();++R<D;){var Q=w[R];this.set(Q[0],Q[1])}}function Cn(){this.size=0,this.__data__={hash:new Mr,map:new(Ut||mr),string:new Mr}}function xn(w){var R=si(this,w).delete(w);return this.size-=R?1:0,R}function Ln(w){return si(this,w).get(w)}function Bn(w){return si(this,w).has(w)}function Nn(w,R){var D=si(this,w),Q=D.size;return D.set(w,R),this.size+=D.size==Q?0:1,this}Vr.prototype.clear=Cn,Vr.prototype.delete=xn,Vr.prototype.get=Ln,Vr.prototype.has=Bn,Vr.prototype.set=Nn;function Ur(w){var R=this.__data__=new mr(w);this.size=R.size}function Mn(){this.__data__=new mr,this.size=0}function Un(w){var R=this.__data__,D=R.delete(w);return this.size=R.size,D}function Dn(w){return this.__data__.get(w)}function Fn(w){return this.__data__.has(w)}function Kn(w,R){var D=this.__data__;if(D instanceof mr){var Q=D.__data__;if(!Ut||Q.length<n-1)return Q.push([w,R]),this.size=++D.size,this;D=this.__data__=new Vr(Q)}return D.set(w,R),this.size=D.size,this}Ur.prototype.clear=Mn,Ur.prototype.delete=Un,Ur.prototype.get=Dn,Ur.prototype.has=Fn,Ur.prototype.set=Kn;function Wn(w,R){var D=ki(w),Q=!D&&qi(w),Ae=!D&&!Q&&No(w),Ue=!D&&!Q&&!Ae&&Uo(w),ve=D||Q||Ae||Ue,be=ve?Ce(w.length,String):[],xe=be.length;for(var br in w)(R||ar.call(w,br))&&!(ve&&(br=="length"||Ae&&(br=="offset"||br=="parent")||Ue&&(br=="buffer"||br=="byteLength"||br=="byteOffset")||Io(br,xe)))&&be.push(br);return be}function Zr(w,R,D){(D!==void 0&&!li(w[R],D)||D===void 0&&!(R in w))&&Kt(w,R,D)}function Hn(w,R,D){var Q=w[R];(!(ar.call(w,R)&&li(Q,D))||D===void 0&&!(R in w))&&Kt(w,R,D)}function Dr(w,R){for(var D=w.length;D--;)if(li(w[D][0],R))return D;return-1}function Kt(w,R,D){R=="__proto__"&&Gr?Gr(w,R,{configurable:!0,enumerable:!0,value:D,writable:!0}):w[R]=D}var zn=Oo();function St(w){return w==null?w===void 0?Ne:V:yr&&yr in Object(w)?Ro(w):Co(w)}function Wt(w){return $n(w)&&St(w)==b}function en(w){if(!ct(w)||$i(w))return!1;var R=Gi(w)?wt:X;return R.test(Bo(w))}function rn(w){return $n(w)&&Mo(w.length)&&!!oe[St(w)]}function Qu(w){if(!ct(w))return To(w);var R=Ht(w),D=[];for(var Q in w)Q=="constructor"&&(R||!ar.call(w,Q))||D.push(Q);return D}function mo(w,R,D,Q,Ae){w!==R&&zn(R,function(Ue,ve){if(Ae||(Ae=new Ur),ct(Ue))ea(w,R,ve,D,mo,Q,Ae);else{var be=Q?Q(ci(w,ve),Ue,ve+"",w,R,Ae):void 0;be===void 0&&(be=Ue),Zr(w,ve,be)}},Do)}function ea(w,R,D,Q,Ae,Ue,ve){var be=ci(w,D),xe=ci(R,D),br=ve.get(xe);if(br){Zr(w,D,br);return}var sr=Ue?Ue(be,xe,D+"",w,R,ve):void 0,ir=sr===void 0;if(ir){var di=ki(xe),gi=!di&&No(xe),ji=!di&&!gi&&Uo(xe);sr=xe,di||gi||ji?ki(be)?sr=be:ia(be)?sr=ta(be):gi?(ir=!1,sr=Eo(xe,!0)):ji?(ir=!1,sr=Wi(xe,!0)):sr=[]:oa(xe)||qi(xe)?(sr=be,qi(be)?sr=ua(be):(!ct(be)||Gi(be))&&(sr=Hi(xe))):ir=!1}ir&&(ve.set(xe,sr),Ae(sr,xe,Q,Ue,ve),ve.delete(xe)),Zr(w,D,sr)}function ra(w,R){return xo(na(w,R,Fo),w+"")}var bo=Gr?function(w,R){return Gr(w,"toString",{configurable:!0,enumerable:!1,value:Fe(R),writable:!0})}:Fo;function Eo(w,R){if(R)return w.slice();var D=w.length,Q=bt?bt(D):new w.constructor(D);return w.copy(Q),Q}function Ao(w){var R=new w.constructor(w.byteLength);return new mt(R).set(new mt(w)),R}function Wi(w,R){var D=R?Ao(w.buffer):w.buffer;return new w.constructor(D,w.byteOffset,w.length)}function ta(w,R){var D=-1,Q=w.length;for(R||(R=Array(Q));++D<Q;)R[D]=w[D];return R}function So(w,R,D,Q){var Ae=!D;D||(D={});for(var Ue=-1,ve=R.length;++Ue<ve;){var be=R[Ue],xe=Q?Q(D[be],w[be],be,D,w):void 0;xe===void 0&&(xe=w[be]),Ae?Kt(D,be,xe):Hn(D,be,xe)}return D}function ai(w){return ra(function(R,D){var Q=-1,Ae=D.length,Ue=Ae>1?D[Ae-1]:void 0,ve=Ae>2?D[2]:void 0;for(Ue=w.length>3&&typeof Ue=="function"?(Ae--,Ue):void 0,ve&&Po(D[0],D[1],ve)&&(Ue=Ae<3?void 0:Ue,Ae=1),R=Object(R);++Q<Ae;){var be=D[Q];be&&w(R,be,Q,Ue)}return R})}function Oo(w){return function(R,D,Q){for(var Ae=-1,Ue=Object(R),ve=Q(R),be=ve.length;be--;){var xe=ve[w?be:++Ae];if(D(Ue[xe],xe,Ue)===!1)break}return R}}function si(w,R){var D=w.__data__;return zi(R)?D[typeof R=="string"?"string":"hash"]:D.map}function fi(w,R){var D=ii(w,R);return en(D)?D:void 0}function Ro(w){var R=ar.call(w,yr),D=w[yr];try{w[yr]=void 0;var Q=!0}catch{}var Ae=ft.call(w);return Q&&(R?w[yr]=D:delete w[yr]),Ae}function Hi(w){return typeof w.constructor=="function"&&!Ht(w)?En(Et(w)):{}}function Io(w,R){var D=typeof w;return R=R??_,!!R&&(D=="number"||D!="symbol"&&me.test(w))&&w>-1&&w%1==0&&w<R}function Po(w,R,D){if(!ct(D))return!1;var Q=typeof R;return(Q=="number"?hi(D)&&Io(R,D.length):Q=="string"&&R in D)?li(D[R],w):!1}function zi(w){var R=typeof w;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?w!=="__proto__":w===null}function $i(w){return!!yn&&yn in w}function Ht(w){var R=w&&w.constructor,D=typeof R=="function"&&R.prototype||Br;return w===D}function To(w){var R=[];if(w!=null)for(var D in Object(w))R.push(D);return R}function Co(w){return ft.call(w)}function na(w,R,D){return R=Xt(R===void 0?w.length-1:R,0),function(){for(var Q=arguments,Ae=-1,Ue=Xt(Q.length-R,0),ve=Array(Ue);++Ae<Ue;)ve[Ae]=Q[R+Ae];Ae=-1;for(var be=Array(R+1);++Ae<R;)be[Ae]=Q[Ae];return be[R]=D(ve),Qe(w,this,be)}}function ci(w,R){if(!(R==="constructor"&&typeof w[R]=="function")&&R!="__proto__")return w[R]}var xo=Lo(bo);function Lo(w){var R=0,D=0;return function(){var Q=bn(),Ae=c-(Q-D);if(D=Q,Ae>0){if(++R>=a)return arguments[0]}else R=0;return w.apply(void 0,arguments)}}function Bo(w){if(w!=null){try{return Nr.call(w)}catch{}try{return w+""}catch{}}return""}function li(w,R){return w===R||w!==w&&R!==R}var qi=Wt(function(){return arguments}())?Wt:function(w){return $n(w)&&ar.call(w,"callee")&&!Nt.call(w,"callee")},ki=Array.isArray;function hi(w){return w!=null&&Mo(w.length)&&!Gi(w)}function ia(w){return $n(w)&&hi(w)}var No=mn||aa;function Gi(w){if(!ct(w))return!1;var R=St(w);return R==z||R==H||R==T||R==ie}function Mo(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=_}function ct(w){var R=typeof w;return w!=null&&(R=="object"||R=="function")}function $n(w){return w!=null&&typeof w=="object"}function oa(w){if(!$n(w)||St(w)!=O)return!1;var R=Et(w);if(R===null)return!0;var D=ar.call(R,"constructor")&&R.constructor;return typeof D=="function"&&D instanceof D&&Nr.call(D)==ui}var Uo=cr?Te(cr):rn;function ua(w){return So(w,Do(w))}function Do(w){return hi(w)?Wn(w,!0):Qu(w)}var We=ai(function(w,R,D){mo(w,R,D)});function Fe(w){return function(){return w}}function Fo(w){return w}function aa(){return!1}t.exports=We})(Uu,Uu.exports);Uu.exports;const ay=Mu.getLogger("http-helpers");ay.setLevel(kl.levels.INFO);var Du={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Du.exports;(function(t,o){(function(){var n,u="4.17.21",a=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",_="Expected a function",b="Invalid `variable` option passed into `_.template`",P="__lodash_hash_undefined__",T=500,U="__lodash_placeholder__",F=1,M=2,z=4,H=1,j=2,Y=1,V=2,O=4,ie=8,Z=16,ue=32,ce=64,Ne=128,g=256,v=512,p=30,d="...",y=800,S=16,x=1,E=2,I=3,N=1/0,B=9007199254740991,k=17976931348623157e292,re=0/0,X=4294967295,me=X-1,oe=X>>>1,Ke=[["ary",Ne],["bind",Y],["bindKey",V],["curry",ie],["curryRight",Z],["flip",v],["partial",ue],["partialRight",ce],["rearg",g]],le="[object Arguments]",pe="[object Array]",ke="[object AsyncFunction]",er="[object Boolean]",_r="[object Date]",kr="[object DOMException]",Ye="[object Error]",cr="[object Function]",Qe="[object GeneratorFunction]",Ce="[object Map]",Te="[object Number]",ii="[object Null]",Rr="[object Object]",wn="[object Promise]",oi="[object Proxy]",Br="[object RegExp]",nr="[object Set]",Nr="[object String]",ar="[object Symbol]",yn="[object Undefined]",ft="[object WeakMap]",ui="[object WeakSet]",wt="[object ArrayBuffer]",wr="[object DataView]",yt="[object Float32Array]",mt="[object Float64Array]",bt="[object Int8Array]",Et="[object Int16Array]",At="[object Int32Array]",Nt="[object Uint8Array]",Mt="[object Uint8ClampedArray]",yr="[object Uint16Array]",Gr="[object Uint32Array]",mn=/\b__p \+= '';/g,Xt=/\b(__p \+=) '' \+/g,bn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ut=/&(?:amp|lt|gt|quot|#39);/g,jr=/[&<>"']/g,En=RegExp(Ut.source),Mr=RegExp(jr.source),An=/<%-([\s\S]+?)%>/g,Sn=/<%([\s\S]+?)%>/g,Qt=/<%=([\s\S]+?)%>/g,On=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rn=/^\w*$/,mr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dt=/[\\^$.*+?()[\]{}|]/g,In=RegExp(Dt.source),Ft=/^\s+/,Pn=/\s/,Tn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vr=/\{\n\/\* \[wrapped with (.+)\] \*/,Cn=/,? & /,xn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ln=/[()=,{}\[\]\/\s]/,Bn=/\\(\\)?/g,Nn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ur=/\w*$/,Mn=/^[-+]0x[0-9a-f]+$/i,Un=/^0b[01]+$/i,Dn=/^\[object .+?Constructor\]$/,Fn=/^0o[0-7]+$/i,Kn=/^(?:0|[1-9]\d*)$/,Wn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zr=/($^)/,Hn=/['\n\r\u2028\u2029\\]/g,Dr="\\ud800-\\udfff",Kt="\\u0300-\\u036f",zn="\\ufe20-\\ufe2f",St="\\u20d0-\\u20ff",Wt=Kt+zn+St,en="\\u2700-\\u27bf",rn="a-z\\xdf-\\xf6\\xf8-\\xff",Qu="\\xac\\xb1\\xd7\\xf7",mo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ea="\\u2000-\\u206f",ra=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bo="A-Z\\xc0-\\xd6\\xd8-\\xde",Eo="\\ufe0e\\ufe0f",Ao=Qu+mo+ea+ra,Wi="['â]",ta="["+Dr+"]",So="["+Ao+"]",ai="["+Wt+"]",Oo="\\d+",si="["+en+"]",fi="["+rn+"]",Ro="[^"+Dr+Ao+Oo+en+rn+bo+"]",Hi="\\ud83c[\\udffb-\\udfff]",Io="(?:"+ai+"|"+Hi+")",Po="[^"+Dr+"]",zi="(?:\\ud83c[\\udde6-\\uddff]){2}",$i="[\\ud800-\\udbff][\\udc00-\\udfff]",Ht="["+bo+"]",To="\\u200d",Co="(?:"+fi+"|"+Ro+")",na="(?:"+Ht+"|"+Ro+")",ci="(?:"+Wi+"(?:d|ll|m|re|s|t|ve))?",xo="(?:"+Wi+"(?:D|LL|M|RE|S|T|VE))?",Lo=Io+"?",Bo="["+Eo+"]?",li="(?:"+To+"(?:"+[Po,zi,$i].join("|")+")"+Bo+Lo+")*",qi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ki="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",hi=Bo+Lo+li,ia="(?:"+[si,zi,$i].join("|")+")"+hi,No="(?:"+[Po+ai+"?",ai,zi,$i,ta].join("|")+")",Gi=RegExp(Wi,"g"),Mo=RegExp(ai,"g"),ct=RegExp(Hi+"(?="+Hi+")|"+No+hi,"g"),$n=RegExp([Ht+"?"+fi+"+"+ci+"(?="+[So,Ht,"$"].join("|")+")",na+"+"+xo+"(?="+[So,Ht+Co,"$"].join("|")+")",Ht+"?"+Co+"+"+ci,Ht+"+"+xo,ki,qi,Oo,ia].join("|"),"g"),oa=RegExp("["+To+Dr+Wt+Eo+"]"),Uo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ua=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Do=-1,We={};We[yt]=We[mt]=We[bt]=We[Et]=We[At]=We[Nt]=We[Mt]=We[yr]=We[Gr]=!0,We[le]=We[pe]=We[wt]=We[er]=We[wr]=We[_r]=We[Ye]=We[cr]=We[Ce]=We[Te]=We[Rr]=We[Br]=We[nr]=We[Nr]=We[ft]=!1;var Fe={};Fe[le]=Fe[pe]=Fe[wt]=Fe[wr]=Fe[er]=Fe[_r]=Fe[yt]=Fe[mt]=Fe[bt]=Fe[Et]=Fe[At]=Fe[Ce]=Fe[Te]=Fe[Rr]=Fe[Br]=Fe[nr]=Fe[Nr]=Fe[ar]=Fe[Nt]=Fe[Mt]=Fe[yr]=Fe[Gr]=!0,Fe[Ye]=Fe[cr]=Fe[ft]=!1;var Fo={Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"},aa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},w={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},R={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},D=parseFloat,Q=parseInt,Ae=typeof ye=="object"&&ye&&ye.Object===Object&&ye,Ue=typeof self=="object"&&self&&self.Object===Object&&self,ve=Ae||Ue||Function("return this")(),be=o&&!o.nodeType&&o,xe=be&&!0&&t&&!t.nodeType&&t,br=xe&&xe.exports===be,sr=br&&Ae.process,ir=function(){try{var C=xe&&xe.require&&xe.require("util").types;return C||sr&&sr.binding&&sr.binding("util")}catch{}}(),di=ir&&ir.isArrayBuffer,gi=ir&&ir.isDate,ji=ir&&ir.isMap,$s=ir&&ir.isRegExp,qs=ir&&ir.isSet,ks=ir&&ir.isTypedArray;function Fr(C,W,K){switch(K.length){case 0:return C.call(W);case 1:return C.call(W,K[0]);case 2:return C.call(W,K[0],K[1]);case 3:return C.call(W,K[0],K[1],K[2])}return C.apply(W,K)}function Jl(C,W,K,ee){for(var he=-1,Be=C==null?0:C.length;++he<Be;){var rr=C[he];W(ee,rr,K(rr),C)}return ee}function Yr(C,W){for(var K=-1,ee=C==null?0:C.length;++K<ee&&W(C[K],K,C)!==!1;);return C}function Xl(C,W){for(var K=C==null?0:C.length;K--&&W(C[K],K,C)!==!1;);return C}function Gs(C,W){for(var K=-1,ee=C==null?0:C.length;++K<ee;)if(!W(C[K],K,C))return!1;return!0}function tn(C,W){for(var K=-1,ee=C==null?0:C.length,he=0,Be=[];++K<ee;){var rr=C[K];W(rr,K,C)&&(Be[he++]=rr)}return Be}function Ko(C,W){var K=C==null?0:C.length;return!!K&&pi(C,W,0)>-1}function sa(C,W,K){for(var ee=-1,he=C==null?0:C.length;++ee<he;)if(K(W,C[ee]))return!0;return!1}function Ge(C,W){for(var K=-1,ee=C==null?0:C.length,he=Array(ee);++K<ee;)he[K]=W(C[K],K,C);return he}function nn(C,W){for(var K=-1,ee=W.length,he=C.length;++K<ee;)C[he+K]=W[K];return C}function fa(C,W,K,ee){var he=-1,Be=C==null?0:C.length;for(ee&&Be&&(K=C[++he]);++he<Be;)K=W(K,C[he],he,C);return K}function Ql(C,W,K,ee){var he=C==null?0:C.length;for(ee&&he&&(K=C[--he]);he--;)K=W(K,C[he],he,C);return K}function ca(C,W){for(var K=-1,ee=C==null?0:C.length;++K<ee;)if(W(C[K],K,C))return!0;return!1}var eh=la("length");function rh(C){return C.split("")}function th(C){return C.match(xn)||[]}function js(C,W,K){var ee;return K(C,function(he,Be,rr){if(W(he,Be,rr))return ee=Be,!1}),ee}function Wo(C,W,K,ee){for(var he=C.length,Be=K+(ee?1:-1);ee?Be--:++Be<he;)if(W(C[Be],Be,C))return Be;return-1}function pi(C,W,K){return W===W?gh(C,W,K):Wo(C,Vs,K)}function nh(C,W,K,ee){for(var he=K-1,Be=C.length;++he<Be;)if(ee(C[he],W))return he;return-1}function Vs(C){return C!==C}function Zs(C,W){var K=C==null?0:C.length;return K?da(C,W)/K:re}function la(C){return function(W){return W==null?n:W[C]}}function ha(C){return function(W){return C==null?n:C[W]}}function Ys(C,W,K,ee,he){return he(C,function(Be,rr,He){K=ee?(ee=!1,Be):W(K,Be,rr,He)}),K}function ih(C,W){var K=C.length;for(C.sort(W);K--;)C[K]=C[K].value;return C}function da(C,W){for(var K,ee=-1,he=C.length;++ee<he;){var Be=W(C[ee]);Be!==n&&(K=K===n?Be:K+Be)}return K}function ga(C,W){for(var K=-1,ee=Array(C);++K<C;)ee[K]=W(K);return ee}function oh(C,W){return Ge(W,function(K){return[K,C[K]]})}function Js(C){return C&&C.slice(0,rf(C)+1).replace(Ft,"")}function Kr(C){return function(W){return C(W)}}function pa(C,W){return Ge(W,function(K){return C[K]})}function Vi(C,W){return C.has(W)}function Xs(C,W){for(var K=-1,ee=C.length;++K<ee&&pi(W,C[K],0)>-1;);return K}function Qs(C,W){for(var K=C.length;K--&&pi(W,C[K],0)>-1;);return K}function uh(C,W){for(var K=C.length,ee=0;K--;)C[K]===W&&++ee;return ee}var ah=ha(Fo),sh=ha(aa);function fh(C){return"\\"+R[C]}function ch(C,W){return C==null?n:C[W]}function vi(C){return oa.test(C)}function lh(C){return Uo.test(C)}function hh(C){for(var W,K=[];!(W=C.next()).done;)K.push(W.value);return K}function va(C){var W=-1,K=Array(C.size);return C.forEach(function(ee,he){K[++W]=[he,ee]}),K}function ef(C,W){return function(K){return C(W(K))}}function on(C,W){for(var K=-1,ee=C.length,he=0,Be=[];++K<ee;){var rr=C[K];(rr===W||rr===U)&&(C[K]=U,Be[he++]=K)}return Be}function Ho(C){var W=-1,K=Array(C.size);return C.forEach(function(ee){K[++W]=ee}),K}function dh(C){var W=-1,K=Array(C.size);return C.forEach(function(ee){K[++W]=[ee,ee]}),K}function gh(C,W,K){for(var ee=K-1,he=C.length;++ee<he;)if(C[ee]===W)return ee;return-1}function ph(C,W,K){for(var ee=K+1;ee--;)if(C[ee]===W)return ee;return ee}function _i(C){return vi(C)?_h(C):eh(C)}function lt(C){return vi(C)?wh(C):rh(C)}function rf(C){for(var W=C.length;W--&&Pn.test(C.charAt(W)););return W}var vh=ha(w);function _h(C){for(var W=ct.lastIndex=0;ct.test(C);)++W;return W}function wh(C){return C.match(ct)||[]}function yh(C){return C.match($n)||[]}var mh=function C(W){W=W==null?ve:wi.defaults(ve.Object(),W,wi.pick(ve,ua));var K=W.Array,ee=W.Date,he=W.Error,Be=W.Function,rr=W.Math,He=W.Object,_a=W.RegExp,bh=W.String,Jr=W.TypeError,zo=K.prototype,Eh=Be.prototype,yi=He.prototype,$o=W["__core-js_shared__"],qo=Eh.toString,De=yi.hasOwnProperty,Ah=0,tf=function(){var e=/[^.]+$/.exec($o&&$o.keys&&$o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ko=yi.toString,Sh=qo.call(He),Oh=ve._,Rh=_a("^"+qo.call(De).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Go=br?W.Buffer:n,un=W.Symbol,jo=W.Uint8Array,nf=Go?Go.allocUnsafe:n,Vo=ef(He.getPrototypeOf,He),of=He.create,uf=yi.propertyIsEnumerable,Zo=zo.splice,af=un?un.isConcatSpreadable:n,Zi=un?un.iterator:n,qn=un?un.toStringTag:n,Yo=function(){try{var e=Zn(He,"defineProperty");return e({},"",{}),e}catch{}}(),Ih=W.clearTimeout!==ve.clearTimeout&&W.clearTimeout,Ph=ee&&ee.now!==ve.Date.now&&ee.now,Th=W.setTimeout!==ve.setTimeout&&W.setTimeout,Jo=rr.ceil,Xo=rr.floor,wa=He.getOwnPropertySymbols,Ch=Go?Go.isBuffer:n,sf=W.isFinite,xh=zo.join,Lh=ef(He.keys,He),tr=rr.max,lr=rr.min,Bh=ee.now,Nh=W.parseInt,ff=rr.random,Mh=zo.reverse,ya=Zn(W,"DataView"),Yi=Zn(W,"Map"),ma=Zn(W,"Promise"),mi=Zn(W,"Set"),Ji=Zn(W,"WeakMap"),Xi=Zn(He,"create"),Qo=Ji&&new Ji,bi={},Uh=Yn(ya),Dh=Yn(Yi),Fh=Yn(ma),Kh=Yn(mi),Wh=Yn(Ji),eu=un?un.prototype:n,Qi=eu?eu.valueOf:n,cf=eu?eu.toString:n;function l(e){if(Ze(e)&&!de(e)&&!(e instanceof Oe)){if(e instanceof Xr)return e;if(De.call(e,"__wrapped__"))return lc(e)}return new Xr(e)}var Ei=function(){function e(){}return function(r){if(!je(r))return{};if(of)return of(r);e.prototype=r;var i=new e;return e.prototype=n,i}}();function ru(){}function Xr(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=n}l.templateSettings={escape:An,evaluate:Sn,interpolate:Qt,variable:"",imports:{_:l}},l.prototype=ru.prototype,l.prototype.constructor=l,Xr.prototype=Ei(ru.prototype),Xr.prototype.constructor=Xr;function Oe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function Hh(){var e=new Oe(this.__wrapped__);return e.__actions__=Ir(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ir(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ir(this.__views__),e}function zh(){if(this.__filtered__){var e=new Oe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function $h(){var e=this.__wrapped__.value(),r=this.__dir__,i=de(e),s=r<0,f=i?e.length:0,h=rg(0,f,this.__views__),m=h.start,A=h.end,L=A-m,$=s?A:m-1,q=this.__iteratees__,G=q.length,J=0,te=lr(L,this.__takeCount__);if(!i||!s&&f==L&&te==L)return Nf(e,this.__actions__);var se=[];e:for(;L--&&J<te;){$+=r;for(var we=-1,fe=e[$];++we<G;){var Se=q[we],Re=Se.iteratee,zr=Se.type,Sr=Re(fe);if(zr==E)fe=Sr;else if(!Sr){if(zr==x)continue e;break e}}se[J++]=fe}return se}Oe.prototype=Ei(ru.prototype),Oe.prototype.constructor=Oe;function kn(e){var r=-1,i=e==null?0:e.length;for(this.clear();++r<i;){var s=e[r];this.set(s[0],s[1])}}function qh(){this.__data__=Xi?Xi(null):{},this.size=0}function kh(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function Gh(e){var r=this.__data__;if(Xi){var i=r[e];return i===P?n:i}return De.call(r,e)?r[e]:n}function jh(e){var r=this.__data__;return Xi?r[e]!==n:De.call(r,e)}function Vh(e,r){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Xi&&r===n?P:r,this}kn.prototype.clear=qh,kn.prototype.delete=kh,kn.prototype.get=Gh,kn.prototype.has=jh,kn.prototype.set=Vh;function zt(e){var r=-1,i=e==null?0:e.length;for(this.clear();++r<i;){var s=e[r];this.set(s[0],s[1])}}function Zh(){this.__data__=[],this.size=0}function Yh(e){var r=this.__data__,i=tu(r,e);if(i<0)return!1;var s=r.length-1;return i==s?r.pop():Zo.call(r,i,1),--this.size,!0}function Jh(e){var r=this.__data__,i=tu(r,e);return i<0?n:r[i][1]}function Xh(e){return tu(this.__data__,e)>-1}function Qh(e,r){var i=this.__data__,s=tu(i,e);return s<0?(++this.size,i.push([e,r])):i[s][1]=r,this}zt.prototype.clear=Zh,zt.prototype.delete=Yh,zt.prototype.get=Jh,zt.prototype.has=Xh,zt.prototype.set=Qh;function $t(e){var r=-1,i=e==null?0:e.length;for(this.clear();++r<i;){var s=e[r];this.set(s[0],s[1])}}function ed(){this.size=0,this.__data__={hash:new kn,map:new(Yi||zt),string:new kn}}function rd(e){var r=gu(this,e).delete(e);return this.size-=r?1:0,r}function td(e){return gu(this,e).get(e)}function nd(e){return gu(this,e).has(e)}function id(e,r){var i=gu(this,e),s=i.size;return i.set(e,r),this.size+=i.size==s?0:1,this}$t.prototype.clear=ed,$t.prototype.delete=rd,$t.prototype.get=td,$t.prototype.has=nd,$t.prototype.set=id;function Gn(e){var r=-1,i=e==null?0:e.length;for(this.__data__=new $t;++r<i;)this.add(e[r])}function od(e){return this.__data__.set(e,P),this}function ud(e){return this.__data__.has(e)}Gn.prototype.add=Gn.prototype.push=od,Gn.prototype.has=ud;function ht(e){var r=this.__data__=new zt(e);this.size=r.size}function ad(){this.__data__=new zt,this.size=0}function sd(e){var r=this.__data__,i=r.delete(e);return this.size=r.size,i}function fd(e){return this.__data__.get(e)}function cd(e){return this.__data__.has(e)}function ld(e,r){var i=this.__data__;if(i instanceof zt){var s=i.__data__;if(!Yi||s.length<a-1)return s.push([e,r]),this.size=++i.size,this;i=this.__data__=new $t(s)}return i.set(e,r),this.size=i.size,this}ht.prototype.clear=ad,ht.prototype.delete=sd,ht.prototype.get=fd,ht.prototype.has=cd,ht.prototype.set=ld;function lf(e,r){var i=de(e),s=!i&&Jn(e),f=!i&&!s&&ln(e),h=!i&&!s&&!f&&Ri(e),m=i||s||f||h,A=m?ga(e.length,bh):[],L=A.length;for(var $ in e)(r||De.call(e,$))&&!(m&&($=="length"||f&&($=="offset"||$=="parent")||h&&($=="buffer"||$=="byteLength"||$=="byteOffset")||jt($,L)))&&A.push($);return A}function hf(e){var r=e.length;return r?e[xa(0,r-1)]:n}function hd(e,r){return pu(Ir(e),jn(r,0,e.length))}function dd(e){return pu(Ir(e))}function ba(e,r,i){(i!==n&&!dt(e[r],i)||i===n&&!(r in e))&&qt(e,r,i)}function eo(e,r,i){var s=e[r];(!(De.call(e,r)&&dt(s,i))||i===n&&!(r in e))&&qt(e,r,i)}function tu(e,r){for(var i=e.length;i--;)if(dt(e[i][0],r))return i;return-1}function gd(e,r,i,s){return an(e,function(f,h,m){r(s,f,i(f),m)}),s}function df(e,r){return e&&Rt(r,or(r),e)}function pd(e,r){return e&&Rt(r,Tr(r),e)}function qt(e,r,i){r=="__proto__"&&Yo?Yo(e,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[r]=i}function Ea(e,r){for(var i=-1,s=r.length,f=K(s),h=e==null;++i<s;)f[i]=h?n:ts(e,r[i]);return f}function jn(e,r,i){return e===e&&(i!==n&&(e=e<=i?e:i),r!==n&&(e=e>=r?e:r)),e}function Qr(e,r,i,s,f,h){var m,A=r&F,L=r&M,$=r&z;if(i&&(m=f?i(e,s,f,h):i(e)),m!==n)return m;if(!je(e))return e;var q=de(e);if(q){if(m=ng(e),!A)return Ir(e,m)}else{var G=hr(e),J=G==cr||G==Qe;if(ln(e))return Df(e,A);if(G==Rr||G==le||J&&!f){if(m=L||J?{}:tc(e),!A)return L?Gd(e,pd(m,e)):kd(e,df(m,e))}else{if(!Fe[G])return f?e:{};m=ig(e,G,A)}}h||(h=new ht);var te=h.get(e);if(te)return te;h.set(e,m),xc(e)?e.forEach(function(fe){m.add(Qr(fe,r,i,fe,e,h))}):Tc(e)&&e.forEach(function(fe,Se){m.set(Se,Qr(fe,r,i,Se,e,h))});var se=$?L?za:Ha:L?Tr:or,we=q?n:se(e);return Yr(we||e,function(fe,Se){we&&(Se=fe,fe=e[Se]),eo(m,Se,Qr(fe,r,i,Se,e,h))}),m}function vd(e){var r=or(e);return function(i){return gf(i,e,r)}}function gf(e,r,i){var s=i.length;if(e==null)return!s;for(e=He(e);s--;){var f=i[s],h=r[f],m=e[f];if(m===n&&!(f in e)||!h(m))return!1}return!0}function pf(e,r,i){if(typeof e!="function")throw new Jr(_);return ao(function(){e.apply(n,i)},r)}function ro(e,r,i,s){var f=-1,h=Ko,m=!0,A=e.length,L=[],$=r.length;if(!A)return L;i&&(r=Ge(r,Kr(i))),s?(h=sa,m=!1):r.length>=a&&(h=Vi,m=!1,r=new Gn(r));e:for(;++f<A;){var q=e[f],G=i==null?q:i(q);if(q=s||q!==0?q:0,m&&G===G){for(var J=$;J--;)if(r[J]===G)continue e;L.push(q)}else h(r,G,s)||L.push(q)}return L}var an=zf(Ot),vf=zf(Sa,!0);function _d(e,r){var i=!0;return an(e,function(s,f,h){return i=!!r(s,f,h),i}),i}function nu(e,r,i){for(var s=-1,f=e.length;++s<f;){var h=e[s],m=r(h);if(m!=null&&(A===n?m===m&&!Hr(m):i(m,A)))var A=m,L=h}return L}function wd(e,r,i,s){var f=e.length;for(i=_e(i),i<0&&(i=-i>f?0:f+i),s=s===n||s>f?f:_e(s),s<0&&(s+=f),s=i>s?0:Bc(s);i<s;)e[i++]=r;return e}function _f(e,r){var i=[];return an(e,function(s,f,h){r(s,f,h)&&i.push(s)}),i}function fr(e,r,i,s,f){var h=-1,m=e.length;for(i||(i=ug),f||(f=[]);++h<m;){var A=e[h];r>0&&i(A)?r>1?fr(A,r-1,i,s,f):nn(f,A):s||(f[f.length]=A)}return f}var Aa=$f(),wf=$f(!0);function Ot(e,r){return e&&Aa(e,r,or)}function Sa(e,r){return e&&wf(e,r,or)}function iu(e,r){return tn(r,function(i){return Vt(e[i])})}function Vn(e,r){r=fn(r,e);for(var i=0,s=r.length;e!=null&&i<s;)e=e[It(r[i++])];return i&&i==s?e:n}function yf(e,r,i){var s=r(e);return de(e)?s:nn(s,i(e))}function Er(e){return e==null?e===n?yn:ii:qn&&qn in He(e)?eg(e):dg(e)}function Oa(e,r){return e>r}function yd(e,r){return e!=null&&De.call(e,r)}function md(e,r){return e!=null&&r in He(e)}function bd(e,r,i){return e>=lr(r,i)&&e<tr(r,i)}function Ra(e,r,i){for(var s=i?sa:Ko,f=e[0].length,h=e.length,m=h,A=K(h),L=1/0,$=[];m--;){var q=e[m];m&&r&&(q=Ge(q,Kr(r))),L=lr(q.length,L),A[m]=!i&&(r||f>=120&&q.length>=120)?new Gn(m&&q):n}q=e[0];var G=-1,J=A[0];e:for(;++G<f&&$.length<L;){var te=q[G],se=r?r(te):te;if(te=i||te!==0?te:0,!(J?Vi(J,se):s($,se,i))){for(m=h;--m;){var we=A[m];if(!(we?Vi(we,se):s(e[m],se,i)))continue e}J&&J.push(se),$.push(te)}}return $}function Ed(e,r,i,s){return Ot(e,function(f,h,m){r(s,i(f),h,m)}),s}function to(e,r,i){r=fn(r,e),e=uc(e,r);var s=e==null?e:e[It(rt(r))];return s==null?n:Fr(s,e,i)}function mf(e){return Ze(e)&&Er(e)==le}function Ad(e){return Ze(e)&&Er(e)==wt}function Sd(e){return Ze(e)&&Er(e)==_r}function no(e,r,i,s,f){return e===r?!0:e==null||r==null||!Ze(e)&&!Ze(r)?e!==e&&r!==r:Od(e,r,i,s,no,f)}function Od(e,r,i,s,f,h){var m=de(e),A=de(r),L=m?pe:hr(e),$=A?pe:hr(r);L=L==le?Rr:L,$=$==le?Rr:$;var q=L==Rr,G=$==Rr,J=L==$;if(J&&ln(e)){if(!ln(r))return!1;m=!0,q=!1}if(J&&!q)return h||(h=new ht),m||Ri(e)?Qf(e,r,i,s,f,h):Xd(e,r,L,i,s,f,h);if(!(i&H)){var te=q&&De.call(e,"__wrapped__"),se=G&&De.call(r,"__wrapped__");if(te||se){var we=te?e.value():e,fe=se?r.value():r;return h||(h=new ht),f(we,fe,i,s,h)}}return J?(h||(h=new ht),Qd(e,r,i,s,f,h)):!1}function Rd(e){return Ze(e)&&hr(e)==Ce}function Ia(e,r,i,s){var f=i.length,h=f,m=!s;if(e==null)return!h;for(e=He(e);f--;){var A=i[f];if(m&&A[2]?A[1]!==e[A[0]]:!(A[0]in e))return!1}for(;++f<h;){A=i[f];var L=A[0],$=e[L],q=A[1];if(m&&A[2]){if($===n&&!(L in e))return!1}else{var G=new ht;if(s)var J=s($,q,L,e,r,G);if(!(J===n?no(q,$,H|j,s,G):J))return!1}}return!0}function bf(e){if(!je(e)||sg(e))return!1;var r=Vt(e)?Rh:Dn;return r.test(Yn(e))}function Id(e){return Ze(e)&&Er(e)==Br}function Pd(e){return Ze(e)&&hr(e)==nr}function Td(e){return Ze(e)&&bu(e.length)&&!!We[Er(e)]}function Ef(e){return typeof e=="function"?e:e==null?Cr:typeof e=="object"?de(e)?Of(e[0],e[1]):Sf(e):qc(e)}function Pa(e){if(!uo(e))return Lh(e);var r=[];for(var i in He(e))De.call(e,i)&&i!="constructor"&&r.push(i);return r}function Cd(e){if(!je(e))return hg(e);var r=uo(e),i=[];for(var s in e)s=="constructor"&&(r||!De.call(e,s))||i.push(s);return i}function Ta(e,r){return e<r}function Af(e,r){var i=-1,s=Pr(e)?K(e.length):[];return an(e,function(f,h,m){s[++i]=r(f,h,m)}),s}function Sf(e){var r=qa(e);return r.length==1&&r[0][2]?ic(r[0][0],r[0][1]):function(i){return i===e||Ia(i,e,r)}}function Of(e,r){return Ga(e)&&nc(r)?ic(It(e),r):function(i){var s=ts(i,e);return s===n&&s===r?ns(i,e):no(r,s,H|j)}}function ou(e,r,i,s,f){e!==r&&Aa(r,function(h,m){if(f||(f=new ht),je(h))xd(e,r,m,i,ou,s,f);else{var A=s?s(Va(e,m),h,m+"",e,r,f):n;A===n&&(A=h),ba(e,m,A)}},Tr)}function xd(e,r,i,s,f,h,m){var A=Va(e,i),L=Va(r,i),$=m.get(L);if($){ba(e,i,$);return}var q=h?h(A,L,i+"",e,r,m):n,G=q===n;if(G){var J=de(L),te=!J&&ln(L),se=!J&&!te&&Ri(L);q=L,J||te||se?de(A)?q=A:Je(A)?q=Ir(A):te?(G=!1,q=Df(L,!0)):se?(G=!1,q=Ff(L,!0)):q=[]:so(L)||Jn(L)?(q=A,Jn(A)?q=Nc(A):(!je(A)||Vt(A))&&(q=tc(L))):G=!1}G&&(m.set(L,q),f(q,L,s,h,m),m.delete(L)),ba(e,i,q)}function Rf(e,r){var i=e.length;if(i)return r+=r<0?i:0,jt(r,i)?e[r]:n}function If(e,r,i){r.length?r=Ge(r,function(h){return de(h)?function(m){return Vn(m,h.length===1?h[0]:h)}:h}):r=[Cr];var s=-1;r=Ge(r,Kr(ae()));var f=Af(e,function(h,m,A){var L=Ge(r,function($){return $(h)});return{criteria:L,index:++s,value:h}});return ih(f,function(h,m){return qd(h,m,i)})}function Ld(e,r){return Pf(e,r,function(i,s){return ns(e,s)})}function Pf(e,r,i){for(var s=-1,f=r.length,h={};++s<f;){var m=r[s],A=Vn(e,m);i(A,m)&&io(h,fn(m,e),A)}return h}function Bd(e){return function(r){return Vn(r,e)}}function Ca(e,r,i,s){var f=s?nh:pi,h=-1,m=r.length,A=e;for(e===r&&(r=Ir(r)),i&&(A=Ge(e,Kr(i)));++h<m;)for(var L=0,$=r[h],q=i?i($):$;(L=f(A,q,L,s))>-1;)A!==e&&Zo.call(A,L,1),Zo.call(e,L,1);return e}function Tf(e,r){for(var i=e?r.length:0,s=i-1;i--;){var f=r[i];if(i==s||f!==h){var h=f;jt(f)?Zo.call(e,f,1):Na(e,f)}}return e}function xa(e,r){return e+Xo(ff()*(r-e+1))}function Nd(e,r,i,s){for(var f=-1,h=tr(Jo((r-e)/(i||1)),0),m=K(h);h--;)m[s?h:++f]=e,e+=i;return m}function La(e,r){var i="";if(!e||r<1||r>B)return i;do r%2&&(i+=e),r=Xo(r/2),r&&(e+=e);while(r);return i}function Ee(e,r){return Za(oc(e,r,Cr),e+"")}function Md(e){return hf(Ii(e))}function Ud(e,r){var i=Ii(e);return pu(i,jn(r,0,i.length))}function io(e,r,i,s){if(!je(e))return e;r=fn(r,e);for(var f=-1,h=r.length,m=h-1,A=e;A!=null&&++f<h;){var L=It(r[f]),$=i;if(L==="__proto__"||L==="constructor"||L==="prototype")return e;if(f!=m){var q=A[L];$=s?s(q,L,A):n,$===n&&($=je(q)?q:jt(r[f+1])?[]:{})}eo(A,L,$),A=A[L]}return e}var Cf=Qo?function(e,r){return Qo.set(e,r),e}:Cr,Dd=Yo?function(e,r){return Yo(e,"toString",{configurable:!0,enumerable:!1,value:os(r),writable:!0})}:Cr;function Fd(e){return pu(Ii(e))}function et(e,r,i){var s=-1,f=e.length;r<0&&(r=-r>f?0:f+r),i=i>f?f:i,i<0&&(i+=f),f=r>i?0:i-r>>>0,r>>>=0;for(var h=K(f);++s<f;)h[s]=e[s+r];return h}function Kd(e,r){var i;return an(e,function(s,f,h){return i=r(s,f,h),!i}),!!i}function uu(e,r,i){var s=0,f=e==null?s:e.length;if(typeof r=="number"&&r===r&&f<=oe){for(;s<f;){var h=s+f>>>1,m=e[h];m!==null&&!Hr(m)&&(i?m<=r:m<r)?s=h+1:f=h}return f}return Ba(e,r,Cr,i)}function Ba(e,r,i,s){var f=0,h=e==null?0:e.length;if(h===0)return 0;r=i(r);for(var m=r!==r,A=r===null,L=Hr(r),$=r===n;f<h;){var q=Xo((f+h)/2),G=i(e[q]),J=G!==n,te=G===null,se=G===G,we=Hr(G);if(m)var fe=s||se;else $?fe=se&&(s||J):A?fe=se&&J&&(s||!te):L?fe=se&&J&&!te&&(s||!we):te||we?fe=!1:fe=s?G<=r:G<r;fe?f=q+1:h=q}return lr(h,me)}function xf(e,r){for(var i=-1,s=e.length,f=0,h=[];++i<s;){var m=e[i],A=r?r(m):m;if(!i||!dt(A,L)){var L=A;h[f++]=m===0?0:m}}return h}function Lf(e){return typeof e=="number"?e:Hr(e)?re:+e}function Wr(e){if(typeof e=="string")return e;if(de(e))return Ge(e,Wr)+"";if(Hr(e))return cf?cf.call(e):"";var r=e+"";return r=="0"&&1/e==-N?"-0":r}function sn(e,r,i){var s=-1,f=Ko,h=e.length,m=!0,A=[],L=A;if(i)m=!1,f=sa;else if(h>=a){var $=r?null:Yd(e);if($)return Ho($);m=!1,f=Vi,L=new Gn}else L=r?[]:A;e:for(;++s<h;){var q=e[s],G=r?r(q):q;if(q=i||q!==0?q:0,m&&G===G){for(var J=L.length;J--;)if(L[J]===G)continue e;r&&L.push(G),A.push(q)}else f(L,G,i)||(L!==A&&L.push(G),A.push(q))}return A}function Na(e,r){return r=fn(r,e),e=uc(e,r),e==null||delete e[It(rt(r))]}function Bf(e,r,i,s){return io(e,r,i(Vn(e,r)),s)}function au(e,r,i,s){for(var f=e.length,h=s?f:-1;(s?h--:++h<f)&&r(e[h],h,e););return i?et(e,s?0:h,s?h+1:f):et(e,s?h+1:0,s?f:h)}function Nf(e,r){var i=e;return i instanceof Oe&&(i=i.value()),fa(r,function(s,f){return f.func.apply(f.thisArg,nn([s],f.args))},i)}function Ma(e,r,i){var s=e.length;if(s<2)return s?sn(e[0]):[];for(var f=-1,h=K(s);++f<s;)for(var m=e[f],A=-1;++A<s;)A!=f&&(h[f]=ro(h[f]||m,e[A],r,i));return sn(fr(h,1),r,i)}function Mf(e,r,i){for(var s=-1,f=e.length,h=r.length,m={};++s<f;){var A=s<h?r[s]:n;i(m,e[s],A)}return m}function Ua(e){return Je(e)?e:[]}function Da(e){return typeof e=="function"?e:Cr}function fn(e,r){return de(e)?e:Ga(e,r)?[e]:cc(Me(e))}var Wd=Ee;function cn(e,r,i){var s=e.length;return i=i===n?s:i,!r&&i>=s?e:et(e,r,i)}var Uf=Ih||function(e){return ve.clearTimeout(e)};function Df(e,r){if(r)return e.slice();var i=e.length,s=nf?nf(i):new e.constructor(i);return e.copy(s),s}function Fa(e){var r=new e.constructor(e.byteLength);return new jo(r).set(new jo(e)),r}function Hd(e,r){var i=r?Fa(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function zd(e){var r=new e.constructor(e.source,Ur.exec(e));return r.lastIndex=e.lastIndex,r}function $d(e){return Qi?He(Qi.call(e)):{}}function Ff(e,r){var i=r?Fa(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Kf(e,r){if(e!==r){var i=e!==n,s=e===null,f=e===e,h=Hr(e),m=r!==n,A=r===null,L=r===r,$=Hr(r);if(!A&&!$&&!h&&e>r||h&&m&&L&&!A&&!$||s&&m&&L||!i&&L||!f)return 1;if(!s&&!h&&!$&&e<r||$&&i&&f&&!s&&!h||A&&i&&f||!m&&f||!L)return-1}return 0}function qd(e,r,i){for(var s=-1,f=e.criteria,h=r.criteria,m=f.length,A=i.length;++s<m;){var L=Kf(f[s],h[s]);if(L){if(s>=A)return L;var $=i[s];return L*($=="desc"?-1:1)}}return e.index-r.index}function Wf(e,r,i,s){for(var f=-1,h=e.length,m=i.length,A=-1,L=r.length,$=tr(h-m,0),q=K(L+$),G=!s;++A<L;)q[A]=r[A];for(;++f<m;)(G||f<h)&&(q[i[f]]=e[f]);for(;$--;)q[A++]=e[f++];return q}function Hf(e,r,i,s){for(var f=-1,h=e.length,m=-1,A=i.length,L=-1,$=r.length,q=tr(h-A,0),G=K(q+$),J=!s;++f<q;)G[f]=e[f];for(var te=f;++L<$;)G[te+L]=r[L];for(;++m<A;)(J||f<h)&&(G[te+i[m]]=e[f++]);return G}function Ir(e,r){var i=-1,s=e.length;for(r||(r=K(s));++i<s;)r[i]=e[i];return r}function Rt(e,r,i,s){var f=!i;i||(i={});for(var h=-1,m=r.length;++h<m;){var A=r[h],L=s?s(i[A],e[A],A,i,e):n;L===n&&(L=e[A]),f?qt(i,A,L):eo(i,A,L)}return i}function kd(e,r){return Rt(e,ka(e),r)}function Gd(e,r){return Rt(e,ec(e),r)}function su(e,r){return function(i,s){var f=de(i)?Jl:gd,h=r?r():{};return f(i,e,ae(s,2),h)}}function Ai(e){return Ee(function(r,i){var s=-1,f=i.length,h=f>1?i[f-1]:n,m=f>2?i[2]:n;for(h=e.length>3&&typeof h=="function"?(f--,h):n,m&&Ar(i[0],i[1],m)&&(h=f<3?n:h,f=1),r=He(r);++s<f;){var A=i[s];A&&e(r,A,s,h)}return r})}function zf(e,r){return function(i,s){if(i==null)return i;if(!Pr(i))return e(i,s);for(var f=i.length,h=r?f:-1,m=He(i);(r?h--:++h<f)&&s(m[h],h,m)!==!1;);return i}}function $f(e){return function(r,i,s){for(var f=-1,h=He(r),m=s(r),A=m.length;A--;){var L=m[e?A:++f];if(i(h[L],L,h)===!1)break}return r}}function jd(e,r,i){var s=r&Y,f=oo(e);function h(){var m=this&&this!==ve&&this instanceof h?f:e;return m.apply(s?i:this,arguments)}return h}function qf(e){return function(r){r=Me(r);var i=vi(r)?lt(r):n,s=i?i[0]:r.charAt(0),f=i?cn(i,1).join(""):r.slice(1);return s[e]()+f}}function Si(e){return function(r){return fa(zc(Hc(r).replace(Gi,"")),e,"")}}function oo(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var i=Ei(e.prototype),s=e.apply(i,r);return je(s)?s:i}}function Vd(e,r,i){var s=oo(e);function f(){for(var h=arguments.length,m=K(h),A=h,L=Oi(f);A--;)m[A]=arguments[A];var $=h<3&&m[0]!==L&&m[h-1]!==L?[]:on(m,L);if(h-=$.length,h<i)return Zf(e,r,fu,f.placeholder,n,m,$,n,n,i-h);var q=this&&this!==ve&&this instanceof f?s:e;return Fr(q,this,m)}return f}function kf(e){return function(r,i,s){var f=He(r);if(!Pr(r)){var h=ae(i,3);r=or(r),i=function(A){return h(f[A],A,f)}}var m=e(r,i,s);return m>-1?f[h?r[m]:m]:n}}function Gf(e){return Gt(function(r){var i=r.length,s=i,f=Xr.prototype.thru;for(e&&r.reverse();s--;){var h=r[s];if(typeof h!="function")throw new Jr(_);if(f&&!m&&du(h)=="wrapper")var m=new Xr([],!0)}for(s=m?s:i;++s<i;){h=r[s];var A=du(h),L=A=="wrapper"?$a(h):n;L&&ja(L[0])&&L[1]==(Ne|ie|ue|g)&&!L[4].length&&L[9]==1?m=m[du(L[0])].apply(m,L[3]):m=h.length==1&&ja(h)?m[A]():m.thru(h)}return function(){var $=arguments,q=$[0];if(m&&$.length==1&&de(q))return m.plant(q).value();for(var G=0,J=i?r[G].apply(this,$):q;++G<i;)J=r[G].call(this,J);return J}})}function fu(e,r,i,s,f,h,m,A,L,$){var q=r&Ne,G=r&Y,J=r&V,te=r&(ie|Z),se=r&v,we=J?n:oo(e);function fe(){for(var Se=arguments.length,Re=K(Se),zr=Se;zr--;)Re[zr]=arguments[zr];if(te)var Sr=Oi(fe),$r=uh(Re,Sr);if(s&&(Re=Wf(Re,s,f,te)),h&&(Re=Hf(Re,h,m,te)),Se-=$r,te&&Se<$){var Xe=on(Re,Sr);return Zf(e,r,fu,fe.placeholder,i,Re,Xe,A,L,$-Se)}var gt=G?i:this,Yt=J?gt[e]:e;return Se=Re.length,A?Re=gg(Re,A):se&&Se>1&&Re.reverse(),q&&L<Se&&(Re.length=L),this&&this!==ve&&this instanceof fe&&(Yt=we||oo(Yt)),Yt.apply(gt,Re)}return fe}function jf(e,r){return function(i,s){return Ed(i,e,r(s),{})}}function cu(e,r){return function(i,s){var f;if(i===n&&s===n)return r;if(i!==n&&(f=i),s!==n){if(f===n)return s;typeof i=="string"||typeof s=="string"?(i=Wr(i),s=Wr(s)):(i=Lf(i),s=Lf(s)),f=e(i,s)}return f}}function Ka(e){return Gt(function(r){return r=Ge(r,Kr(ae())),Ee(function(i){var s=this;return e(r,function(f){return Fr(f,s,i)})})})}function lu(e,r){r=r===n?" ":Wr(r);var i=r.length;if(i<2)return i?La(r,e):r;var s=La(r,Jo(e/_i(r)));return vi(r)?cn(lt(s),0,e).join(""):s.slice(0,e)}function Zd(e,r,i,s){var f=r&Y,h=oo(e);function m(){for(var A=-1,L=arguments.length,$=-1,q=s.length,G=K(q+L),J=this&&this!==ve&&this instanceof m?h:e;++$<q;)G[$]=s[$];for(;L--;)G[$++]=arguments[++A];return Fr(J,f?i:this,G)}return m}function Vf(e){return function(r,i,s){return s&&typeof s!="number"&&Ar(r,i,s)&&(i=s=n),r=Zt(r),i===n?(i=r,r=0):i=Zt(i),s=s===n?r<i?1:-1:Zt(s),Nd(r,i,s,e)}}function hu(e){return function(r,i){return typeof r=="string"&&typeof i=="string"||(r=tt(r),i=tt(i)),e(r,i)}}function Zf(e,r,i,s,f,h,m,A,L,$){var q=r&ie,G=q?m:n,J=q?n:m,te=q?h:n,se=q?n:h;r|=q?ue:ce,r&=~(q?ce:ue),r&O||(r&=~(Y|V));var we=[e,r,f,te,G,se,J,A,L,$],fe=i.apply(n,we);return ja(e)&&ac(fe,we),fe.placeholder=s,sc(fe,e,r)}function Wa(e){var r=rr[e];return function(i,s){if(i=tt(i),s=s==null?0:lr(_e(s),292),s&&sf(i)){var f=(Me(i)+"e").split("e"),h=r(f[0]+"e"+(+f[1]+s));return f=(Me(h)+"e").split("e"),+(f[0]+"e"+(+f[1]-s))}return r(i)}}var Yd=mi&&1/Ho(new mi([,-0]))[1]==N?function(e){return new mi(e)}:ss;function Yf(e){return function(r){var i=hr(r);return i==Ce?va(r):i==nr?dh(r):oh(r,e(r))}}function kt(e,r,i,s,f,h,m,A){var L=r&V;if(!L&&typeof e!="function")throw new Jr(_);var $=s?s.length:0;if($||(r&=~(ue|ce),s=f=n),m=m===n?m:tr(_e(m),0),A=A===n?A:_e(A),$-=f?f.length:0,r&ce){var q=s,G=f;s=f=n}var J=L?n:$a(e),te=[e,r,i,s,f,q,G,h,m,A];if(J&&lg(te,J),e=te[0],r=te[1],i=te[2],s=te[3],f=te[4],A=te[9]=te[9]===n?L?0:e.length:tr(te[9]-$,0),!A&&r&(ie|Z)&&(r&=~(ie|Z)),!r||r==Y)var se=jd(e,r,i);else r==ie||r==Z?se=Vd(e,r,A):(r==ue||r==(Y|ue))&&!f.length?se=Zd(e,r,i,s):se=fu.apply(n,te);var we=J?Cf:ac;return sc(we(se,te),e,r)}function Jf(e,r,i,s){return e===n||dt(e,yi[i])&&!De.call(s,i)?r:e}function Xf(e,r,i,s,f,h){return je(e)&&je(r)&&(h.set(r,e),ou(e,r,n,Xf,h),h.delete(r)),e}function Jd(e){return so(e)?n:e}function Qf(e,r,i,s,f,h){var m=i&H,A=e.length,L=r.length;if(A!=L&&!(m&&L>A))return!1;var $=h.get(e),q=h.get(r);if($&&q)return $==r&&q==e;var G=-1,J=!0,te=i&j?new Gn:n;for(h.set(e,r),h.set(r,e);++G<A;){var se=e[G],we=r[G];if(s)var fe=m?s(we,se,G,r,e,h):s(se,we,G,e,r,h);if(fe!==n){if(fe)continue;J=!1;break}if(te){if(!ca(r,function(Se,Re){if(!Vi(te,Re)&&(se===Se||f(se,Se,i,s,h)))return te.push(Re)})){J=!1;break}}else if(!(se===we||f(se,we,i,s,h))){J=!1;break}}return h.delete(e),h.delete(r),J}function Xd(e,r,i,s,f,h,m){switch(i){case wr:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case wt:return!(e.byteLength!=r.byteLength||!h(new jo(e),new jo(r)));case er:case _r:case Te:return dt(+e,+r);case Ye:return e.name==r.name&&e.message==r.message;case Br:case Nr:return e==r+"";case Ce:var A=va;case nr:var L=s&H;if(A||(A=Ho),e.size!=r.size&&!L)return!1;var $=m.get(e);if($)return $==r;s|=j,m.set(e,r);var q=Qf(A(e),A(r),s,f,h,m);return m.delete(e),q;case ar:if(Qi)return Qi.call(e)==Qi.call(r)}return!1}function Qd(e,r,i,s,f,h){var m=i&H,A=Ha(e),L=A.length,$=Ha(r),q=$.length;if(L!=q&&!m)return!1;for(var G=L;G--;){var J=A[G];if(!(m?J in r:De.call(r,J)))return!1}var te=h.get(e),se=h.get(r);if(te&&se)return te==r&&se==e;var we=!0;h.set(e,r),h.set(r,e);for(var fe=m;++G<L;){J=A[G];var Se=e[J],Re=r[J];if(s)var zr=m?s(Re,Se,J,r,e,h):s(Se,Re,J,e,r,h);if(!(zr===n?Se===Re||f(Se,Re,i,s,h):zr)){we=!1;break}fe||(fe=J=="constructor")}if(we&&!fe){var Sr=e.constructor,$r=r.constructor;Sr!=$r&&"constructor"in e&&"constructor"in r&&!(typeof Sr=="function"&&Sr instanceof Sr&&typeof $r=="function"&&$r instanceof $r)&&(we=!1)}return h.delete(e),h.delete(r),we}function Gt(e){return Za(oc(e,n,gc),e+"")}function Ha(e){return yf(e,or,ka)}function za(e){return yf(e,Tr,ec)}var $a=Qo?function(e){return Qo.get(e)}:ss;function du(e){for(var r=e.name+"",i=bi[r],s=De.call(bi,r)?i.length:0;s--;){var f=i[s],h=f.func;if(h==null||h==e)return f.name}return r}function Oi(e){var r=De.call(l,"placeholder")?l:e;return r.placeholder}function ae(){var e=l.iteratee||us;return e=e===us?Ef:e,arguments.length?e(arguments[0],arguments[1]):e}function gu(e,r){var i=e.__data__;return ag(r)?i[typeof r=="string"?"string":"hash"]:i.map}function qa(e){for(var r=or(e),i=r.length;i--;){var s=r[i],f=e[s];r[i]=[s,f,nc(f)]}return r}function Zn(e,r){var i=ch(e,r);return bf(i)?i:n}function eg(e){var r=De.call(e,qn),i=e[qn];try{e[qn]=n;var s=!0}catch{}var f=ko.call(e);return s&&(r?e[qn]=i:delete e[qn]),f}var ka=wa?function(e){return e==null?[]:(e=He(e),tn(wa(e),function(r){return uf.call(e,r)}))}:fs,ec=wa?function(e){for(var r=[];e;)nn(r,ka(e)),e=Vo(e);return r}:fs,hr=Er;(ya&&hr(new ya(new ArrayBuffer(1)))!=wr||Yi&&hr(new Yi)!=Ce||ma&&hr(ma.resolve())!=wn||mi&&hr(new mi)!=nr||Ji&&hr(new Ji)!=ft)&&(hr=function(e){var r=Er(e),i=r==Rr?e.constructor:n,s=i?Yn(i):"";if(s)switch(s){case Uh:return wr;case Dh:return Ce;case Fh:return wn;case Kh:return nr;case Wh:return ft}return r});function rg(e,r,i){for(var s=-1,f=i.length;++s<f;){var h=i[s],m=h.size;switch(h.type){case"drop":e+=m;break;case"dropRight":r-=m;break;case"take":r=lr(r,e+m);break;case"takeRight":e=tr(e,r-m);break}}return{start:e,end:r}}function tg(e){var r=e.match(Vr);return r?r[1].split(Cn):[]}function rc(e,r,i){r=fn(r,e);for(var s=-1,f=r.length,h=!1;++s<f;){var m=It(r[s]);if(!(h=e!=null&&i(e,m)))break;e=e[m]}return h||++s!=f?h:(f=e==null?0:e.length,!!f&&bu(f)&&jt(m,f)&&(de(e)||Jn(e)))}function ng(e){var r=e.length,i=new e.constructor(r);return r&&typeof e[0]=="string"&&De.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function tc(e){return typeof e.constructor=="function"&&!uo(e)?Ei(Vo(e)):{}}function ig(e,r,i){var s=e.constructor;switch(r){case wt:return Fa(e);case er:case _r:return new s(+e);case wr:return Hd(e,i);case yt:case mt:case bt:case Et:case At:case Nt:case Mt:case yr:case Gr:return Ff(e,i);case Ce:return new s;case Te:case Nr:return new s(e);case Br:return zd(e);case nr:return new s;case ar:return $d(e)}}function og(e,r){var i=r.length;if(!i)return e;var s=i-1;return r[s]=(i>1?"& ":"")+r[s],r=r.join(i>2?", ":" "),e.replace(Tn,`{
/* [wrapped with `+r+`] */
`)}function ug(e){return de(e)||Jn(e)||!!(af&&e&&e[af])}function jt(e,r){var i=typeof e;return r=r??B,!!r&&(i=="number"||i!="symbol"&&Kn.test(e))&&e>-1&&e%1==0&&e<r}function Ar(e,r,i){if(!je(i))return!1;var s=typeof r;return(s=="number"?Pr(i)&&jt(r,i.length):s=="string"&&r in i)?dt(i[r],e):!1}function Ga(e,r){if(de(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||Hr(e)?!0:Rn.test(e)||!On.test(e)||r!=null&&e in He(r)}function ag(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function ja(e){var r=du(e),i=l[r];if(typeof i!="function"||!(r in Oe.prototype))return!1;if(e===i)return!0;var s=$a(i);return!!s&&e===s[0]}function sg(e){return!!tf&&tf in e}var fg=$o?Vt:cs;function uo(e){var r=e&&e.constructor,i=typeof r=="function"&&r.prototype||yi;return e===i}function nc(e){return e===e&&!je(e)}function ic(e,r){return function(i){return i==null?!1:i[e]===r&&(r!==n||e in He(i))}}function cg(e){var r=yu(e,function(s){return i.size===T&&i.clear(),s}),i=r.cache;return r}function lg(e,r){var i=e[1],s=r[1],f=i|s,h=f<(Y|V|Ne),m=s==Ne&&i==ie||s==Ne&&i==g&&e[7].length<=r[8]||s==(Ne|g)&&r[7].length<=r[8]&&i==ie;if(!(h||m))return e;s&Y&&(e[2]=r[2],f|=i&Y?0:O);var A=r[3];if(A){var L=e[3];e[3]=L?Wf(L,A,r[4]):A,e[4]=L?on(e[3],U):r[4]}return A=r[5],A&&(L=e[5],e[5]=L?Hf(L,A,r[6]):A,e[6]=L?on(e[5],U):r[6]),A=r[7],A&&(e[7]=A),s&Ne&&(e[8]=e[8]==null?r[8]:lr(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=f,e}function hg(e){var r=[];if(e!=null)for(var i in He(e))r.push(i);return r}function dg(e){return ko.call(e)}function oc(e,r,i){return r=tr(r===n?e.length-1:r,0),function(){for(var s=arguments,f=-1,h=tr(s.length-r,0),m=K(h);++f<h;)m[f]=s[r+f];f=-1;for(var A=K(r+1);++f<r;)A[f]=s[f];return A[r]=i(m),Fr(e,this,A)}}function uc(e,r){return r.length<2?e:Vn(e,et(r,0,-1))}function gg(e,r){for(var i=e.length,s=lr(r.length,i),f=Ir(e);s--;){var h=r[s];e[s]=jt(h,i)?f[h]:n}return e}function Va(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var ac=fc(Cf),ao=Th||function(e,r){return ve.setTimeout(e,r)},Za=fc(Dd);function sc(e,r,i){var s=r+"";return Za(e,og(s,pg(tg(s),i)))}function fc(e){var r=0,i=0;return function(){var s=Bh(),f=S-(s-i);if(i=s,f>0){if(++r>=y)return arguments[0]}else r=0;return e.apply(n,arguments)}}function pu(e,r){var i=-1,s=e.length,f=s-1;for(r=r===n?s:r;++i<r;){var h=xa(i,f),m=e[h];e[h]=e[i],e[i]=m}return e.length=r,e}var cc=cg(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(mr,function(i,s,f,h){r.push(f?h.replace(Bn,"$1"):s||i)}),r});function It(e){if(typeof e=="string"||Hr(e))return e;var r=e+"";return r=="0"&&1/e==-N?"-0":r}function Yn(e){if(e!=null){try{return qo.call(e)}catch{}try{return e+""}catch{}}return""}function pg(e,r){return Yr(Ke,function(i){var s="_."+i[0];r&i[1]&&!Ko(e,s)&&e.push(s)}),e.sort()}function lc(e){if(e instanceof Oe)return e.clone();var r=new Xr(e.__wrapped__,e.__chain__);return r.__actions__=Ir(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}function vg(e,r,i){(i?Ar(e,r,i):r===n)?r=1:r=tr(_e(r),0);var s=e==null?0:e.length;if(!s||r<1)return[];for(var f=0,h=0,m=K(Jo(s/r));f<s;)m[h++]=et(e,f,f+=r);return m}function _g(e){for(var r=-1,i=e==null?0:e.length,s=0,f=[];++r<i;){var h=e[r];h&&(f[s++]=h)}return f}function wg(){var e=arguments.length;if(!e)return[];for(var r=K(e-1),i=arguments[0],s=e;s--;)r[s-1]=arguments[s];return nn(de(i)?Ir(i):[i],fr(r,1))}var yg=Ee(function(e,r){return Je(e)?ro(e,fr(r,1,Je,!0)):[]}),mg=Ee(function(e,r){var i=rt(r);return Je(i)&&(i=n),Je(e)?ro(e,fr(r,1,Je,!0),ae(i,2)):[]}),bg=Ee(function(e,r){var i=rt(r);return Je(i)&&(i=n),Je(e)?ro(e,fr(r,1,Je,!0),n,i):[]});function Eg(e,r,i){var s=e==null?0:e.length;return s?(r=i||r===n?1:_e(r),et(e,r<0?0:r,s)):[]}function Ag(e,r,i){var s=e==null?0:e.length;return s?(r=i||r===n?1:_e(r),r=s-r,et(e,0,r<0?0:r)):[]}function Sg(e,r){return e&&e.length?au(e,ae(r,3),!0,!0):[]}function Og(e,r){return e&&e.length?au(e,ae(r,3),!0):[]}function Rg(e,r,i,s){var f=e==null?0:e.length;return f?(i&&typeof i!="number"&&Ar(e,r,i)&&(i=0,s=f),wd(e,r,i,s)):[]}function hc(e,r,i){var s=e==null?0:e.length;if(!s)return-1;var f=i==null?0:_e(i);return f<0&&(f=tr(s+f,0)),Wo(e,ae(r,3),f)}function dc(e,r,i){var s=e==null?0:e.length;if(!s)return-1;var f=s-1;return i!==n&&(f=_e(i),f=i<0?tr(s+f,0):lr(f,s-1)),Wo(e,ae(r,3),f,!0)}function gc(e){var r=e==null?0:e.length;return r?fr(e,1):[]}function Ig(e){var r=e==null?0:e.length;return r?fr(e,N):[]}function Pg(e,r){var i=e==null?0:e.length;return i?(r=r===n?1:_e(r),fr(e,r)):[]}function Tg(e){for(var r=-1,i=e==null?0:e.length,s={};++r<i;){var f=e[r];s[f[0]]=f[1]}return s}function pc(e){return e&&e.length?e[0]:n}function Cg(e,r,i){var s=e==null?0:e.length;if(!s)return-1;var f=i==null?0:_e(i);return f<0&&(f=tr(s+f,0)),pi(e,r,f)}function xg(e){var r=e==null?0:e.length;return r?et(e,0,-1):[]}var Lg=Ee(function(e){var r=Ge(e,Ua);return r.length&&r[0]===e[0]?Ra(r):[]}),Bg=Ee(function(e){var r=rt(e),i=Ge(e,Ua);return r===rt(i)?r=n:i.pop(),i.length&&i[0]===e[0]?Ra(i,ae(r,2)):[]}),Ng=Ee(function(e){var r=rt(e),i=Ge(e,Ua);return r=typeof r=="function"?r:n,r&&i.pop(),i.length&&i[0]===e[0]?Ra(i,n,r):[]});function Mg(e,r){return e==null?"":xh.call(e,r)}function rt(e){var r=e==null?0:e.length;return r?e[r-1]:n}function Ug(e,r,i){var s=e==null?0:e.length;if(!s)return-1;var f=s;return i!==n&&(f=_e(i),f=f<0?tr(s+f,0):lr(f,s-1)),r===r?ph(e,r,f):Wo(e,Vs,f,!0)}function Dg(e,r){return e&&e.length?Rf(e,_e(r)):n}var Fg=Ee(vc);function vc(e,r){return e&&e.length&&r&&r.length?Ca(e,r):e}function Kg(e,r,i){return e&&e.length&&r&&r.length?Ca(e,r,ae(i,2)):e}function Wg(e,r,i){return e&&e.length&&r&&r.length?Ca(e,r,n,i):e}var Hg=Gt(function(e,r){var i=e==null?0:e.length,s=Ea(e,r);return Tf(e,Ge(r,function(f){return jt(f,i)?+f:f}).sort(Kf)),s});function zg(e,r){var i=[];if(!(e&&e.length))return i;var s=-1,f=[],h=e.length;for(r=ae(r,3);++s<h;){var m=e[s];r(m,s,e)&&(i.push(m),f.push(s))}return Tf(e,f),i}function Ya(e){return e==null?e:Mh.call(e)}function $g(e,r,i){var s=e==null?0:e.length;return s?(i&&typeof i!="number"&&Ar(e,r,i)?(r=0,i=s):(r=r==null?0:_e(r),i=i===n?s:_e(i)),et(e,r,i)):[]}function qg(e,r){return uu(e,r)}function kg(e,r,i){return Ba(e,r,ae(i,2))}function Gg(e,r){var i=e==null?0:e.length;if(i){var s=uu(e,r);if(s<i&&dt(e[s],r))return s}return-1}function jg(e,r){return uu(e,r,!0)}function Vg(e,r,i){return Ba(e,r,ae(i,2),!0)}function Zg(e,r){var i=e==null?0:e.length;if(i){var s=uu(e,r,!0)-1;if(dt(e[s],r))return s}return-1}function Yg(e){return e&&e.length?xf(e):[]}function Jg(e,r){return e&&e.length?xf(e,ae(r,2)):[]}function Xg(e){var r=e==null?0:e.length;return r?et(e,1,r):[]}function Qg(e,r,i){return e&&e.length?(r=i||r===n?1:_e(r),et(e,0,r<0?0:r)):[]}function e0(e,r,i){var s=e==null?0:e.length;return s?(r=i||r===n?1:_e(r),r=s-r,et(e,r<0?0:r,s)):[]}function r0(e,r){return e&&e.length?au(e,ae(r,3),!1,!0):[]}function t0(e,r){return e&&e.length?au(e,ae(r,3)):[]}var n0=Ee(function(e){return sn(fr(e,1,Je,!0))}),i0=Ee(function(e){var r=rt(e);return Je(r)&&(r=n),sn(fr(e,1,Je,!0),ae(r,2))}),o0=Ee(function(e){var r=rt(e);return r=typeof r=="function"?r:n,sn(fr(e,1,Je,!0),n,r)});function u0(e){return e&&e.length?sn(e):[]}function a0(e,r){return e&&e.length?sn(e,ae(r,2)):[]}function s0(e,r){return r=typeof r=="function"?r:n,e&&e.length?sn(e,n,r):[]}function Ja(e){if(!(e&&e.length))return[];var r=0;return e=tn(e,function(i){if(Je(i))return r=tr(i.length,r),!0}),ga(r,function(i){return Ge(e,la(i))})}function _c(e,r){if(!(e&&e.length))return[];var i=Ja(e);return r==null?i:Ge(i,function(s){return Fr(r,n,s)})}var f0=Ee(function(e,r){return Je(e)?ro(e,r):[]}),c0=Ee(function(e){return Ma(tn(e,Je))}),l0=Ee(function(e){var r=rt(e);return Je(r)&&(r=n),Ma(tn(e,Je),ae(r,2))}),h0=Ee(function(e){var r=rt(e);return r=typeof r=="function"?r:n,Ma(tn(e,Je),n,r)}),d0=Ee(Ja);function g0(e,r){return Mf(e||[],r||[],eo)}function p0(e,r){return Mf(e||[],r||[],io)}var v0=Ee(function(e){var r=e.length,i=r>1?e[r-1]:n;return i=typeof i=="function"?(e.pop(),i):n,_c(e,i)});function wc(e){var r=l(e);return r.__chain__=!0,r}function _0(e,r){return r(e),e}function vu(e,r){return r(e)}var w0=Gt(function(e){var r=e.length,i=r?e[0]:0,s=this.__wrapped__,f=function(h){return Ea(h,e)};return r>1||this.__actions__.length||!(s instanceof Oe)||!jt(i)?this.thru(f):(s=s.slice(i,+i+(r?1:0)),s.__actions__.push({func:vu,args:[f],thisArg:n}),new Xr(s,this.__chain__).thru(function(h){return r&&!h.length&&h.push(n),h}))});function y0(){return wc(this)}function m0(){return new Xr(this.value(),this.__chain__)}function b0(){this.__values__===n&&(this.__values__=Lc(this.value()));var e=this.__index__>=this.__values__.length,r=e?n:this.__values__[this.__index__++];return{done:e,value:r}}function E0(){return this}function A0(e){for(var r,i=this;i instanceof ru;){var s=lc(i);s.__index__=0,s.__values__=n,r?f.__wrapped__=s:r=s;var f=s;i=i.__wrapped__}return f.__wrapped__=e,r}function S0(){var e=this.__wrapped__;if(e instanceof Oe){var r=e;return this.__actions__.length&&(r=new Oe(this)),r=r.reverse(),r.__actions__.push({func:vu,args:[Ya],thisArg:n}),new Xr(r,this.__chain__)}return this.thru(Ya)}function O0(){return Nf(this.__wrapped__,this.__actions__)}var R0=su(function(e,r,i){De.call(e,i)?++e[i]:qt(e,i,1)});function I0(e,r,i){var s=de(e)?Gs:_d;return i&&Ar(e,r,i)&&(r=n),s(e,ae(r,3))}function P0(e,r){var i=de(e)?tn:_f;return i(e,ae(r,3))}var T0=kf(hc),C0=kf(dc);function x0(e,r){return fr(_u(e,r),1)}function L0(e,r){return fr(_u(e,r),N)}function B0(e,r,i){return i=i===n?1:_e(i),fr(_u(e,r),i)}function yc(e,r){var i=de(e)?Yr:an;return i(e,ae(r,3))}function mc(e,r){var i=de(e)?Xl:vf;return i(e,ae(r,3))}var N0=su(function(e,r,i){De.call(e,i)?e[i].push(r):qt(e,i,[r])});function M0(e,r,i,s){e=Pr(e)?e:Ii(e),i=i&&!s?_e(i):0;var f=e.length;return i<0&&(i=tr(f+i,0)),Eu(e)?i<=f&&e.indexOf(r,i)>-1:!!f&&pi(e,r,i)>-1}var U0=Ee(function(e,r,i){var s=-1,f=typeof r=="function",h=Pr(e)?K(e.length):[];return an(e,function(m){h[++s]=f?Fr(r,m,i):to(m,r,i)}),h}),D0=su(function(e,r,i){qt(e,i,r)});function _u(e,r){var i=de(e)?Ge:Af;return i(e,ae(r,3))}function F0(e,r,i,s){return e==null?[]:(de(r)||(r=r==null?[]:[r]),i=s?n:i,de(i)||(i=i==null?[]:[i]),If(e,r,i))}var K0=su(function(e,r,i){e[i?0:1].push(r)},function(){return[[],[]]});function W0(e,r,i){var s=de(e)?fa:Ys,f=arguments.length<3;return s(e,ae(r,4),i,f,an)}function H0(e,r,i){var s=de(e)?Ql:Ys,f=arguments.length<3;return s(e,ae(r,4),i,f,vf)}function z0(e,r){var i=de(e)?tn:_f;return i(e,mu(ae(r,3)))}function $0(e){var r=de(e)?hf:Md;return r(e)}function q0(e,r,i){(i?Ar(e,r,i):r===n)?r=1:r=_e(r);var s=de(e)?hd:Ud;return s(e,r)}function k0(e){var r=de(e)?dd:Fd;return r(e)}function G0(e){if(e==null)return 0;if(Pr(e))return Eu(e)?_i(e):e.length;var r=hr(e);return r==Ce||r==nr?e.size:Pa(e).length}function j0(e,r,i){var s=de(e)?ca:Kd;return i&&Ar(e,r,i)&&(r=n),s(e,ae(r,3))}var V0=Ee(function(e,r){if(e==null)return[];var i=r.length;return i>1&&Ar(e,r[0],r[1])?r=[]:i>2&&Ar(r[0],r[1],r[2])&&(r=[r[0]]),If(e,fr(r,1),[])}),wu=Ph||function(){return ve.Date.now()};function Z0(e,r){if(typeof r!="function")throw new Jr(_);return e=_e(e),function(){if(--e<1)return r.apply(this,arguments)}}function bc(e,r,i){return r=i?n:r,r=e&&r==null?e.length:r,kt(e,Ne,n,n,n,n,r)}function Ec(e,r){var i;if(typeof r!="function")throw new Jr(_);return e=_e(e),function(){return--e>0&&(i=r.apply(this,arguments)),e<=1&&(r=n),i}}var Xa=Ee(function(e,r,i){var s=Y;if(i.length){var f=on(i,Oi(Xa));s|=ue}return kt(e,s,r,i,f)}),Ac=Ee(function(e,r,i){var s=Y|V;if(i.length){var f=on(i,Oi(Ac));s|=ue}return kt(r,s,e,i,f)});function Sc(e,r,i){r=i?n:r;var s=kt(e,ie,n,n,n,n,n,r);return s.placeholder=Sc.placeholder,s}function Oc(e,r,i){r=i?n:r;var s=kt(e,Z,n,n,n,n,n,r);return s.placeholder=Oc.placeholder,s}function Rc(e,r,i){var s,f,h,m,A,L,$=0,q=!1,G=!1,J=!0;if(typeof e!="function")throw new Jr(_);r=tt(r)||0,je(i)&&(q=!!i.leading,G="maxWait"in i,h=G?tr(tt(i.maxWait)||0,r):h,J="trailing"in i?!!i.trailing:J);function te(Xe){var gt=s,Yt=f;return s=f=n,$=Xe,m=e.apply(Yt,gt),m}function se(Xe){return $=Xe,A=ao(Se,r),q?te(Xe):m}function we(Xe){var gt=Xe-L,Yt=Xe-$,kc=r-gt;return G?lr(kc,h-Yt):kc}function fe(Xe){var gt=Xe-L,Yt=Xe-$;return L===n||gt>=r||gt<0||G&&Yt>=h}function Se(){var Xe=wu();if(fe(Xe))return Re(Xe);A=ao(Se,we(Xe))}function Re(Xe){return A=n,J&&s?te(Xe):(s=f=n,m)}function zr(){A!==n&&Uf(A),$=0,s=L=f=A=n}function Sr(){return A===n?m:Re(wu())}function $r(){var Xe=wu(),gt=fe(Xe);if(s=arguments,f=this,L=Xe,gt){if(A===n)return se(L);if(G)return Uf(A),A=ao(Se,r),te(L)}return A===n&&(A=ao(Se,r)),m}return $r.cancel=zr,$r.flush=Sr,$r}var Y0=Ee(function(e,r){return pf(e,1,r)}),J0=Ee(function(e,r,i){return pf(e,tt(r)||0,i)});function X0(e){return kt(e,v)}function yu(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new Jr(_);var i=function(){var s=arguments,f=r?r.apply(this,s):s[0],h=i.cache;if(h.has(f))return h.get(f);var m=e.apply(this,s);return i.cache=h.set(f,m)||h,m};return i.cache=new(yu.Cache||$t),i}yu.Cache=$t;function mu(e){if(typeof e!="function")throw new Jr(_);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}function Q0(e){return Ec(2,e)}var ep=Wd(function(e,r){r=r.length==1&&de(r[0])?Ge(r[0],Kr(ae())):Ge(fr(r,1),Kr(ae()));var i=r.length;return Ee(function(s){for(var f=-1,h=lr(s.length,i);++f<h;)s[f]=r[f].call(this,s[f]);return Fr(e,this,s)})}),Qa=Ee(function(e,r){var i=on(r,Oi(Qa));return kt(e,ue,n,r,i)}),Ic=Ee(function(e,r){var i=on(r,Oi(Ic));return kt(e,ce,n,r,i)}),rp=Gt(function(e,r){return kt(e,g,n,n,n,r)});function tp(e,r){if(typeof e!="function")throw new Jr(_);return r=r===n?r:_e(r),Ee(e,r)}function np(e,r){if(typeof e!="function")throw new Jr(_);return r=r==null?0:tr(_e(r),0),Ee(function(i){var s=i[r],f=cn(i,0,r);return s&&nn(f,s),Fr(e,this,f)})}function ip(e,r,i){var s=!0,f=!0;if(typeof e!="function")throw new Jr(_);return je(i)&&(s="leading"in i?!!i.leading:s,f="trailing"in i?!!i.trailing:f),Rc(e,r,{leading:s,maxWait:r,trailing:f})}function op(e){return bc(e,1)}function up(e,r){return Qa(Da(r),e)}function ap(){if(!arguments.length)return[];var e=arguments[0];return de(e)?e:[e]}function sp(e){return Qr(e,z)}function fp(e,r){return r=typeof r=="function"?r:n,Qr(e,z,r)}function cp(e){return Qr(e,F|z)}function lp(e,r){return r=typeof r=="function"?r:n,Qr(e,F|z,r)}function hp(e,r){return r==null||gf(e,r,or(r))}function dt(e,r){return e===r||e!==e&&r!==r}var dp=hu(Oa),gp=hu(function(e,r){return e>=r}),Jn=mf(function(){return arguments}())?mf:function(e){return Ze(e)&&De.call(e,"callee")&&!uf.call(e,"callee")},de=K.isArray,pp=di?Kr(di):Ad;function Pr(e){return e!=null&&bu(e.length)&&!Vt(e)}function Je(e){return Ze(e)&&Pr(e)}function vp(e){return e===!0||e===!1||Ze(e)&&Er(e)==er}var ln=Ch||cs,_p=gi?Kr(gi):Sd;function wp(e){return Ze(e)&&e.nodeType===1&&!so(e)}function yp(e){if(e==null)return!0;if(Pr(e)&&(de(e)||typeof e=="string"||typeof e.splice=="function"||ln(e)||Ri(e)||Jn(e)))return!e.length;var r=hr(e);if(r==Ce||r==nr)return!e.size;if(uo(e))return!Pa(e).length;for(var i in e)if(De.call(e,i))return!1;return!0}function mp(e,r){return no(e,r)}function bp(e,r,i){i=typeof i=="function"?i:n;var s=i?i(e,r):n;return s===n?no(e,r,n,i):!!s}function es(e){if(!Ze(e))return!1;var r=Er(e);return r==Ye||r==kr||typeof e.message=="string"&&typeof e.name=="string"&&!so(e)}function Ep(e){return typeof e=="number"&&sf(e)}function Vt(e){if(!je(e))return!1;var r=Er(e);return r==cr||r==Qe||r==ke||r==oi}function Pc(e){return typeof e=="number"&&e==_e(e)}function bu(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=B}function je(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function Ze(e){return e!=null&&typeof e=="object"}var Tc=ji?Kr(ji):Rd;function Ap(e,r){return e===r||Ia(e,r,qa(r))}function Sp(e,r,i){return i=typeof i=="function"?i:n,Ia(e,r,qa(r),i)}function Op(e){return Cc(e)&&e!=+e}function Rp(e){if(fg(e))throw new he(c);return bf(e)}function Ip(e){return e===null}function Pp(e){return e==null}function Cc(e){return typeof e=="number"||Ze(e)&&Er(e)==Te}function so(e){if(!Ze(e)||Er(e)!=Rr)return!1;var r=Vo(e);if(r===null)return!0;var i=De.call(r,"constructor")&&r.constructor;return typeof i=="function"&&i instanceof i&&qo.call(i)==Sh}var rs=$s?Kr($s):Id;function Tp(e){return Pc(e)&&e>=-B&&e<=B}var xc=qs?Kr(qs):Pd;function Eu(e){return typeof e=="string"||!de(e)&&Ze(e)&&Er(e)==Nr}function Hr(e){return typeof e=="symbol"||Ze(e)&&Er(e)==ar}var Ri=ks?Kr(ks):Td;function Cp(e){return e===n}function xp(e){return Ze(e)&&hr(e)==ft}function Lp(e){return Ze(e)&&Er(e)==ui}var Bp=hu(Ta),Np=hu(function(e,r){return e<=r});function Lc(e){if(!e)return[];if(Pr(e))return Eu(e)?lt(e):Ir(e);if(Zi&&e[Zi])return hh(e[Zi]());var r=hr(e),i=r==Ce?va:r==nr?Ho:Ii;return i(e)}function Zt(e){if(!e)return e===0?e:0;if(e=tt(e),e===N||e===-N){var r=e<0?-1:1;return r*k}return e===e?e:0}function _e(e){var r=Zt(e),i=r%1;return r===r?i?r-i:r:0}function Bc(e){return e?jn(_e(e),0,X):0}function tt(e){if(typeof e=="number")return e;if(Hr(e))return re;if(je(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=je(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Js(e);var i=Un.test(e);return i||Fn.test(e)?Q(e.slice(2),i?2:8):Mn.test(e)?re:+e}function Nc(e){return Rt(e,Tr(e))}function Mp(e){return e?jn(_e(e),-B,B):e===0?e:0}function Me(e){return e==null?"":Wr(e)}var Up=Ai(function(e,r){if(uo(r)||Pr(r)){Rt(r,or(r),e);return}for(var i in r)De.call(r,i)&&eo(e,i,r[i])}),Mc=Ai(function(e,r){Rt(r,Tr(r),e)}),Au=Ai(function(e,r,i,s){Rt(r,Tr(r),e,s)}),Dp=Ai(function(e,r,i,s){Rt(r,or(r),e,s)}),Fp=Gt(Ea);function Kp(e,r){var i=Ei(e);return r==null?i:df(i,r)}var Wp=Ee(function(e,r){e=He(e);var i=-1,s=r.length,f=s>2?r[2]:n;for(f&&Ar(r[0],r[1],f)&&(s=1);++i<s;)for(var h=r[i],m=Tr(h),A=-1,L=m.length;++A<L;){var $=m[A],q=e[$];(q===n||dt(q,yi[$])&&!De.call(e,$))&&(e[$]=h[$])}return e}),Hp=Ee(function(e){return e.push(n,Xf),Fr(Uc,n,e)});function zp(e,r){return js(e,ae(r,3),Ot)}function $p(e,r){return js(e,ae(r,3),Sa)}function qp(e,r){return e==null?e:Aa(e,ae(r,3),Tr)}function kp(e,r){return e==null?e:wf(e,ae(r,3),Tr)}function Gp(e,r){return e&&Ot(e,ae(r,3))}function jp(e,r){return e&&Sa(e,ae(r,3))}function Vp(e){return e==null?[]:iu(e,or(e))}function Zp(e){return e==null?[]:iu(e,Tr(e))}function ts(e,r,i){var s=e==null?n:Vn(e,r);return s===n?i:s}function Yp(e,r){return e!=null&&rc(e,r,yd)}function ns(e,r){return e!=null&&rc(e,r,md)}var Jp=jf(function(e,r,i){r!=null&&typeof r.toString!="function"&&(r=ko.call(r)),e[r]=i},os(Cr)),Xp=jf(function(e,r,i){r!=null&&typeof r.toString!="function"&&(r=ko.call(r)),De.call(e,r)?e[r].push(i):e[r]=[i]},ae),Qp=Ee(to);function or(e){return Pr(e)?lf(e):Pa(e)}function Tr(e){return Pr(e)?lf(e,!0):Cd(e)}function ev(e,r){var i={};return r=ae(r,3),Ot(e,function(s,f,h){qt(i,r(s,f,h),s)}),i}function rv(e,r){var i={};return r=ae(r,3),Ot(e,function(s,f,h){qt(i,f,r(s,f,h))}),i}var tv=Ai(function(e,r,i){ou(e,r,i)}),Uc=Ai(function(e,r,i,s){ou(e,r,i,s)}),nv=Gt(function(e,r){var i={};if(e==null)return i;var s=!1;r=Ge(r,function(h){return h=fn(h,e),s||(s=h.length>1),h}),Rt(e,za(e),i),s&&(i=Qr(i,F|M|z,Jd));for(var f=r.length;f--;)Na(i,r[f]);return i});function iv(e,r){return Dc(e,mu(ae(r)))}var ov=Gt(function(e,r){return e==null?{}:Ld(e,r)});function Dc(e,r){if(e==null)return{};var i=Ge(za(e),function(s){return[s]});return r=ae(r),Pf(e,i,function(s,f){return r(s,f[0])})}function uv(e,r,i){r=fn(r,e);var s=-1,f=r.length;for(f||(f=1,e=n);++s<f;){var h=e==null?n:e[It(r[s])];h===n&&(s=f,h=i),e=Vt(h)?h.call(e):h}return e}function av(e,r,i){return e==null?e:io(e,r,i)}function sv(e,r,i,s){return s=typeof s=="function"?s:n,e==null?e:io(e,r,i,s)}var Fc=Yf(or),Kc=Yf(Tr);function fv(e,r,i){var s=de(e),f=s||ln(e)||Ri(e);if(r=ae(r,4),i==null){var h=e&&e.constructor;f?i=s?new h:[]:je(e)?i=Vt(h)?Ei(Vo(e)):{}:i={}}return(f?Yr:Ot)(e,function(m,A,L){return r(i,m,A,L)}),i}function cv(e,r){return e==null?!0:Na(e,r)}function lv(e,r,i){return e==null?e:Bf(e,r,Da(i))}function hv(e,r,i,s){return s=typeof s=="function"?s:n,e==null?e:Bf(e,r,Da(i),s)}function Ii(e){return e==null?[]:pa(e,or(e))}function dv(e){return e==null?[]:pa(e,Tr(e))}function gv(e,r,i){return i===n&&(i=r,r=n),i!==n&&(i=tt(i),i=i===i?i:0),r!==n&&(r=tt(r),r=r===r?r:0),jn(tt(e),r,i)}function pv(e,r,i){return r=Zt(r),i===n?(i=r,r=0):i=Zt(i),e=tt(e),bd(e,r,i)}function vv(e,r,i){if(i&&typeof i!="boolean"&&Ar(e,r,i)&&(r=i=n),i===n&&(typeof r=="boolean"?(i=r,r=n):typeof e=="boolean"&&(i=e,e=n)),e===n&&r===n?(e=0,r=1):(e=Zt(e),r===n?(r=e,e=0):r=Zt(r)),e>r){var s=e;e=r,r=s}if(i||e%1||r%1){var f=ff();return lr(e+f*(r-e+D("1e-"+((f+"").length-1))),r)}return xa(e,r)}var _v=Si(function(e,r,i){return r=r.toLowerCase(),e+(i?Wc(r):r)});function Wc(e){return is(Me(e).toLowerCase())}function Hc(e){return e=Me(e),e&&e.replace(Wn,ah).replace(Mo,"")}function wv(e,r,i){e=Me(e),r=Wr(r);var s=e.length;i=i===n?s:jn(_e(i),0,s);var f=i;return i-=r.length,i>=0&&e.slice(i,f)==r}function yv(e){return e=Me(e),e&&Mr.test(e)?e.replace(jr,sh):e}function mv(e){return e=Me(e),e&&In.test(e)?e.replace(Dt,"\\$&"):e}var bv=Si(function(e,r,i){return e+(i?"-":"")+r.toLowerCase()}),Ev=Si(function(e,r,i){return e+(i?" ":"")+r.toLowerCase()}),Av=qf("toLowerCase");function Sv(e,r,i){e=Me(e),r=_e(r);var s=r?_i(e):0;if(!r||s>=r)return e;var f=(r-s)/2;return lu(Xo(f),i)+e+lu(Jo(f),i)}function Ov(e,r,i){e=Me(e),r=_e(r);var s=r?_i(e):0;return r&&s<r?e+lu(r-s,i):e}function Rv(e,r,i){e=Me(e),r=_e(r);var s=r?_i(e):0;return r&&s<r?lu(r-s,i)+e:e}function Iv(e,r,i){return i||r==null?r=0:r&&(r=+r),Nh(Me(e).replace(Ft,""),r||0)}function Pv(e,r,i){return(i?Ar(e,r,i):r===n)?r=1:r=_e(r),La(Me(e),r)}function Tv(){var e=arguments,r=Me(e[0]);return e.length<3?r:r.replace(e[1],e[2])}var Cv=Si(function(e,r,i){return e+(i?"_":"")+r.toLowerCase()});function xv(e,r,i){return i&&typeof i!="number"&&Ar(e,r,i)&&(r=i=n),i=i===n?X:i>>>0,i?(e=Me(e),e&&(typeof r=="string"||r!=null&&!rs(r))&&(r=Wr(r),!r&&vi(e))?cn(lt(e),0,i):e.split(r,i)):[]}var Lv=Si(function(e,r,i){return e+(i?" ":"")+is(r)});function Bv(e,r,i){return e=Me(e),i=i==null?0:jn(_e(i),0,e.length),r=Wr(r),e.slice(i,i+r.length)==r}function Nv(e,r,i){var s=l.templateSettings;i&&Ar(e,r,i)&&(r=n),e=Me(e),r=Au({},r,s,Jf);var f=Au({},r.imports,s.imports,Jf),h=or(f),m=pa(f,h),A,L,$=0,q=r.interpolate||Zr,G="__p += '",J=_a((r.escape||Zr).source+"|"+q.source+"|"+(q===Qt?Nn:Zr).source+"|"+(r.evaluate||Zr).source+"|$","g"),te="//# sourceURL="+(De.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Do+"]")+`
`;e.replace(J,function(fe,Se,Re,zr,Sr,$r){return Re||(Re=zr),G+=e.slice($,$r).replace(Hn,fh),Se&&(A=!0,G+=`' +
__e(`+Se+`) +
'`),Sr&&(L=!0,G+=`';
`+Sr+`;
__p += '`),Re&&(G+=`' +
((__t = (`+Re+`)) == null ? '' : __t) +
'`),$=$r+fe.length,fe}),G+=`';
`;var se=De.call(r,"variable")&&r.variable;if(!se)G=`with (obj) {
`+G+`
}
`;else if(Ln.test(se))throw new he(b);G=(L?G.replace(mn,""):G).replace(Xt,"$1").replace(bn,"$1;"),G="function("+(se||"obj")+`) {
`+(se?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+G+`return __p
}`;var we=$c(function(){return Be(h,te+"return "+G).apply(n,m)});if(we.source=G,es(we))throw we;return we}function Mv(e){return Me(e).toLowerCase()}function Uv(e){return Me(e).toUpperCase()}function Dv(e,r,i){if(e=Me(e),e&&(i||r===n))return Js(e);if(!e||!(r=Wr(r)))return e;var s=lt(e),f=lt(r),h=Xs(s,f),m=Qs(s,f)+1;return cn(s,h,m).join("")}function Fv(e,r,i){if(e=Me(e),e&&(i||r===n))return e.slice(0,rf(e)+1);if(!e||!(r=Wr(r)))return e;var s=lt(e),f=Qs(s,lt(r))+1;return cn(s,0,f).join("")}function Kv(e,r,i){if(e=Me(e),e&&(i||r===n))return e.replace(Ft,"");if(!e||!(r=Wr(r)))return e;var s=lt(e),f=Xs(s,lt(r));return cn(s,f).join("")}function Wv(e,r){var i=p,s=d;if(je(r)){var f="separator"in r?r.separator:f;i="length"in r?_e(r.length):i,s="omission"in r?Wr(r.omission):s}e=Me(e);var h=e.length;if(vi(e)){var m=lt(e);h=m.length}if(i>=h)return e;var A=i-_i(s);if(A<1)return s;var L=m?cn(m,0,A).join(""):e.slice(0,A);if(f===n)return L+s;if(m&&(A+=L.length-A),rs(f)){if(e.slice(A).search(f)){var $,q=L;for(f.global||(f=_a(f.source,Me(Ur.exec(f))+"g")),f.lastIndex=0;$=f.exec(q);)var G=$.index;L=L.slice(0,G===n?A:G)}}else if(e.indexOf(Wr(f),A)!=A){var J=L.lastIndexOf(f);J>-1&&(L=L.slice(0,J))}return L+s}function Hv(e){return e=Me(e),e&&En.test(e)?e.replace(Ut,vh):e}var zv=Si(function(e,r,i){return e+(i?" ":"")+r.toUpperCase()}),is=qf("toUpperCase");function zc(e,r,i){return e=Me(e),r=i?n:r,r===n?lh(e)?yh(e):th(e):e.match(r)||[]}var $c=Ee(function(e,r){try{return Fr(e,n,r)}catch(i){return es(i)?i:new he(i)}}),$v=Gt(function(e,r){return Yr(r,function(i){i=It(i),qt(e,i,Xa(e[i],e))}),e});function qv(e){var r=e==null?0:e.length,i=ae();return e=r?Ge(e,function(s){if(typeof s[1]!="function")throw new Jr(_);return[i(s[0]),s[1]]}):[],Ee(function(s){for(var f=-1;++f<r;){var h=e[f];if(Fr(h[0],this,s))return Fr(h[1],this,s)}})}function kv(e){return vd(Qr(e,F))}function os(e){return function(){return e}}function Gv(e,r){return e==null||e!==e?r:e}var jv=Gf(),Vv=Gf(!0);function Cr(e){return e}function us(e){return Ef(typeof e=="function"?e:Qr(e,F))}function Zv(e){return Sf(Qr(e,F))}function Yv(e,r){return Of(e,Qr(r,F))}var Jv=Ee(function(e,r){return function(i){return to(i,e,r)}}),Xv=Ee(function(e,r){return function(i){return to(e,i,r)}});function as(e,r,i){var s=or(r),f=iu(r,s);i==null&&!(je(r)&&(f.length||!s.length))&&(i=r,r=e,e=this,f=iu(r,or(r)));var h=!(je(i)&&"chain"in i)||!!i.chain,m=Vt(e);return Yr(f,function(A){var L=r[A];e[A]=L,m&&(e.prototype[A]=function(){var $=this.__chain__;if(h||$){var q=e(this.__wrapped__),G=q.__actions__=Ir(this.__actions__);return G.push({func:L,args:arguments,thisArg:e}),q.__chain__=$,q}return L.apply(e,nn([this.value()],arguments))})}),e}function Qv(){return ve._===this&&(ve._=Oh),this}function ss(){}function e_(e){return e=_e(e),Ee(function(r){return Rf(r,e)})}var r_=Ka(Ge),t_=Ka(Gs),n_=Ka(ca);function qc(e){return Ga(e)?la(It(e)):Bd(e)}function i_(e){return function(r){return e==null?n:Vn(e,r)}}var o_=Vf(),u_=Vf(!0);function fs(){return[]}function cs(){return!1}function a_(){return{}}function s_(){return""}function f_(){return!0}function c_(e,r){if(e=_e(e),e<1||e>B)return[];var i=X,s=lr(e,X);r=ae(r),e-=X;for(var f=ga(s,r);++i<e;)r(i);return f}function l_(e){return de(e)?Ge(e,It):Hr(e)?[e]:Ir(cc(Me(e)))}function h_(e){var r=++Ah;return Me(e)+r}var d_=cu(function(e,r){return e+r},0),g_=Wa("ceil"),p_=cu(function(e,r){return e/r},1),v_=Wa("floor");function __(e){return e&&e.length?nu(e,Cr,Oa):n}function w_(e,r){return e&&e.length?nu(e,ae(r,2),Oa):n}function y_(e){return Zs(e,Cr)}function m_(e,r){return Zs(e,ae(r,2))}function b_(e){return e&&e.length?nu(e,Cr,Ta):n}function E_(e,r){return e&&e.length?nu(e,ae(r,2),Ta):n}var A_=cu(function(e,r){return e*r},1),S_=Wa("round"),O_=cu(function(e,r){return e-r},0);function R_(e){return e&&e.length?da(e,Cr):0}function I_(e,r){return e&&e.length?da(e,ae(r,2)):0}return l.after=Z0,l.ary=bc,l.assign=Up,l.assignIn=Mc,l.assignInWith=Au,l.assignWith=Dp,l.at=Fp,l.before=Ec,l.bind=Xa,l.bindAll=$v,l.bindKey=Ac,l.castArray=ap,l.chain=wc,l.chunk=vg,l.compact=_g,l.concat=wg,l.cond=qv,l.conforms=kv,l.constant=os,l.countBy=R0,l.create=Kp,l.curry=Sc,l.curryRight=Oc,l.debounce=Rc,l.defaults=Wp,l.defaultsDeep=Hp,l.defer=Y0,l.delay=J0,l.difference=yg,l.differenceBy=mg,l.differenceWith=bg,l.drop=Eg,l.dropRight=Ag,l.dropRightWhile=Sg,l.dropWhile=Og,l.fill=Rg,l.filter=P0,l.flatMap=x0,l.flatMapDeep=L0,l.flatMapDepth=B0,l.flatten=gc,l.flattenDeep=Ig,l.flattenDepth=Pg,l.flip=X0,l.flow=jv,l.flowRight=Vv,l.fromPairs=Tg,l.functions=Vp,l.functionsIn=Zp,l.groupBy=N0,l.initial=xg,l.intersection=Lg,l.intersectionBy=Bg,l.intersectionWith=Ng,l.invert=Jp,l.invertBy=Xp,l.invokeMap=U0,l.iteratee=us,l.keyBy=D0,l.keys=or,l.keysIn=Tr,l.map=_u,l.mapKeys=ev,l.mapValues=rv,l.matches=Zv,l.matchesProperty=Yv,l.memoize=yu,l.merge=tv,l.mergeWith=Uc,l.method=Jv,l.methodOf=Xv,l.mixin=as,l.negate=mu,l.nthArg=e_,l.omit=nv,l.omitBy=iv,l.once=Q0,l.orderBy=F0,l.over=r_,l.overArgs=ep,l.overEvery=t_,l.overSome=n_,l.partial=Qa,l.partialRight=Ic,l.partition=K0,l.pick=ov,l.pickBy=Dc,l.property=qc,l.propertyOf=i_,l.pull=Fg,l.pullAll=vc,l.pullAllBy=Kg,l.pullAllWith=Wg,l.pullAt=Hg,l.range=o_,l.rangeRight=u_,l.rearg=rp,l.reject=z0,l.remove=zg,l.rest=tp,l.reverse=Ya,l.sampleSize=q0,l.set=av,l.setWith=sv,l.shuffle=k0,l.slice=$g,l.sortBy=V0,l.sortedUniq=Yg,l.sortedUniqBy=Jg,l.split=xv,l.spread=np,l.tail=Xg,l.take=Qg,l.takeRight=e0,l.takeRightWhile=r0,l.takeWhile=t0,l.tap=_0,l.throttle=ip,l.thru=vu,l.toArray=Lc,l.toPairs=Fc,l.toPairsIn=Kc,l.toPath=l_,l.toPlainObject=Nc,l.transform=fv,l.unary=op,l.union=n0,l.unionBy=i0,l.unionWith=o0,l.uniq=u0,l.uniqBy=a0,l.uniqWith=s0,l.unset=cv,l.unzip=Ja,l.unzipWith=_c,l.update=lv,l.updateWith=hv,l.values=Ii,l.valuesIn=dv,l.without=f0,l.words=zc,l.wrap=up,l.xor=c0,l.xorBy=l0,l.xorWith=h0,l.zip=d0,l.zipObject=g0,l.zipObjectDeep=p0,l.zipWith=v0,l.entries=Fc,l.entriesIn=Kc,l.extend=Mc,l.extendWith=Au,as(l,l),l.add=d_,l.attempt=$c,l.camelCase=_v,l.capitalize=Wc,l.ceil=g_,l.clamp=gv,l.clone=sp,l.cloneDeep=cp,l.cloneDeepWith=lp,l.cloneWith=fp,l.conformsTo=hp,l.deburr=Hc,l.defaultTo=Gv,l.divide=p_,l.endsWith=wv,l.eq=dt,l.escape=yv,l.escapeRegExp=mv,l.every=I0,l.find=T0,l.findIndex=hc,l.findKey=zp,l.findLast=C0,l.findLastIndex=dc,l.findLastKey=$p,l.floor=v_,l.forEach=yc,l.forEachRight=mc,l.forIn=qp,l.forInRight=kp,l.forOwn=Gp,l.forOwnRight=jp,l.get=ts,l.gt=dp,l.gte=gp,l.has=Yp,l.hasIn=ns,l.head=pc,l.identity=Cr,l.includes=M0,l.indexOf=Cg,l.inRange=pv,l.invoke=Qp,l.isArguments=Jn,l.isArray=de,l.isArrayBuffer=pp,l.isArrayLike=Pr,l.isArrayLikeObject=Je,l.isBoolean=vp,l.isBuffer=ln,l.isDate=_p,l.isElement=wp,l.isEmpty=yp,l.isEqual=mp,l.isEqualWith=bp,l.isError=es,l.isFinite=Ep,l.isFunction=Vt,l.isInteger=Pc,l.isLength=bu,l.isMap=Tc,l.isMatch=Ap,l.isMatchWith=Sp,l.isNaN=Op,l.isNative=Rp,l.isNil=Pp,l.isNull=Ip,l.isNumber=Cc,l.isObject=je,l.isObjectLike=Ze,l.isPlainObject=so,l.isRegExp=rs,l.isSafeInteger=Tp,l.isSet=xc,l.isString=Eu,l.isSymbol=Hr,l.isTypedArray=Ri,l.isUndefined=Cp,l.isWeakMap=xp,l.isWeakSet=Lp,l.join=Mg,l.kebabCase=bv,l.last=rt,l.lastIndexOf=Ug,l.lowerCase=Ev,l.lowerFirst=Av,l.lt=Bp,l.lte=Np,l.max=__,l.maxBy=w_,l.mean=y_,l.meanBy=m_,l.min=b_,l.minBy=E_,l.stubArray=fs,l.stubFalse=cs,l.stubObject=a_,l.stubString=s_,l.stubTrue=f_,l.multiply=A_,l.nth=Dg,l.noConflict=Qv,l.noop=ss,l.now=wu,l.pad=Sv,l.padEnd=Ov,l.padStart=Rv,l.parseInt=Iv,l.random=vv,l.reduce=W0,l.reduceRight=H0,l.repeat=Pv,l.replace=Tv,l.result=uv,l.round=S_,l.runInContext=C,l.sample=$0,l.size=G0,l.snakeCase=Cv,l.some=j0,l.sortedIndex=qg,l.sortedIndexBy=kg,l.sortedIndexOf=Gg,l.sortedLastIndex=jg,l.sortedLastIndexBy=Vg,l.sortedLastIndexOf=Zg,l.startCase=Lv,l.startsWith=Bv,l.subtract=O_,l.sum=R_,l.sumBy=I_,l.template=Nv,l.times=c_,l.toFinite=Zt,l.toInteger=_e,l.toLength=Bc,l.toLower=Mv,l.toNumber=tt,l.toSafeInteger=Mp,l.toString=Me,l.toUpper=Uv,l.trim=Dv,l.trimEnd=Fv,l.trimStart=Kv,l.truncate=Wv,l.unescape=Hv,l.uniqueId=h_,l.upperCase=zv,l.upperFirst=is,l.each=yc,l.eachRight=mc,l.first=pc,as(l,function(){var e={};return Ot(l,function(r,i){De.call(l.prototype,i)||(e[i]=r)}),e}(),{chain:!1}),l.VERSION=u,Yr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){l[e].placeholder=l}),Yr(["drop","take"],function(e,r){Oe.prototype[e]=function(i){i=i===n?1:tr(_e(i),0);var s=this.__filtered__&&!r?new Oe(this):this.clone();return s.__filtered__?s.__takeCount__=lr(i,s.__takeCount__):s.__views__.push({size:lr(i,X),type:e+(s.__dir__<0?"Right":"")}),s},Oe.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),Yr(["filter","map","takeWhile"],function(e,r){var i=r+1,s=i==x||i==I;Oe.prototype[e]=function(f){var h=this.clone();return h.__iteratees__.push({iteratee:ae(f,3),type:i}),h.__filtered__=h.__filtered__||s,h}}),Yr(["head","last"],function(e,r){var i="take"+(r?"Right":"");Oe.prototype[e]=function(){return this[i](1).value()[0]}}),Yr(["initial","tail"],function(e,r){var i="drop"+(r?"":"Right");Oe.prototype[e]=function(){return this.__filtered__?new Oe(this):this[i](1)}}),Oe.prototype.compact=function(){return this.filter(Cr)},Oe.prototype.find=function(e){return this.filter(e).head()},Oe.prototype.findLast=function(e){return this.reverse().find(e)},Oe.prototype.invokeMap=Ee(function(e,r){return typeof e=="function"?new Oe(this):this.map(function(i){return to(i,e,r)})}),Oe.prototype.reject=function(e){return this.filter(mu(ae(e)))},Oe.prototype.slice=function(e,r){e=_e(e);var i=this;return i.__filtered__&&(e>0||r<0)?new Oe(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),r!==n&&(r=_e(r),i=r<0?i.dropRight(-r):i.take(r-e)),i)},Oe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Oe.prototype.toArray=function(){return this.take(X)},Ot(Oe.prototype,function(e,r){var i=/^(?:filter|find|map|reject)|While$/.test(r),s=/^(?:head|last)$/.test(r),f=l[s?"take"+(r=="last"?"Right":""):r],h=s||/^find/.test(r);f&&(l.prototype[r]=function(){var m=this.__wrapped__,A=s?[1]:arguments,L=m instanceof Oe,$=A[0],q=L||de(m),G=function(Se){var Re=f.apply(l,nn([Se],A));return s&&J?Re[0]:Re};q&&i&&typeof $=="function"&&$.length!=1&&(L=q=!1);var J=this.__chain__,te=!!this.__actions__.length,se=h&&!J,we=L&&!te;if(!h&&q){m=we?m:new Oe(this);var fe=e.apply(m,A);return fe.__actions__.push({func:vu,args:[G],thisArg:n}),new Xr(fe,J)}return se&&we?e.apply(this,A):(fe=this.thru(G),se?s?fe.value()[0]:fe.value():fe)})}),Yr(["pop","push","shift","sort","splice","unshift"],function(e){var r=zo[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);l.prototype[e]=function(){var f=arguments;if(s&&!this.__chain__){var h=this.value();return r.apply(de(h)?h:[],f)}return this[i](function(m){return r.apply(de(m)?m:[],f)})}}),Ot(Oe.prototype,function(e,r){var i=l[r];if(i){var s=i.name+"";De.call(bi,s)||(bi[s]=[]),bi[s].push({name:r,func:i})}}),bi[fu(n,V).name]=[{name:"wrapper",func:n}],Oe.prototype.clone=Hh,Oe.prototype.reverse=zh,Oe.prototype.value=$h,l.prototype.at=w0,l.prototype.chain=y0,l.prototype.commit=m0,l.prototype.next=b0,l.prototype.plant=A0,l.prototype.reverse=S0,l.prototype.toJSON=l.prototype.valueOf=l.prototype.value=O0,l.prototype.first=l.prototype.head,Zi&&(l.prototype[Zi]=E0),l},wi=mh();xe?((xe.exports=wi)._=wi,be._=wi):ve._=wi}).call(ye)})(Du,Du.exports);Du.exports;lw();var ho={IFRAME_STATUS:"iframe_status",CREATE_WINDOW:"create_window",CLOSE_WINDOW:"close_window",USER_LOGGED_IN:"user_logged_in",USER_LOGGED_OUT:"user_logged_out"},xt={LOGOUT:"logout",WALLET_INSTANCE_ID:"wallet_instance_id",USER_INFO:"user_info",SET_PROVIDER:"set_provider",TOPUP:"topup",IFRAME_STATUS:"iframe_status",OPENED_WINDOW:"opened_window",CLOSED_WINDOW:"closed_window",GET_PROVIDER_STATE:"get_provider_state",LOGIN_WITH_PRIVATE_KEY:"login_with_private_key"},sy={GET_PROVIDER_STATE:"wallet_get_provider_state"},_s={ACCOUNTS_CHANGED:"wallet_accounts_changed",CHAIN_CHANGED:"wallet_chain_changed",UNLOCK_STATE_CHANGED:"wallet_unlock_state_changed"};function fy(t){return function(n,u,a){a(function(c){u.error&&Mu.warn(`Error in RPC response:
`,u),!n.isTorusInternal&&(Mu.info("RPC (".concat(t.origin,"):"),n,"->",u),c())})}}var gl;(function(t){t.approved="approved",t.cancelled="cancelled",t.confirmed="confirmed",t.failed="failed",t.finalized="finalized",t.processed="processed",t.rejected="rejected",t.signed="signed",t.submitted="submitted",t.unapproved="unapproved",t.dropped="dropped",t.expired="expired"})(gl||(gl={}));const Bt=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Bt.writable=t=>Bt(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Bt.readable=t=>Bt(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Bt.duplex=t=>Bt.writable(t)&&Bt.readable(t);Bt.transform=t=>Bt.duplex(t)&&typeof t._transform=="function";var cy=Bt,ly=function t(o,n){if(o===n)return!0;if(o&&n&&typeof o=="object"&&typeof n=="object"){if(o.constructor!==n.constructor)return!1;var u,a,c;if(Array.isArray(o)){if(u=o.length,u!=n.length)return!1;for(a=u;a--!==0;)if(!t(o[a],n[a]))return!1;return!0}if(o.constructor===RegExp)return o.source===n.source&&o.flags===n.flags;if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===n.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===n.toString();if(c=Object.keys(o),u=c.length,u!==Object.keys(n).length)return!1;for(a=u;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,c[a]))return!1;for(a=u;a--!==0;){var _=c[a];if(!t(o[_],n[_]))return!1}return!0}return o!==o&&n!==n};const hy=Or(ly);var dy="0.3.2",Lt={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",unsupportedSync:t=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:t=>`Invalid options. Received: { maxEventListeners: ${t}}`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`Torus: Connected to chain with ID "${t}".`},warnings:{}};const By={MOONPAY:"moonpay",WYRE:"wyre",RAMPNETWORK:"rampnetwork",XANPOOL:"xanpool",MERCURYO:"mercuryo",TRANSAK:"transak"},gy={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"},po={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},ws={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless"},py={en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies benÃ¶tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"ç¶ç¶ãã",actionRequired:"èªè¨¼ãå¿è¦ã§ã",pendingAction:"ç¶è¡ãã¯ãªãã¯ãã¦ããããã¢ããã§ãªã¯ã¨ã¹ããç¶è¡ãã¾ã",cookiesRequired:"å¿è¦ãªã¯ãã­ã¼",enableCookies:"Torusã«ã¢ã¯ã»ã¹ããã«ã¯ããã©ã¦ã¶ã®è¨­å®ã§Cookieãæå¹ã«ãã¦ãã ããã",clickHere:"è©³ããã¯"}},ko:{embed:{continue:"ê³ìíë¤",actionRequired:"ì¹ì¸ íì",pendingAction:"íììì ìì²­ì ì§ííë ¤ë©´ ê³ìì í´ë¦­íì­ìì¤.",cookiesRequired:"ì¿ í¤ íì",enableCookies:"ë¸ë¼ì°ì  íê²½ ì¤ì ìì ì¿ í¤ë¥¼ íì±ííì¬ Torusì ì¡ì¸ì¤íì­ìì¤.",clickHere:"ë ë§ì ì ë³´"}},zh:{embed:{continue:"ç»§ç»­",actionRequired:"éè¦ææ",pendingAction:"åå»ç»§ç»­ä»¥å¨å¼¹åºçªå£ä¸­ç»§ç»­æ¨çè¯·æ±",cookiesRequired:"å¿å¡«Cookie",enableCookies:"è¯·å¨æ¨çæµè§å¨é¦éé¡¹ä¸­å¯ç¨cookieä»¥è®¿é®Torusã",clickHere:"æ´å¤ä¿¡æ¯"}}};var Fu={supportedVerifierList:[ws.GOOGLE,ws.REDDIT,ws.DISCORD],api:"https://api.tor.us",translations:py,prodTorusUrl:"",localStorageKey:`torus-${window.location.hostname}`},qe=Mu.getLogger("solana-embed");function vy(){return(t,o,n)=>{(typeof t.method!="string"||!t.method)&&(o.error=_t.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),n(u=>{const{error:a}=o;return a&&qe.error(`Torus - RPC Error: ${a.message}`,a),u()})}}function _y(t,o,n){let u=`Torus: Lost connection to "${t}".`;o!=null&&o.stack&&(u+=`
${o.stack}`),qe.warn(u),n&&n.listenerCount("error")>0&&n.emit("error",u)}const Tu=()=>Math.random().toString(36).slice(2),Gl=async t=>{let o,n;switch(t){case"testing":o="https://solana-testing.tor.us",n="debug";break;case"development":o="http://localhost:8080",n="debug";break;default:o="https://solana.tor.us",n="error";break}return{torusUrl:o,logLevel:n}},wy=()=>{let t=window.navigator.language||"en-US";const o=t.split("-");return t=Object.prototype.hasOwnProperty.call(Fu.translations,o[0])?o[0]:"en",t},yy={height:660,width:375},my={height:740,width:1315},by={height:700,width:1200},jl={height:600,width:400};function Ey(t){let o;try{o=window[t];const n="__storage_test__";return o.setItem(n,n),o.removeItem(n),!0}catch(n){return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&o&&o.length!==0}}function vo(t){let{width:o,height:n}=t;const u=window.screenLeft!==void 0?window.screenLeft:window.screenX,a=window.screenTop!==void 0?window.screenTop:window.screenY,c=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,_=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,b=1,P=Math.abs((c-o)/2/b+u),T=Math.abs((_-n)/2/b+a);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${n/b},width=${o/b},top=${T},left=${P}`}class Vl extends Hu{constructor(o,n){let{maxEventListeners:u=100,jsonRpcStreamName:a="provider"}=n;if(super(),ne(this,"isTorus",void 0),ne(this,"_rpcEngine",void 0),ne(this,"jsonRpcConnectionEvents",void 0),ne(this,"_state",void 0),!cy.duplex(o))throw new Error(Lt.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(u),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this);const c=new aw;Xc(o,c,o,this._handleStreamDisconnect.bind(this,"Torus")),c.ignoreStream("phishing");const _=Z1();Xc(_.stream,c.createStream(a),_.stream,this._handleStreamDisconnect.bind(this,"Torus RpcProvider"));const b=new rw;b.push(Y1()),b.push(vy()),b.push(fy({origin:location.origin})),b.push(_.middleware),this._rpcEngine=b,this.jsonRpcConnectionEvents=_.events}async request(o){if(!o||typeof o!="object"||Array.isArray(o))throw _t.ethErrors.rpc.invalidRequest({message:Lt.errors.invalidRequestArgs(),data:o});const{method:n,params:u}=o;if(typeof n!="string"||n.length===0)throw _t.ethErrors.rpc.invalidRequest({message:Lt.errors.invalidRequestMethod(),data:o});if(u!==void 0&&!Array.isArray(u)&&(typeof u!="object"||u===null))throw _t.ethErrors.rpc.invalidRequest({message:Lt.errors.invalidRequestParams(),data:o});return new Promise((a,c)=>{this._rpcRequest({method:n,params:u},Os(a,c))})}send(o,n){this._rpcRequest(o,n)}sendAsync(o){return new Promise((n,u)=>{this._rpcRequest(o,Os(n,u))})}_handleStreamDisconnect(o,n){_y(o,n,this),this._handleDisconnect(!1,n?n.message:void 0)}}const Ay=function(t,o,n){for(var u=arguments.length,a=new Array(u>3?u-3:0),c=3;c<u;c++)a[c-3]=arguments[c];const _=()=>{n(...a),t.removeEventListener(o,_)};t.addEventListener(o,_)};async function Zl(){return new Promise(t=>{document.readyState!=="loading"?t():Ay(document,"DOMContentLoaded",t)})}const xi=t=>{const o=window.document.createElement("template"),n=t.trim();return o.innerHTML=n,o.content.firstChild};class Yl extends Hu{constructor(o){let{url:n,target:u,features:a}=o;super(),ne(this,"url",void 0),ne(this,"target",void 0),ne(this,"features",void 0),ne(this,"window",void 0),ne(this,"windowTimer",void 0),ne(this,"iClosedWindow",void 0),this.url=n,this.target=u||"_blank",this.features=a||vo(by),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var o;return this.window=window.open(this.url.href,this.target,this.features),(o=this.window)!==null&&o!==void 0&&o.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(o){o?window.location.replace(this.url.href):window.location.href=this.url.href}}function pl(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);o&&(u=u.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,u)}return n}function Sy(t){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?pl(Object(n),!0).forEach(function(u){ne(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}class Ju extends Vl{constructor(o,n){let{maxEventListeners:u=100,jsonRpcStreamName:a="provider"}=n;super(o,{maxEventListeners:u,jsonRpcStreamName:a}),ne(this,"embedTranslations",void 0),ne(this,"torusUrl",void 0),ne(this,"dappStorageKey",void 0),ne(this,"windowRefs",void 0),ne(this,"tryWindowHandle",void 0),ne(this,"torusAlertContainer",void 0),ne(this,"torusIframe",void 0),this._state=Sy({},Ju._defaultState),this.torusUrl="",this.dappStorageKey="";const c=Fu.translations[wy()];this.embedTranslations=c.embed,this.windowRefs={},this.on("connect",()=>{this._state.isConnected=!0});const _=b=>{const{method:P,params:T}=b;if(P===ho.IFRAME_STATUS){const{isFullScreen:U,rid:F}=T;this._displayIframe({isFull:U,rid:F})}else if(P===ho.CREATE_WINDOW){const{windowId:U,url:F}=T;this._createPopupBlockAlert(U,F)}else if(P===ho.CLOSE_WINDOW)this._handleCloseWindow(T);else if(P===ho.USER_LOGGED_IN){const{currentLoginProvider:U}=T;this._state.isLoggedIn=!0,this._state.currentLoginProvider=U}else P===ho.USER_LOGGED_OUT&&(this._state.isLoggedIn=!1,this._state.currentLoginProvider=null,this._displayIframe())};this.jsonRpcConnectionEvents.on("notification",_)}get isLoggedIn(){return this._state.isLoggedIn}get isIFrameFullScreen(){return this._state.isIFrameFullScreen}isConnected(){return this._state.isConnected}async _initializeState(o){try{const{torusUrl:n,dappStorageKey:u,torusAlertContainer:a,torusIframe:c}=o;this.torusUrl=n,this.dappStorageKey=u,this.torusAlertContainer=a,this.torusIframe=c,this.torusIframe.addEventListener("load",()=>{this._state.isIFrameFullScreen||this._displayIframe()});const{currentLoginProvider:_,isLoggedIn:b}=await this.request({method:xt.GET_PROVIDER_STATE,params:[]});this._handleConnect(_,b)}catch(n){qe.error("Torus: Failed to get initial state. Please report this bug.",n)}finally{qe.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized")}}_handleWindow(o){let{url:n,target:u,features:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=new URL(n||`${this.torusUrl}/redirect?windowId=${o}`);this.dappStorageKey&&(c.hash?c.hash+=`&dappStorageKey=${this.dappStorageKey}`:c.hash=`#dappStorageKey=${this.dappStorageKey}`);const _=new Yl({url:c,target:u,features:a});if(_.open(),!_.window){this._createPopupBlockAlert(o,c.href);return}this.windowRefs[o]=_,this.request({method:xt.OPENED_WINDOW,params:{windowId:o}}),_.once("close",()=>{delete this.windowRefs[o],this.request({method:xt.CLOSED_WINDOW,params:{windowId:o}})})}_displayIframe(){let{isFull:o=!1,rid:n=""}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const u={};if(o)u.display="block",u.width="100%",u.height="100%",u.top="0px",u.right="0px",u.left="0px",u.bottom="0px";else switch(u.display=this._state.torusWidgetVisibility?"block":"none",u.height="70px",u.width="70px",this._state.buttonPosition){case po.TOP_LEFT:u.top="0px",u.left="0px",u.right="auto",u.bottom="auto";break;case po.TOP_RIGHT:u.top="0px",u.right="0px",u.left="auto",u.bottom="auto";break;case po.BOTTOM_RIGHT:u.bottom="0px",u.right="0px",u.top="auto",u.left="auto";break;case po.BOTTOM_LEFT:default:u.bottom="0px",u.left="0px",u.top="auto",u.right="auto";break}Object.assign(this.torusIframe.style,u),this._state.isIFrameFullScreen=o,this.request({method:xt.IFRAME_STATUS,params:{isIFrameFullScreen:o,rid:n}})}hideTorusButton(){this._state.torusWidgetVisibility=!1,this._displayIframe()}showTorusButton(){this._state.torusWidgetVisibility=!0,this._displayIframe()}_rpcRequest(o,n){const u=n,a=o;Array.isArray(a)||a.jsonrpc||(a.jsonrpc="2.0"),this.tryWindowHandle(a,u)}_handleConnect(o,n){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:o,isLoggedIn:n}),qe.debug(Lt.info.connected(o)))}_handleDisconnect(o,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!o){this._state.isConnected=!1;let u;o?(u=new _t.EthereumRpcError(1013,n||Lt.errors.disconnected()),qe.debug(u)):(u=new _t.EthereumRpcError(1011,n||Lt.errors.permanentlyDisconnected()),qe.error(u),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",u)}}_handleCloseWindow(o){const{windowId:n}=o;this.windowRefs[n]&&(this.windowRefs[n].close(),delete this.windowRefs[n])}async _createPopupBlockAlert(o,n){const u=this.getLogoUrl(),a=xi(`<div id="torusAlert" class="torus-alert--v2"><div id="torusAlert__logo"><img src="${u}" /></div><div><h1 id="torusAlert__title">${this.embedTranslations.actionRequired}</h1><p id="torusAlert__desc">${this.embedTranslations.pendingAction}</p></div></div>`),c=xi(`<div><a id="torusAlert__btn">${this.embedTranslations.continue}</a></div>`),_=xi('<div id="torusAlert__btn-container"></div>');_.appendChild(c),a.appendChild(_);const b=()=>{c.addEventListener("click",()=>{this._handleWindow(o,{url:n,target:"_blank",features:vo(jl)}),a.remove(),this.torusAlertContainer.children.length===0&&(this.torusAlertContainer.style.display="none")})},P=()=>{this.torusAlertContainer.appendChild(a)};await Zl(),P(),b(),this.torusAlertContainer.style.display="block"}getLogoUrl(){return`${this.torusUrl}/images/torus_icon-blue.svg`}}ne(Ju,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});function vl(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);o&&(u=u.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,u)}return n}function Oy(t){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?vl(Object(n),!0).forEach(function(u){ne(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vl(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}class Xu extends Vl{constructor(o,n){let{maxEventListeners:u=100,jsonRpcStreamName:a="provider"}=n;super(o,{maxEventListeners:u,jsonRpcStreamName:a}),ne(this,"chainId",void 0),ne(this,"selectedAddress",void 0),ne(this,"tryWindowHandle",void 0),this._state=Oy({},Xu._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this.on("connect",()=>{this._state.isConnected=!0});const c=_=>{const{method:b,params:P}=_;b===_s.ACCOUNTS_CHANGED?this._handleAccountsChanged(P):b===_s.UNLOCK_STATE_CHANGED?this._handleUnlockStateChanged(P):b===_s.CHAIN_CHANGED&&this._handleChainChanged(P)};this.jsonRpcConnectionEvents.on("notification",c)}isConnected(){return this._state.isConnected}async _initializeState(){try{const{accounts:o,chainId:n,isUnlocked:u}=await this.request({method:sy.GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:n}),this._handleChainChanged({chainId:n}),this._handleUnlockStateChanged({accounts:o,isUnlocked:u}),this._handleAccountsChanged(o)}catch(o){qe.error("Torus: Failed to get initial state. Please report this bug.",o)}finally{qe.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(o,n){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=n;const c=o;if(!Array.isArray(c)){if(c.jsonrpc||(c.jsonrpc="2.0"),c.method==="solana_accounts"||c.method==="solana_requestAccounts")a=(_,b)=>{this._handleAccountsChanged(b.result||[],c.method==="solana_accounts",u),n(_,b)};else if(c.method==="wallet_getProviderState"){this._rpcEngine.handle(o,a);return}}this.tryWindowHandle(c,a)}_handleConnect(o){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:o}),qe.debug(Lt.info.connected(o)))}_handleDisconnect(o,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!o){this._state.isConnected=!1;let u;o?(u=new _t.EthereumRpcError(1013,n||Lt.errors.disconnected()),qe.debug(u)):(u=new _t.EthereumRpcError(1011,n||Lt.errors.permanentlyDisconnected()),qe.error(u),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",u)}}_handleAccountsChanged(o){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=o;Array.isArray(a)||(qe.error("Torus: Received non-array accounts parameter. Please report this bug.",a),a=[]);for(const c of o)if(typeof c!="string"){qe.error("Torus: Received non-string account. Please report this bug.",o),a=[];break}hy(this._state.accounts,a)||(n&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!u&&qe.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',a),this._state.accounts=a,this.emit("accountsChanged",a)),this.selectedAddress!==a[0]&&(this.selectedAddress=a[0]||null)}_handleChainChanged(){let{chainId:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!o){qe.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:o});return}o==="loading"?this._handleDisconnect(!0):(this._handleConnect(o),o!==this.chainId&&(this.chainId=o,this._state.initialized&&this.emit("chainChanged",this.chainId)))}_handleUnlockStateChanged(){let{accounts:o,isUnlocked:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof n!="boolean"){qe.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:n});return}n!==this._state.isUnlocked&&(this._state.isUnlocked=n,this._handleAccountsChanged(o||[]))}}ne(Xu,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});function _l(t){return new Promise((o,n)=>{try{const u=document.createElement("img");u.onload=()=>o(!0),u.onerror=()=>o(!1),u.src=t}catch(u){n(u)}})}const Ry=t=>{const{document:o}=t,n=o.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const u=o.querySelector('head > meta[name="title"]');return u?u.content:o.title&&o.title.length>0?o.title:t.location.hostname};async function Iy(t){try{const{document:o}=t;let n=o.querySelector('head > link[rel="shortcut icon"]');return n&&await _l(n.href)||(n=Array.from(o.querySelectorAll('head > link[rel="icon"]')).find(u=>!!u.href),n&&await _l(n.href))?n.href:""}catch{return""}}const Py=async()=>({name:Ry(window),icon:await Iy(window)});function wl(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);o&&(u=u.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,u)}return n}function ys(t){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?wl(Object(n),!0).forEach(function(u){ne(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wl(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}const Ty=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],Cy=[xt.SET_PROVIDER],xy=Ey("localStorage");(async function(){try{if(typeof document>"u")return;const o=document.createElement("link"),{torusUrl:n}=await Gl("production");o.href=`${n}/frame`,o.crossOrigin="anonymous",o.type="text/html",o.rel="prefetch",o.relList&&o.relList.supports&&o.relList.supports("prefetch")&&document.head.appendChild(o)}catch(o){qe.warn(o)}})();class Ny{constructor(){let{modalZIndex:o=99999}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ne(this,"isInitialized",void 0),ne(this,"torusAlert",void 0),ne(this,"modalZIndex",void 0),ne(this,"alertZIndex",void 0),ne(this,"requestedLoginProvider",void 0),ne(this,"provider",void 0),ne(this,"communicationProvider",void 0),ne(this,"dappStorageKey",void 0),ne(this,"isTopupHidden",!1),ne(this,"torusAlertContainer",void 0),ne(this,"torusUrl",void 0),ne(this,"torusIframe",void 0),ne(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=o,this.alertZIndex=o+1e3,this.dappStorageKey=""}get isLoggedIn(){return this.communicationProvider?this.communicationProvider.isLoggedIn:!1}async init(){let{buildEnv:o=gy.PRODUCTION,enableLogging:n=!1,network:u,showTorusButton:a=!1,useLocalStorage:c=!1,buttonPosition:_=po.BOTTOM_LEFT,apiKey:b="torus-default",extraParams:P={},whiteLabel:T}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.isInitialized)throw new Error("Already initialized");const{torusUrl:U,logLevel:F}=await Gl(o);qe.enableAll(),qe.info(U,"url loaded"),qe.info(`Solana Embed Version :${dy}`),this.torusUrl=U,qe.setDefaultLevel(F),n?qe.enableAll():qe.disableAll();const M=this.handleDappStorageKey(c),z=new URL(U);z.pathname.endsWith("/")?z.pathname+="frame":z.pathname+="/frame";const H=new URLSearchParams;M&&H.append("dappStorageKey",M),H.append("origin",window.location.origin),z.hash=H.toString(),this.torusIframe=xi(`<iframe
        id="torusIframe"
        class="torusIframe"
        src="${z.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%;
        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()}"
      ></iframe>`),this.torusAlertContainer=xi(`<div id="torusAlertContainer" style="display:none; z-index: ${this.alertZIndex.toString()}"></div>`),this.styleLink=xi(`<link href="${U}/css/widget.css" rel="stylesheet" type="text/css">`);const j=async()=>new Promise((Y,V)=>{try{window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer),this.torusIframe.addEventListener("load",async()=>{const O=await Py();this.torusIframe.contentWindow.postMessage({buttonPosition:_,apiKey:b,network:u,dappMetadata:O,extraParams:P,whiteLabel:T},z.origin),await this._setupWeb3({torusUrl:U}),a&&this.showTorusButton(),T!=null&&T.topupHide?this.isTopupHidden=T.topupHide:this.hideTorusButton(),this.isInitialized=!0,window.torus=this,Y()})}catch(O){V(O)}});await Zl(),await j()}async login(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");try{this.requestedLoginProvider=o.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0});const n=await new Promise((u,a)=>{this.provider._rpcRequest({method:"solana_requestAccounts",params:[this.requestedLoginProvider,o.login_hint]},Os(u,a))});if(Array.isArray(n)&&n.length>0)return n;throw new Error("Login failed")}catch(n){throw qe.error("login failed",n),n}finally{this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe()}}async loginWithPrivateKey(o){if(!this.isInitialized)throw new Error("Call init() first");const{privateKey:n,userInfo:u}=o,{success:a}=await this.communicationProvider.request({method:"login_with_private_key",params:{privateKey:n,userInfo:u}});if(!a)throw new Error("Login Failed")}async logout(){if(!this.communicationProvider.isLoggedIn)throw new Error("Not logged in");await this.communicationProvider.request({method:xt.LOGOUT,params:[]}),this.requestedLoginProvider=null}async cleanUp(){this.communicationProvider.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function o(n){return n instanceof Element||n instanceof Document}o(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),o(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),o(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.communicationProvider.hideTorusButton()}showTorusButton(){this.communicationProvider.showTorusButton()}async setProvider(o){await this.communicationProvider.request({method:xt.SET_PROVIDER,params:ys({},o)})}async showWallet(o){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=await this.communicationProvider.request({method:xt.WALLET_INSTANCE_ID,params:[]}),a=o?`/${o}`:"",c=new URL(`${this.torusUrl}/wallet${a}`);c.searchParams.append("instanceId",u),Object.keys(n).forEach(b=>{c.searchParams.append(b,n[b])}),this.dappStorageKey&&(c.hash=`#dappStorageKey=${this.dappStorageKey}`),new Yl({url:c,features:vo(my)}).open()}async getUserInfo(){return await this.communicationProvider.request({method:xt.USER_INFO,params:[]})}async initiateTopup(o,n){if(!this.isInitialized)throw new Error("Torus is not initialized");const u=Tu();return this.communicationProvider._handleWindow(u),await this.communicationProvider.request({method:xt.TOPUP,params:{provider:o,params:n,windowId:u}})}async getAccounts(){return await this.provider.request({method:"getAccounts",params:[]})}async sendTransaction(o){return await this.provider.request({method:"send_transaction",params:{message:o.serialize({requireAllSignatures:!1}).toString("hex")}})}async signAndSendTransaction(o,n){return{signature:await this.provider.request({method:"send_transaction",params:{message:o.serialize({requireAllSignatures:!1}).toString("hex"),options:n}})}}async signTransaction(o){const n=await this.provider.request({method:"sign_transaction",params:{message:o.serializeMessage().toString("hex"),messageOnly:!0}}),u=JSON.parse(n),a={publicKey:new Gc(u.publicKey),signature:Buffer.from(u.signature,"hex")};return o.addSignature(a.publicKey,a.signature),o}async signAllTransactions(o){const n=o.map(c=>c.serializeMessage().toString("hex")),a=(await this.provider.request({method:"sign_all_transactions",params:{message:n,messageOnly:!0}})).map(c=>{const _=JSON.parse(c);return{publicKey:new Gc(_.publicKey),signature:Buffer.from(_.signature,"hex")}});return o.forEach((c,_)=>(c.addSignature(a[_].publicKey,a[_].signature),c)),o}async signMessage(o){return await this.provider.request({method:"sign_message",params:{data:o}})}async getGaslessPublicKey(){return await this.provider.request({method:"get_gasless_public_key",params:[]})}handleDappStorageKey(o){let n="";if(xy&&o){const u=window.localStorage.getItem(Fu.localStorageKey);if(u)n=u;else{const a=`torus-app-${Tu()}`;window.localStorage.setItem(Fu.localStorageKey,a),n=a}}return this.dappStorageKey=n,n}async _setupWeb3(o){qe.info("setupWeb3 running");const n=new rl({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),u=new rl({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),a=new Xu(n,{}),c=new Ju(u,{});a.tryWindowHandle=(T,U)=>{const F=T;if(!Array.isArray(F)&&Ty.includes(F.method)){if(!this.communicationProvider.isLoggedIn)throw new Error("User Not Logged In");const M=Tu();c._handleWindow(M,{target:"_blank",features:vo(jl)}),F.windowId=M}a._rpcEngine.handle(F,U)},c.tryWindowHandle=(T,U)=>{const F=T;if(!Array.isArray(F)&&Cy.includes(F.method)){const M=Tu();c._handleWindow(M,{target:"_blank",features:vo(yy)}),F.params.windowId=M}c._rpcEngine.handle(F,U)};const _=T=>{const U=a[T],F=this;a[T]=function(z,H){const{method:j,params:Y=[]}=z;if(j==="solana_requestAccounts"){if(!H)return F.login({loginProvider:Y[0]});F.login({loginProvider:Y[0]}).then(V=>H(null,V)).catch(V=>H(V))}return U.apply(this,[z,H])}};_("request"),_("sendAsync"),_("send");const b=new Proxy(a,{deleteProperty:()=>!0}),P=new Proxy(c,{deleteProperty:()=>!0});this.provider=b,this.communicationProvider=P,await Promise.all([a._initializeState(),c._initializeState(ys(ys({},o),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]),qe.debug("Torus - injected provider")}}export{po as BUTTON_POSITION,ws as LOGIN_PROVIDER,By as PAYMENT_PROVIDER,gy as TORUS_BUILD_ENV,Xu as TorusInPageProvider,Ny as default};
